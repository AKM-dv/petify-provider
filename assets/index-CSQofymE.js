(function(){const f=document.createElement("link").relList;if(f&&f.supports&&f.supports("modulepreload"))return;for(const v of document.querySelectorAll('link[rel="modulepreload"]'))u(v);new MutationObserver(v=>{for(const S of v)if(S.type==="childList")for(const O of S.addedNodes)O.tagName==="LINK"&&O.rel==="modulepreload"&&u(O)}).observe(document,{childList:!0,subtree:!0});function j(v){const S={};return v.integrity&&(S.integrity=v.integrity),v.referrerPolicy&&(S.referrerPolicy=v.referrerPolicy),v.crossOrigin==="use-credentials"?S.credentials="include":v.crossOrigin==="anonymous"?S.credentials="omit":S.credentials="same-origin",S}function u(v){if(v.ep)return;v.ep=!0;const S=j(v);fetch(v.href,S)}})();var Hr={exports:{}},es={};var Qf;function Rp(){if(Qf)return es;Qf=1;var r=Symbol.for("react.transitional.element"),f=Symbol.for("react.fragment");function j(u,v,S){var O=null;if(S!==void 0&&(O=""+S),v.key!==void 0&&(O=""+v.key),"key"in v){S={};for(var U in v)U!=="key"&&(S[U]=v[U])}else S=v;return v=S.ref,{$$typeof:r,type:u,key:O,ref:v!==void 0?v:null,props:S}}return es.Fragment=f,es.jsx=j,es.jsxs=j,es}var Xf;function Hp(){return Xf||(Xf=1,Hr.exports=Rp()),Hr.exports}var l=Hp(),Ur={exports:{}},je={};var Jf;function Up(){if(Jf)return je;Jf=1;var r=Symbol.for("react.transitional.element"),f=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),S=Symbol.for("react.consumer"),O=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),N=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),Y=Symbol.iterator;function W(d){return d===null||typeof d!="object"?null:(d=Y&&d[Y]||d["@@iterator"],typeof d=="function"?d:null)}var Q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},J=Object.assign,ae={};function K(d,k,Z){this.props=d,this.context=k,this.refs=ae,this.updater=Z||Q}K.prototype.isReactComponent={},K.prototype.setState=function(d,k){if(typeof d!="object"&&typeof d!="function"&&d!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,d,k,"setState")},K.prototype.forceUpdate=function(d){this.updater.enqueueForceUpdate(this,d,"forceUpdate")};function le(){}le.prototype=K.prototype;function C(d,k,Z){this.props=d,this.context=k,this.refs=ae,this.updater=Z||Q}var $=C.prototype=new le;$.constructor=C,J($,K.prototype),$.isPureReactComponent=!0;var F=Array.isArray;function T(){}var ee={H:null,A:null,T:null,S:null},se=Object.prototype.hasOwnProperty;function oe(d,k,Z){var ne=Z.ref;return{$$typeof:r,type:d,key:k,ref:ne!==void 0?ne:null,props:Z}}function G(d,k){return oe(d.type,k,d.props)}function P(d){return typeof d=="object"&&d!==null&&d.$$typeof===r}function H(d){var k={"=":"=0",":":"=2"};return"$"+d.replace(/[=:]/g,function(Z){return k[Z]})}var re=/\/+/g;function I(d,k){return typeof d=="object"&&d!==null&&d.key!=null?H(""+d.key):k.toString(36)}function B(d){switch(d.status){case"fulfilled":return d.value;case"rejected":throw d.reason;default:switch(typeof d.status=="string"?d.then(T,T):(d.status="pending",d.then(function(k){d.status==="pending"&&(d.status="fulfilled",d.value=k)},function(k){d.status==="pending"&&(d.status="rejected",d.reason=k)})),d.status){case"fulfilled":return d.value;case"rejected":throw d.reason}}throw d}function h(d,k,Z,ne,he){var ye=typeof d;(ye==="undefined"||ye==="boolean")&&(d=null);var be=!1;if(d===null)be=!0;else switch(ye){case"bigint":case"string":case"number":be=!0;break;case"object":switch(d.$$typeof){case r:case f:be=!0;break;case L:return be=d._init,h(be(d._payload),k,Z,ne,he)}}if(be)return he=he(d),be=ne===""?"."+I(d,0):ne,F(he)?(Z="",be!=null&&(Z=be.replace(re,"$&/")+"/"),h(he,k,Z,"",function(Ye){return Ye})):he!=null&&(P(he)&&(he=G(he,Z+(he.key==null||d&&d.key===he.key?"":(""+he.key).replace(re,"$&/")+"/")+be)),k.push(he)),1;be=0;var Xe=ne===""?".":ne+":";if(F(d))for(var te=0;te<d.length;te++)ne=d[te],ye=Xe+I(ne,te),be+=h(ne,k,Z,ye,he);else if(te=W(d),typeof te=="function")for(d=te.call(d),te=0;!(ne=d.next()).done;)ne=ne.value,ye=Xe+I(ne,te++),be+=h(ne,k,Z,ye,he);else if(ye==="object"){if(typeof d.then=="function")return h(B(d),k,Z,ne,he);throw k=String(d),Error("Objects are not valid as a React child (found: "+(k==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":k)+"). If you meant to render a collection of children, use an array instead.")}return be}function y(d,k,Z){if(d==null)return d;var ne=[],he=0;return h(d,ne,"","",function(ye){return k.call(Z,ye,he++)}),ne}function A(d){if(d._status===-1){var k=d._result;k=k(),k.then(function(Z){(d._status===0||d._status===-1)&&(d._status=1,d._result=Z)},function(Z){(d._status===0||d._status===-1)&&(d._status=2,d._result=Z)}),d._status===-1&&(d._status=0,d._result=k)}if(d._status===1)return d._result.default;throw d._result}var ie=typeof reportError=="function"?reportError:function(d){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var k=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof d=="object"&&d!==null&&typeof d.message=="string"?String(d.message):String(d),error:d});if(!window.dispatchEvent(k))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",d);return}console.error(d)},de={map:y,forEach:function(d,k,Z){y(d,function(){k.apply(this,arguments)},Z)},count:function(d){var k=0;return y(d,function(){k++}),k},toArray:function(d){return y(d,function(k){return k})||[]},only:function(d){if(!P(d))throw Error("React.Children.only expected to receive a single React element child.");return d}};return je.Activity=D,je.Children=de,je.Component=K,je.Fragment=j,je.Profiler=v,je.PureComponent=C,je.StrictMode=u,je.Suspense=w,je.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ee,je.__COMPILER_RUNTIME={__proto__:null,c:function(d){return ee.H.useMemoCache(d)}},je.cache=function(d){return function(){return d.apply(null,arguments)}},je.cacheSignal=function(){return null},je.cloneElement=function(d,k,Z){if(d==null)throw Error("The argument must be a React element, but you passed "+d+".");var ne=J({},d.props),he=d.key;if(k!=null)for(ye in k.key!==void 0&&(he=""+k.key),k)!se.call(k,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&k.ref===void 0||(ne[ye]=k[ye]);var ye=arguments.length-2;if(ye===1)ne.children=Z;else if(1<ye){for(var be=Array(ye),Xe=0;Xe<ye;Xe++)be[Xe]=arguments[Xe+2];ne.children=be}return oe(d.type,he,ne)},je.createContext=function(d){return d={$$typeof:O,_currentValue:d,_currentValue2:d,_threadCount:0,Provider:null,Consumer:null},d.Provider=d,d.Consumer={$$typeof:S,_context:d},d},je.createElement=function(d,k,Z){var ne,he={},ye=null;if(k!=null)for(ne in k.key!==void 0&&(ye=""+k.key),k)se.call(k,ne)&&ne!=="key"&&ne!=="__self"&&ne!=="__source"&&(he[ne]=k[ne]);var be=arguments.length-2;if(be===1)he.children=Z;else if(1<be){for(var Xe=Array(be),te=0;te<be;te++)Xe[te]=arguments[te+2];he.children=Xe}if(d&&d.defaultProps)for(ne in be=d.defaultProps,be)he[ne]===void 0&&(he[ne]=be[ne]);return oe(d,ye,he)},je.createRef=function(){return{current:null}},je.forwardRef=function(d){return{$$typeof:U,render:d}},je.isValidElement=P,je.lazy=function(d){return{$$typeof:L,_payload:{_status:-1,_result:d},_init:A}},je.memo=function(d,k){return{$$typeof:N,type:d,compare:k===void 0?null:k}},je.startTransition=function(d){var k=ee.T,Z={};ee.T=Z;try{var ne=d(),he=ee.S;he!==null&&he(Z,ne),typeof ne=="object"&&ne!==null&&typeof ne.then=="function"&&ne.then(T,ie)}catch(ye){ie(ye)}finally{k!==null&&Z.types!==null&&(k.types=Z.types),ee.T=k}},je.unstable_useCacheRefresh=function(){return ee.H.useCacheRefresh()},je.use=function(d){return ee.H.use(d)},je.useActionState=function(d,k,Z){return ee.H.useActionState(d,k,Z)},je.useCallback=function(d,k){return ee.H.useCallback(d,k)},je.useContext=function(d){return ee.H.useContext(d)},je.useDebugValue=function(){},je.useDeferredValue=function(d,k){return ee.H.useDeferredValue(d,k)},je.useEffect=function(d,k){return ee.H.useEffect(d,k)},je.useEffectEvent=function(d){return ee.H.useEffectEvent(d)},je.useId=function(){return ee.H.useId()},je.useImperativeHandle=function(d,k,Z){return ee.H.useImperativeHandle(d,k,Z)},je.useInsertionEffect=function(d,k){return ee.H.useInsertionEffect(d,k)},je.useLayoutEffect=function(d,k){return ee.H.useLayoutEffect(d,k)},je.useMemo=function(d,k){return ee.H.useMemo(d,k)},je.useOptimistic=function(d,k){return ee.H.useOptimistic(d,k)},je.useReducer=function(d,k,Z){return ee.H.useReducer(d,k,Z)},je.useRef=function(d){return ee.H.useRef(d)},je.useState=function(d){return ee.H.useState(d)},je.useSyncExternalStore=function(d,k,Z){return ee.H.useSyncExternalStore(d,k,Z)},je.useTransition=function(){return ee.H.useTransition()},je.version="19.2.0",je}var $f;function Ir(){return $f||($f=1,Ur.exports=Up()),Ur.exports}var g=Ir(),qr={exports:{}},ts={},Gr={exports:{}},Yr={};var Ff;function qp(){return Ff||(Ff=1,(function(r){function f(h,y){var A=h.length;h.push(y);e:for(;0<A;){var ie=A-1>>>1,de=h[ie];if(0<v(de,y))h[ie]=y,h[A]=de,A=ie;else break e}}function j(h){return h.length===0?null:h[0]}function u(h){if(h.length===0)return null;var y=h[0],A=h.pop();if(A!==y){h[0]=A;e:for(var ie=0,de=h.length,d=de>>>1;ie<d;){var k=2*(ie+1)-1,Z=h[k],ne=k+1,he=h[ne];if(0>v(Z,A))ne<de&&0>v(he,Z)?(h[ie]=he,h[ne]=A,ie=ne):(h[ie]=Z,h[k]=A,ie=k);else if(ne<de&&0>v(he,A))h[ie]=he,h[ne]=A,ie=ne;else break e}}return y}function v(h,y){var A=h.sortIndex-y.sortIndex;return A!==0?A:h.id-y.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var S=performance;r.unstable_now=function(){return S.now()}}else{var O=Date,U=O.now();r.unstable_now=function(){return O.now()-U}}var w=[],N=[],L=1,D=null,Y=3,W=!1,Q=!1,J=!1,ae=!1,K=typeof setTimeout=="function"?setTimeout:null,le=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function $(h){for(var y=j(N);y!==null;){if(y.callback===null)u(N);else if(y.startTime<=h)u(N),y.sortIndex=y.expirationTime,f(w,y);else break;y=j(N)}}function F(h){if(J=!1,$(h),!Q)if(j(w)!==null)Q=!0,T||(T=!0,H());else{var y=j(N);y!==null&&B(F,y.startTime-h)}}var T=!1,ee=-1,se=5,oe=-1;function G(){return ae?!0:!(r.unstable_now()-oe<se)}function P(){if(ae=!1,T){var h=r.unstable_now();oe=h;var y=!0;try{e:{Q=!1,J&&(J=!1,le(ee),ee=-1),W=!0;var A=Y;try{t:{for($(h),D=j(w);D!==null&&!(D.expirationTime>h&&G());){var ie=D.callback;if(typeof ie=="function"){D.callback=null,Y=D.priorityLevel;var de=ie(D.expirationTime<=h);if(h=r.unstable_now(),typeof de=="function"){D.callback=de,$(h),y=!0;break t}D===j(w)&&u(w),$(h)}else u(w);D=j(w)}if(D!==null)y=!0;else{var d=j(N);d!==null&&B(F,d.startTime-h),y=!1}}break e}finally{D=null,Y=A,W=!1}y=void 0}}finally{y?H():T=!1}}}var H;if(typeof C=="function")H=function(){C(P)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,I=re.port2;re.port1.onmessage=P,H=function(){I.postMessage(null)}}else H=function(){K(P,0)};function B(h,y){ee=K(function(){h(r.unstable_now())},y)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(h){h.callback=null},r.unstable_forceFrameRate=function(h){0>h||125<h?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):se=0<h?Math.floor(1e3/h):5},r.unstable_getCurrentPriorityLevel=function(){return Y},r.unstable_next=function(h){switch(Y){case 1:case 2:case 3:var y=3;break;default:y=Y}var A=Y;Y=y;try{return h()}finally{Y=A}},r.unstable_requestPaint=function(){ae=!0},r.unstable_runWithPriority=function(h,y){switch(h){case 1:case 2:case 3:case 4:case 5:break;default:h=3}var A=Y;Y=h;try{return y()}finally{Y=A}},r.unstable_scheduleCallback=function(h,y,A){var ie=r.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?ie+A:ie):A=ie,h){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=A+de,h={id:L++,callback:y,priorityLevel:h,startTime:A,expirationTime:de,sortIndex:-1},A>ie?(h.sortIndex=A,f(N,h),j(w)===null&&h===j(N)&&(J?(le(ee),ee=-1):J=!0,B(F,A-ie))):(h.sortIndex=de,f(w,h),Q||W||(Q=!0,T||(T=!0,H()))),h},r.unstable_shouldYield=G,r.unstable_wrapCallback=function(h){var y=Y;return function(){var A=Y;Y=y;try{return h.apply(this,arguments)}finally{Y=A}}}})(Yr)),Yr}var Wf;function Gp(){return Wf||(Wf=1,Gr.exports=qp()),Gr.exports}var Vr={exports:{}},vt={};var Pf;function Yp(){if(Pf)return vt;Pf=1;var r=Ir();function f(w){var N="https://react.dev/errors/"+w;if(1<arguments.length){N+="?args[]="+encodeURIComponent(arguments[1]);for(var L=2;L<arguments.length;L++)N+="&args[]="+encodeURIComponent(arguments[L])}return"Minified React error #"+w+"; visit "+N+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function j(){}var u={d:{f:j,r:function(){throw Error(f(522))},D:j,C:j,L:j,m:j,X:j,S:j,M:j},p:0,findDOMNode:null},v=Symbol.for("react.portal");function S(w,N,L){var D=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:v,key:D==null?null:""+D,children:w,containerInfo:N,implementation:L}}var O=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function U(w,N){if(w==="font")return"";if(typeof N=="string")return N==="use-credentials"?N:""}return vt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=u,vt.createPortal=function(w,N){var L=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!N||N.nodeType!==1&&N.nodeType!==9&&N.nodeType!==11)throw Error(f(299));return S(w,N,null,L)},vt.flushSync=function(w){var N=O.T,L=u.p;try{if(O.T=null,u.p=2,w)return w()}finally{O.T=N,u.p=L,u.d.f()}},vt.preconnect=function(w,N){typeof w=="string"&&(N?(N=N.crossOrigin,N=typeof N=="string"?N==="use-credentials"?N:"":void 0):N=null,u.d.C(w,N))},vt.prefetchDNS=function(w){typeof w=="string"&&u.d.D(w)},vt.preinit=function(w,N){if(typeof w=="string"&&N&&typeof N.as=="string"){var L=N.as,D=U(L,N.crossOrigin),Y=typeof N.integrity=="string"?N.integrity:void 0,W=typeof N.fetchPriority=="string"?N.fetchPriority:void 0;L==="style"?u.d.S(w,typeof N.precedence=="string"?N.precedence:void 0,{crossOrigin:D,integrity:Y,fetchPriority:W}):L==="script"&&u.d.X(w,{crossOrigin:D,integrity:Y,fetchPriority:W,nonce:typeof N.nonce=="string"?N.nonce:void 0})}},vt.preinitModule=function(w,N){if(typeof w=="string")if(typeof N=="object"&&N!==null){if(N.as==null||N.as==="script"){var L=U(N.as,N.crossOrigin);u.d.M(w,{crossOrigin:L,integrity:typeof N.integrity=="string"?N.integrity:void 0,nonce:typeof N.nonce=="string"?N.nonce:void 0})}}else N==null&&u.d.M(w)},vt.preload=function(w,N){if(typeof w=="string"&&typeof N=="object"&&N!==null&&typeof N.as=="string"){var L=N.as,D=U(L,N.crossOrigin);u.d.L(w,L,{crossOrigin:D,integrity:typeof N.integrity=="string"?N.integrity:void 0,nonce:typeof N.nonce=="string"?N.nonce:void 0,type:typeof N.type=="string"?N.type:void 0,fetchPriority:typeof N.fetchPriority=="string"?N.fetchPriority:void 0,referrerPolicy:typeof N.referrerPolicy=="string"?N.referrerPolicy:void 0,imageSrcSet:typeof N.imageSrcSet=="string"?N.imageSrcSet:void 0,imageSizes:typeof N.imageSizes=="string"?N.imageSizes:void 0,media:typeof N.media=="string"?N.media:void 0})}},vt.preloadModule=function(w,N){if(typeof w=="string")if(N){var L=U(N.as,N.crossOrigin);u.d.m(w,{as:typeof N.as=="string"&&N.as!=="script"?N.as:void 0,crossOrigin:L,integrity:typeof N.integrity=="string"?N.integrity:void 0})}else u.d.m(w)},vt.requestFormReset=function(w){u.d.r(w)},vt.unstable_batchedUpdates=function(w,N){return w(N)},vt.useFormState=function(w,N,L){return O.H.useFormState(w,N,L)},vt.useFormStatus=function(){return O.H.useHostTransitionStatus()},vt.version="19.2.0",vt}var If;function Vp(){if(If)return Vr.exports;If=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(f){console.error(f)}}return r(),Vr.exports=Yp(),Vr.exports}var eh;function Kp(){if(eh)return ts;eh=1;var r=Gp(),f=Ir(),j=Vp();function u(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function v(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function S(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function O(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function U(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function w(e){if(S(e)!==e)throw Error(u(188))}function N(e){var t=e.alternate;if(!t){if(t=S(e),t===null)throw Error(u(188));return t!==e?null:e}for(var a=e,n=t;;){var s=a.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){a=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===a)return w(s),e;if(i===n)return w(s),t;i=i.sibling}throw Error(u(188))}if(a.return!==n.return)a=s,n=i;else{for(var c=!1,o=s.child;o;){if(o===a){c=!0,a=s,n=i;break}if(o===n){c=!0,n=s,a=i;break}o=o.sibling}if(!c){for(o=i.child;o;){if(o===a){c=!0,a=i,n=s;break}if(o===n){c=!0,n=i,a=s;break}o=o.sibling}if(!c)throw Error(u(189))}}if(a.alternate!==n)throw Error(u(190))}if(a.tag!==3)throw Error(u(188));return a.stateNode.current===a?e:t}function L(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=L(e),t!==null)return t;e=e.sibling}return null}var D=Object.assign,Y=Symbol.for("react.element"),W=Symbol.for("react.transitional.element"),Q=Symbol.for("react.portal"),J=Symbol.for("react.fragment"),ae=Symbol.for("react.strict_mode"),K=Symbol.for("react.profiler"),le=Symbol.for("react.consumer"),C=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),ee=Symbol.for("react.memo"),se=Symbol.for("react.lazy"),oe=Symbol.for("react.activity"),G=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function H(e){return e===null||typeof e!="object"?null:(e=P&&e[P]||e["@@iterator"],typeof e=="function"?e:null)}var re=Symbol.for("react.client.reference");function I(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===re?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case J:return"Fragment";case K:return"Profiler";case ae:return"StrictMode";case F:return"Suspense";case T:return"SuspenseList";case oe:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Q:return"Portal";case C:return e.displayName||"Context";case le:return(e._context.displayName||"Context")+".Consumer";case $:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ee:return t=e.displayName||null,t!==null?t:I(e.type)||"Memo";case se:t=e._payload,e=e._init;try{return I(e(t))}catch{}}return null}var B=Array.isArray,h=f.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,y=j.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,A={pending:!1,data:null,method:null,action:null},ie=[],de=-1;function d(e){return{current:e}}function k(e){0>de||(e.current=ie[de],ie[de]=null,de--)}function Z(e,t){de++,ie[de]=e.current,e.current=t}var ne=d(null),he=d(null),ye=d(null),be=d(null);function Xe(e,t){switch(Z(ye,t),Z(he,e),Z(ne,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?pf(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=pf(t),e=gf(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}k(ne),Z(ne,e)}function te(){k(ne),k(he),k(ye)}function Ye(e){e.memoizedState!==null&&Z(be,e);var t=ne.current,a=gf(t,e.type);t!==a&&(Z(he,e),Z(ne,a))}function qe(e){he.current===e&&(k(ne),k(he)),be.current===e&&(k(be),Fl._currentValue=A)}var yt,dt;function xt(e){if(yt===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);yt=t&&t[1]||"",dt=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+yt+e+dt}var xe=!1;function ze(e,t){if(!e||xe)return"";xe=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(t){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(R){var z=R}Reflect.construct(e,[],X)}else{try{X.call()}catch(R){z=R}e.call(X.prototype)}}else{try{throw Error()}catch(R){z=R}(X=e())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(R){if(R&&z&&typeof R.stack=="string")return[R.stack,z.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=n.DetermineComponentFrameRoot(),c=i[0],o=i[1];if(c&&o){var p=c.split(`
`),M=o.split(`
`);for(s=n=0;n<p.length&&!p[n].includes("DetermineComponentFrameRoot");)n++;for(;s<M.length&&!M[s].includes("DetermineComponentFrameRoot");)s++;if(n===p.length||s===M.length)for(n=p.length-1,s=M.length-1;1<=n&&0<=s&&p[n]!==M[s];)s--;for(;1<=n&&0<=s;n--,s--)if(p[n]!==M[s]){if(n!==1||s!==1)do if(n--,s--,0>s||p[n]!==M[s]){var q=`
`+p[n].replace(" at new "," at ");return e.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",e.displayName)),q}while(1<=n&&0<=s);break}}}finally{xe=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?xt(a):""}function gt(e,t){switch(e.tag){case 26:case 27:case 5:return xt(e.type);case 16:return xt("Lazy");case 13:return e.child!==t&&t!==null?xt("Suspense Fallback"):xt("Suspense");case 19:return xt("SuspenseList");case 0:case 15:return ze(e.type,!1);case 11:return ze(e.type.render,!1);case 1:return ze(e.type,!0);case 31:return xt("Activity");default:return""}}function ns(e){try{var t="",a=null;do t+=gt(e,a),a=e,e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}var Pa=Object.prototype.hasOwnProperty,ll=r.unstable_scheduleCallback,yn=r.unstable_cancelCallback,ls=r.unstable_shouldYield,ss=r.unstable_requestPaint,jt=r.unstable_now,wi=r.unstable_getCurrentPriorityLevel,sl=r.unstable_ImmediatePriority,il=r.unstable_UserBlockingPriority,xn=r.unstable_NormalPriority,Ci=r.unstable_LowPriority,cl=r.unstable_IdlePriority,is=r.log,Ti=r.unstable_setDisableYieldValue,Ia=null,Nt=null;function Ut(e){if(typeof is=="function"&&Ti(e),Nt&&typeof Nt.setStrictMode=="function")try{Nt.setStrictMode(Ia,e)}catch{}}var St=Math.clz32?Math.clz32:ol,rl=Math.log,Ai=Math.LN2;function ol(e){return e>>>=0,e===0?32:31-(rl(e)/Ai|0)|0}var m=256,ue=262144,ce=4194304;function Pe(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Je(e,t,a){var n=e.pendingLanes;if(n===0)return 0;var s=0,i=e.suspendedLanes,c=e.pingedLanes;e=e.warmLanes;var o=n&134217727;return o!==0?(n=o&~i,n!==0?s=Pe(n):(c&=o,c!==0?s=Pe(c):a||(a=o&~e,a!==0&&(s=Pe(a))))):(o=n&~i,o!==0?s=Pe(o):c!==0?s=Pe(c):a||(a=n&~e,a!==0&&(s=Pe(a)))),s===0?0:t!==0&&t!==s&&(t&i)===0&&(i=s&-s,a=t&-t,i>=a||i===32&&(a&4194048)!==0)?t:s}function Ze(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function ra(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qt(){var e=ce;return ce<<=1,(ce&62914560)===0&&(ce=4194304),e}function cs(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function _(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ge(e,t,a,n,s,i){var c=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var o=e.entanglements,p=e.expirationTimes,M=e.hiddenUpdates;for(a=c&~a;0<a;){var q=31-St(a),X=1<<q;o[q]=0,p[q]=-1;var z=M[q];if(z!==null)for(M[q]=null,q=0;q<z.length;q++){var R=z[q];R!==null&&(R.lane&=-536870913)}a&=~X}n!==0&&Le(e,n,0),i!==0&&s===0&&e.tag!==0&&(e.suspendedLanes|=i&~(c&~t))}function Le(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var n=31-St(t);e.entangledLanes|=t,e.entanglements[n]=e.entanglements[n]|1073741824|a&261930}function Pt(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var n=31-St(a),s=1<<n;s&t|e[n]&t&&(e[n]|=t),a&=~s}}function $e(e,t){var a=t&-t;return a=(a&42)!==0?1:Ee(a),(a&(e.suspendedLanes|t))!==0?0:a}function Ee(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function _t(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ul(){var e=y.p;return e!==0?e:(e=window.event,e===void 0?32:Uf(e.type))}function jn(e,t){var a=y.p;try{return y.p=e,t()}finally{y.p=a}}var It=Math.random().toString(36).slice(2),tt="__reactFiber$"+It,at="__reactProps$"+It,oa="__reactContainer$"+It,Ei="__reactEvents$"+It,Ch="__reactListeners$"+It,Th="__reactHandles$"+It,eo="__reactResources$"+It,dl="__reactMarker$"+It;function Mi(e){delete e[tt],delete e[at],delete e[Ei],delete e[Ch],delete e[Th]}function Nn(e){var t=e[tt];if(t)return t;for(var a=e.parentNode;a;){if(t=a[oa]||a[tt]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=bf(e);e!==null;){if(a=e[tt])return a;e=bf(e)}return t}e=a,a=e.parentNode}return null}function Sn(e){if(e=e[tt]||e[oa]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function fl(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(u(33))}function bn(e){var t=e[eo];return t||(t=e[eo]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function ot(e){e[dl]=!0}var to=new Set,ao={};function en(e,t){_n(e,t),_n(e+"Capture",t)}function _n(e,t){for(ao[e]=t,e=0;e<t.length;e++)to.add(t[e])}var Ah=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),no={},lo={};function Eh(e){return Pa.call(lo,e)?!0:Pa.call(no,e)?!1:Ah.test(e)?lo[e]=!0:(no[e]=!0,!1)}function rs(e,t,a){if(Eh(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var n=t.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function os(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function ua(e,t,a,n){if(n===null)e.removeAttribute(a);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+n)}}function Gt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function so(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Mh(e,t,a){var n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(c){a=""+c,i.call(this,c)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(c){a=""+c},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ki(e){if(!e._valueTracker){var t=so(e)?"checked":"value";e._valueTracker=Mh(e,t,""+e[t])}}function io(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),n="";return e&&(n=so(e)?e.checked?"true":"false":e.value),e=n,e!==a?(t.setValue(e),!0):!1}function us(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var kh=/[\n"\\]/g;function Yt(e){return e.replace(kh,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function zi(e,t,a,n,s,i,c,o){e.name="",c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"?e.type=c:e.removeAttribute("type"),t!=null?c==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Gt(t)):e.value!==""+Gt(t)&&(e.value=""+Gt(t)):c!=="submit"&&c!=="reset"||e.removeAttribute("value"),t!=null?Di(e,c,Gt(t)):a!=null?Di(e,c,Gt(a)):n!=null&&e.removeAttribute("value"),s==null&&i!=null&&(e.defaultChecked=!!i),s!=null&&(e.checked=s&&typeof s!="function"&&typeof s!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.name=""+Gt(o):e.removeAttribute("name")}function co(e,t,a,n,s,i,c,o){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.type=i),t!=null||a!=null){if(!(i!=="submit"&&i!=="reset"||t!=null)){ki(e);return}a=a!=null?""+Gt(a):"",t=t!=null?""+Gt(t):a,o||t===e.value||(e.value=t),e.defaultValue=t}n=n??s,n=typeof n!="function"&&typeof n!="symbol"&&!!n,e.checked=o?e.checked:!!n,e.defaultChecked=!!n,c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"&&(e.name=c),ki(e)}function Di(e,t,a){t==="number"&&us(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function wn(e,t,a,n){if(e=e.options,t){t={};for(var s=0;s<a.length;s++)t["$"+a[s]]=!0;for(a=0;a<e.length;a++)s=t.hasOwnProperty("$"+e[a].value),e[a].selected!==s&&(e[a].selected=s),s&&n&&(e[a].defaultSelected=!0)}else{for(a=""+Gt(a),t=null,s=0;s<e.length;s++){if(e[s].value===a){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function ro(e,t,a){if(t!=null&&(t=""+Gt(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+Gt(a):""}function oo(e,t,a,n){if(t==null){if(n!=null){if(a!=null)throw Error(u(92));if(B(n)){if(1<n.length)throw Error(u(93));n=n[0]}a=n}a==null&&(a=""),t=a}a=Gt(t),e.defaultValue=a,n=e.textContent,n===a&&n!==""&&n!==null&&(e.value=n),ki(e)}function Cn(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var zh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function uo(e,t,a){var n=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?n?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":n?e.setProperty(t,a):typeof a!="number"||a===0||zh.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function fo(e,t,a){if(t!=null&&typeof t!="object")throw Error(u(62));if(e=e.style,a!=null){for(var n in a)!a.hasOwnProperty(n)||t!=null&&t.hasOwnProperty(n)||(n.indexOf("--")===0?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="");for(var s in t)n=t[s],t.hasOwnProperty(s)&&a[s]!==n&&uo(e,s,n)}else for(var i in t)t.hasOwnProperty(i)&&uo(e,i,t[i])}function Li(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Lh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ds(e){return Lh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function da(){}var Bi=null;function Oi(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Tn=null,An=null;function ho(e){var t=Sn(e);if(t&&(e=t.stateNode)){var a=e[at]||null;e:switch(e=t.stateNode,t.type){case"input":if(zi(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Yt(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var n=a[t];if(n!==e&&n.form===e.form){var s=n[at]||null;if(!s)throw Error(u(90));zi(n,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(t=0;t<a.length;t++)n=a[t],n.form===e.form&&io(n)}break e;case"textarea":ro(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&wn(e,!!a.multiple,t,!1)}}}var Ri=!1;function mo(e,t,a){if(Ri)return e(t,a);Ri=!0;try{var n=e(t);return n}finally{if(Ri=!1,(Tn!==null||An!==null)&&(Ps(),Tn&&(t=Tn,e=An,An=Tn=null,ho(t),e)))for(t=0;t<e.length;t++)ho(e[t])}}function hl(e,t){var a=e.stateNode;if(a===null)return null;var n=a[at]||null;if(n===null)return null;a=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(u(231,t,typeof a));return a}var fa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hi=!1;if(fa)try{var ml={};Object.defineProperty(ml,"passive",{get:function(){Hi=!0}}),window.addEventListener("test",ml,ml),window.removeEventListener("test",ml,ml)}catch{Hi=!1}var Ea=null,Ui=null,fs=null;function po(){if(fs)return fs;var e,t=Ui,a=t.length,n,s="value"in Ea?Ea.value:Ea.textContent,i=s.length;for(e=0;e<a&&t[e]===s[e];e++);var c=a-e;for(n=1;n<=c&&t[a-n]===s[i-n];n++);return fs=s.slice(e,1<n?1-n:void 0)}function hs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ms(){return!0}function go(){return!1}function wt(e){function t(a,n,s,i,c){this._reactName=a,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=c,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(a=e[o],this[o]=a?a(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ms:go,this.isPropagationStopped=go,this}return D(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ms)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ms)},persist:function(){},isPersistent:ms}),t}var tn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ps=wt(tn),pl=D({},tn,{view:0,detail:0}),Bh=wt(pl),qi,Gi,gl,gs=D({},pl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vi,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==gl&&(gl&&e.type==="mousemove"?(qi=e.screenX-gl.screenX,Gi=e.screenY-gl.screenY):Gi=qi=0,gl=e),qi)},movementY:function(e){return"movementY"in e?e.movementY:Gi}}),vo=wt(gs),Oh=D({},gs,{dataTransfer:0}),Rh=wt(Oh),Hh=D({},pl,{relatedTarget:0}),Yi=wt(Hh),Uh=D({},tn,{animationName:0,elapsedTime:0,pseudoElement:0}),qh=wt(Uh),Gh=D({},tn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Yh=wt(Gh),Vh=D({},tn,{data:0}),yo=wt(Vh),Kh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xh(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Qh[e])?!!t[e]:!1}function Vi(){return Xh}var Jh=D({},pl,{key:function(e){if(e.key){var t=Kh[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=hs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Zh[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vi,charCode:function(e){return e.type==="keypress"?hs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?hs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),$h=wt(Jh),Fh=D({},gs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xo=wt(Fh),Wh=D({},pl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vi}),Ph=wt(Wh),Ih=D({},tn,{propertyName:0,elapsedTime:0,pseudoElement:0}),em=wt(Ih),tm=D({},gs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),am=wt(tm),nm=D({},tn,{newState:0,oldState:0}),lm=wt(nm),sm=[9,13,27,32],Ki=fa&&"CompositionEvent"in window,vl=null;fa&&"documentMode"in document&&(vl=document.documentMode);var im=fa&&"TextEvent"in window&&!vl,jo=fa&&(!Ki||vl&&8<vl&&11>=vl),No=" ",So=!1;function bo(e,t){switch(e){case"keyup":return sm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _o(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var En=!1;function cm(e,t){switch(e){case"compositionend":return _o(t);case"keypress":return t.which!==32?null:(So=!0,No);case"textInput":return e=t.data,e===No&&So?null:e;default:return null}}function rm(e,t){if(En)return e==="compositionend"||!Ki&&bo(e,t)?(e=po(),fs=Ui=Ea=null,En=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jo&&t.locale!=="ko"?null:t.data;default:return null}}var om={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!om[e.type]:t==="textarea"}function Co(e,t,a,n){Tn?An?An.push(n):An=[n]:Tn=n,t=si(t,"onChange"),0<t.length&&(a=new ps("onChange","change",null,a,n),e.push({event:a,listeners:t}))}var yl=null,xl=null;function um(e){of(e,0)}function vs(e){var t=fl(e);if(io(t))return e}function To(e,t){if(e==="change")return t}var Ao=!1;if(fa){var Zi;if(fa){var Qi="oninput"in document;if(!Qi){var Eo=document.createElement("div");Eo.setAttribute("oninput","return;"),Qi=typeof Eo.oninput=="function"}Zi=Qi}else Zi=!1;Ao=Zi&&(!document.documentMode||9<document.documentMode)}function Mo(){yl&&(yl.detachEvent("onpropertychange",ko),xl=yl=null)}function ko(e){if(e.propertyName==="value"&&vs(xl)){var t=[];Co(t,xl,e,Oi(e)),mo(um,t)}}function dm(e,t,a){e==="focusin"?(Mo(),yl=t,xl=a,yl.attachEvent("onpropertychange",ko)):e==="focusout"&&Mo()}function fm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return vs(xl)}function hm(e,t){if(e==="click")return vs(t)}function mm(e,t){if(e==="input"||e==="change")return vs(t)}function pm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var zt=typeof Object.is=="function"?Object.is:pm;function jl(e,t){if(zt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),n=Object.keys(t);if(a.length!==n.length)return!1;for(n=0;n<a.length;n++){var s=a[n];if(!Pa.call(t,s)||!zt(e[s],t[s]))return!1}return!0}function zo(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Do(e,t){var a=zo(e);e=0;for(var n;a;){if(a.nodeType===3){if(n=e+a.textContent.length,e<=t&&n>=t)return{node:a,offset:t-e};e=n}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=zo(a)}}function Lo(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Lo(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Bo(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=us(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=us(e.document)}return t}function Xi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var gm=fa&&"documentMode"in document&&11>=document.documentMode,Mn=null,Ji=null,Nl=null,$i=!1;function Oo(e,t,a){var n=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;$i||Mn==null||Mn!==us(n)||(n=Mn,"selectionStart"in n&&Xi(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Nl&&jl(Nl,n)||(Nl=n,n=si(Ji,"onSelect"),0<n.length&&(t=new ps("onSelect","select",null,t,a),e.push({event:t,listeners:n}),t.target=Mn)))}function an(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var kn={animationend:an("Animation","AnimationEnd"),animationiteration:an("Animation","AnimationIteration"),animationstart:an("Animation","AnimationStart"),transitionrun:an("Transition","TransitionRun"),transitionstart:an("Transition","TransitionStart"),transitioncancel:an("Transition","TransitionCancel"),transitionend:an("Transition","TransitionEnd")},Fi={},Ro={};fa&&(Ro=document.createElement("div").style,"AnimationEvent"in window||(delete kn.animationend.animation,delete kn.animationiteration.animation,delete kn.animationstart.animation),"TransitionEvent"in window||delete kn.transitionend.transition);function nn(e){if(Fi[e])return Fi[e];if(!kn[e])return e;var t=kn[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in Ro)return Fi[e]=t[a];return e}var Ho=nn("animationend"),Uo=nn("animationiteration"),qo=nn("animationstart"),vm=nn("transitionrun"),ym=nn("transitionstart"),xm=nn("transitioncancel"),Go=nn("transitionend"),Yo=new Map,Wi="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Wi.push("scrollEnd");function ea(e,t){Yo.set(e,t),en(t,[e])}var ys=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Vt=[],zn=0,Pi=0;function xs(){for(var e=zn,t=Pi=zn=0;t<e;){var a=Vt[t];Vt[t++]=null;var n=Vt[t];Vt[t++]=null;var s=Vt[t];Vt[t++]=null;var i=Vt[t];if(Vt[t++]=null,n!==null&&s!==null){var c=n.pending;c===null?s.next=s:(s.next=c.next,c.next=s),n.pending=s}i!==0&&Vo(a,s,i)}}function js(e,t,a,n){Vt[zn++]=e,Vt[zn++]=t,Vt[zn++]=a,Vt[zn++]=n,Pi|=n,e.lanes|=n,e=e.alternate,e!==null&&(e.lanes|=n)}function Ii(e,t,a,n){return js(e,t,a,n),Ns(e)}function ln(e,t){return js(e,null,null,t),Ns(e)}function Vo(e,t,a){e.lanes|=a;var n=e.alternate;n!==null&&(n.lanes|=a);for(var s=!1,i=e.return;i!==null;)i.childLanes|=a,n=i.alternate,n!==null&&(n.childLanes|=a),i.tag===22&&(e=i.stateNode,e===null||e._visibility&1||(s=!0)),e=i,i=i.return;return e.tag===3?(i=e.stateNode,s&&t!==null&&(s=31-St(a),e=i.hiddenUpdates,n=e[s],n===null?e[s]=[t]:n.push(t),t.lane=a|536870912),i):null}function Ns(e){if(50<Vl)throw Vl=0,rr=null,Error(u(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Dn={};function jm(e,t,a,n){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dt(e,t,a,n){return new jm(e,t,a,n)}function ec(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ha(e,t){var a=e.alternate;return a===null?(a=Dt(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Ko(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ss(e,t,a,n,s,i){var c=0;if(n=e,typeof e=="function")ec(e)&&(c=1);else if(typeof e=="string")c=wp(e,a,ne.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case oe:return e=Dt(31,a,t,s),e.elementType=oe,e.lanes=i,e;case J:return sn(a.children,s,i,t);case ae:c=8,s|=24;break;case K:return e=Dt(12,a,t,s|2),e.elementType=K,e.lanes=i,e;case F:return e=Dt(13,a,t,s),e.elementType=F,e.lanes=i,e;case T:return e=Dt(19,a,t,s),e.elementType=T,e.lanes=i,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case C:c=10;break e;case le:c=9;break e;case $:c=11;break e;case ee:c=14;break e;case se:c=16,n=null;break e}c=29,a=Error(u(130,e===null?"null":typeof e,"")),n=null}return t=Dt(c,a,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function sn(e,t,a,n){return e=Dt(7,e,n,t),e.lanes=a,e}function tc(e,t,a){return e=Dt(6,e,null,t),e.lanes=a,e}function Zo(e){var t=Dt(18,null,null,0);return t.stateNode=e,t}function ac(e,t,a){return t=Dt(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Qo=new WeakMap;function Kt(e,t){if(typeof e=="object"&&e!==null){var a=Qo.get(e);return a!==void 0?a:(t={value:e,source:t,stack:ns(t)},Qo.set(e,t),t)}return{value:e,source:t,stack:ns(t)}}var Ln=[],Bn=0,bs=null,Sl=0,Zt=[],Qt=0,Ma=null,na=1,la="";function ma(e,t){Ln[Bn++]=Sl,Ln[Bn++]=bs,bs=e,Sl=t}function Xo(e,t,a){Zt[Qt++]=na,Zt[Qt++]=la,Zt[Qt++]=Ma,Ma=e;var n=na;e=la;var s=32-St(n)-1;n&=~(1<<s),a+=1;var i=32-St(t)+s;if(30<i){var c=s-s%5;i=(n&(1<<c)-1).toString(32),n>>=c,s-=c,na=1<<32-St(t)+s|a<<s|n,la=i+e}else na=1<<i|a<<s|n,la=e}function nc(e){e.return!==null&&(ma(e,1),Xo(e,1,0))}function lc(e){for(;e===bs;)bs=Ln[--Bn],Ln[Bn]=null,Sl=Ln[--Bn],Ln[Bn]=null;for(;e===Ma;)Ma=Zt[--Qt],Zt[Qt]=null,la=Zt[--Qt],Zt[Qt]=null,na=Zt[--Qt],Zt[Qt]=null}function Jo(e,t){Zt[Qt++]=na,Zt[Qt++]=la,Zt[Qt++]=Ma,na=t.id,la=t.overflow,Ma=e}var ft=null,Ve=null,Ae=!1,ka=null,Xt=!1,sc=Error(u(519));function za(e){var t=Error(u(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw bl(Kt(t,e)),sc}function $o(e){var t=e.stateNode,a=e.type,n=e.memoizedProps;switch(t[tt]=e,t[at]=n,a){case"dialog":we("cancel",t),we("close",t);break;case"iframe":case"object":case"embed":we("load",t);break;case"video":case"audio":for(a=0;a<Zl.length;a++)we(Zl[a],t);break;case"source":we("error",t);break;case"img":case"image":case"link":we("error",t),we("load",t);break;case"details":we("toggle",t);break;case"input":we("invalid",t),co(t,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0);break;case"select":we("invalid",t);break;case"textarea":we("invalid",t),oo(t,n.value,n.defaultValue,n.children)}a=n.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||n.suppressHydrationWarning===!0||hf(t.textContent,a)?(n.popover!=null&&(we("beforetoggle",t),we("toggle",t)),n.onScroll!=null&&we("scroll",t),n.onScrollEnd!=null&&we("scrollend",t),n.onClick!=null&&(t.onclick=da),t=!0):t=!1,t||za(e,!0)}function Fo(e){for(ft=e.return;ft;)switch(ft.tag){case 5:case 31:case 13:Xt=!1;return;case 27:case 3:Xt=!0;return;default:ft=ft.return}}function On(e){if(e!==ft)return!1;if(!Ae)return Fo(e),Ae=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||br(e.type,e.memoizedProps)),a=!a),a&&Ve&&za(e),Fo(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(u(317));Ve=Sf(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(u(317));Ve=Sf(e)}else t===27?(t=Ve,Qa(e.type)?(e=Ar,Ar=null,Ve=e):Ve=t):Ve=ft?$t(e.stateNode.nextSibling):null;return!0}function cn(){Ve=ft=null,Ae=!1}function ic(){var e=ka;return e!==null&&(Et===null?Et=e:Et.push.apply(Et,e),ka=null),e}function bl(e){ka===null?ka=[e]:ka.push(e)}var cc=d(null),rn=null,pa=null;function Da(e,t,a){Z(cc,t._currentValue),t._currentValue=a}function ga(e){e._currentValue=cc.current,k(cc)}function rc(e,t,a){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===a)break;e=e.return}}function oc(e,t,a,n){var s=e.child;for(s!==null&&(s.return=e);s!==null;){var i=s.dependencies;if(i!==null){var c=s.child;i=i.firstContext;e:for(;i!==null;){var o=i;i=s;for(var p=0;p<t.length;p++)if(o.context===t[p]){i.lanes|=a,o=i.alternate,o!==null&&(o.lanes|=a),rc(i.return,a,e),n||(c=null);break e}i=o.next}}else if(s.tag===18){if(c=s.return,c===null)throw Error(u(341));c.lanes|=a,i=c.alternate,i!==null&&(i.lanes|=a),rc(c,a,e),c=null}else c=s.child;if(c!==null)c.return=s;else for(c=s;c!==null;){if(c===e){c=null;break}if(s=c.sibling,s!==null){s.return=c.return,c=s;break}c=c.return}s=c}}function Rn(e,t,a,n){e=null;for(var s=t,i=!1;s!==null;){if(!i){if((s.flags&524288)!==0)i=!0;else if((s.flags&262144)!==0)break}if(s.tag===10){var c=s.alternate;if(c===null)throw Error(u(387));if(c=c.memoizedProps,c!==null){var o=s.type;zt(s.pendingProps.value,c.value)||(e!==null?e.push(o):e=[o])}}else if(s===be.current){if(c=s.alternate,c===null)throw Error(u(387));c.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(e!==null?e.push(Fl):e=[Fl])}s=s.return}e!==null&&oc(t,e,a,n),t.flags|=262144}function _s(e){for(e=e.firstContext;e!==null;){if(!zt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function on(e){rn=e,pa=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ht(e){return Wo(rn,e)}function ws(e,t){return rn===null&&on(e),Wo(e,t)}function Wo(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},pa===null){if(e===null)throw Error(u(308));pa=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else pa=pa.next=t;return a}var Nm=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},Sm=r.unstable_scheduleCallback,bm=r.unstable_NormalPriority,nt={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function uc(){return{controller:new Nm,data:new Map,refCount:0}}function _l(e){e.refCount--,e.refCount===0&&Sm(bm,function(){e.controller.abort()})}var wl=null,dc=0,Hn=0,Un=null;function _m(e,t){if(wl===null){var a=wl=[];dc=0,Hn=mr(),Un={status:"pending",value:void 0,then:function(n){a.push(n)}}}return dc++,t.then(Po,Po),t}function Po(){if(--dc===0&&wl!==null){Un!==null&&(Un.status="fulfilled");var e=wl;wl=null,Hn=0,Un=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function wm(e,t){var a=[],n={status:"pending",value:null,reason:null,then:function(s){a.push(s)}};return e.then(function(){n.status="fulfilled",n.value=t;for(var s=0;s<a.length;s++)(0,a[s])(t)},function(s){for(n.status="rejected",n.reason=s,s=0;s<a.length;s++)(0,a[s])(void 0)}),n}var Io=h.S;h.S=function(e,t){Od=jt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&_m(e,t),Io!==null&&Io(e,t)};var un=d(null);function fc(){var e=un.current;return e!==null?e:Ge.pooledCache}function Cs(e,t){t===null?Z(un,un.current):Z(un,t.pool)}function eu(){var e=fc();return e===null?null:{parent:nt._currentValue,pool:e}}var qn=Error(u(460)),hc=Error(u(474)),Ts=Error(u(542)),As={then:function(){}};function tu(e){return e=e.status,e==="fulfilled"||e==="rejected"}function au(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(da,da),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,lu(e),e;default:if(typeof t.status=="string")t.then(da,da);else{if(e=Ge,e!==null&&100<e.shellSuspendCounter)throw Error(u(482));e=t,e.status="pending",e.then(function(n){if(t.status==="pending"){var s=t;s.status="fulfilled",s.value=n}},function(n){if(t.status==="pending"){var s=t;s.status="rejected",s.reason=n}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,lu(e),e}throw fn=t,qn}}function dn(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(fn=a,qn):a}}var fn=null;function nu(){if(fn===null)throw Error(u(459));var e=fn;return fn=null,e}function lu(e){if(e===qn||e===Ts)throw Error(u(483))}var Gn=null,Cl=0;function Es(e){var t=Cl;return Cl+=1,Gn===null&&(Gn=[]),au(Gn,e,t)}function Tl(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Ms(e,t){throw t.$$typeof===Y?Error(u(525)):(e=Object.prototype.toString.call(t),Error(u(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function su(e){function t(b,x){if(e){var E=b.deletions;E===null?(b.deletions=[x],b.flags|=16):E.push(x)}}function a(b,x){if(!e)return null;for(;x!==null;)t(b,x),x=x.sibling;return null}function n(b){for(var x=new Map;b!==null;)b.key!==null?x.set(b.key,b):x.set(b.index,b),b=b.sibling;return x}function s(b,x){return b=ha(b,x),b.index=0,b.sibling=null,b}function i(b,x,E){return b.index=E,e?(E=b.alternate,E!==null?(E=E.index,E<x?(b.flags|=67108866,x):E):(b.flags|=67108866,x)):(b.flags|=1048576,x)}function c(b){return e&&b.alternate===null&&(b.flags|=67108866),b}function o(b,x,E,V){return x===null||x.tag!==6?(x=tc(E,b.mode,V),x.return=b,x):(x=s(x,E),x.return=b,x)}function p(b,x,E,V){var pe=E.type;return pe===J?q(b,x,E.props.children,V,E.key):x!==null&&(x.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===se&&dn(pe)===x.type)?(x=s(x,E.props),Tl(x,E),x.return=b,x):(x=Ss(E.type,E.key,E.props,null,b.mode,V),Tl(x,E),x.return=b,x)}function M(b,x,E,V){return x===null||x.tag!==4||x.stateNode.containerInfo!==E.containerInfo||x.stateNode.implementation!==E.implementation?(x=ac(E,b.mode,V),x.return=b,x):(x=s(x,E.children||[]),x.return=b,x)}function q(b,x,E,V,pe){return x===null||x.tag!==7?(x=sn(E,b.mode,V,pe),x.return=b,x):(x=s(x,E),x.return=b,x)}function X(b,x,E){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=tc(""+x,b.mode,E),x.return=b,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case W:return E=Ss(x.type,x.key,x.props,null,b.mode,E),Tl(E,x),E.return=b,E;case Q:return x=ac(x,b.mode,E),x.return=b,x;case se:return x=dn(x),X(b,x,E)}if(B(x)||H(x))return x=sn(x,b.mode,E,null),x.return=b,x;if(typeof x.then=="function")return X(b,Es(x),E);if(x.$$typeof===C)return X(b,ws(b,x),E);Ms(b,x)}return null}function z(b,x,E,V){var pe=x!==null?x.key:null;if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return pe!==null?null:o(b,x,""+E,V);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case W:return E.key===pe?p(b,x,E,V):null;case Q:return E.key===pe?M(b,x,E,V):null;case se:return E=dn(E),z(b,x,E,V)}if(B(E)||H(E))return pe!==null?null:q(b,x,E,V,null);if(typeof E.then=="function")return z(b,x,Es(E),V);if(E.$$typeof===C)return z(b,x,ws(b,E),V);Ms(b,E)}return null}function R(b,x,E,V,pe){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return b=b.get(E)||null,o(x,b,""+V,pe);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case W:return b=b.get(V.key===null?E:V.key)||null,p(x,b,V,pe);case Q:return b=b.get(V.key===null?E:V.key)||null,M(x,b,V,pe);case se:return V=dn(V),R(b,x,E,V,pe)}if(B(V)||H(V))return b=b.get(E)||null,q(x,b,V,pe,null);if(typeof V.then=="function")return R(b,x,E,Es(V),pe);if(V.$$typeof===C)return R(b,x,E,ws(x,V),pe);Ms(x,V)}return null}function fe(b,x,E,V){for(var pe=null,Me=null,me=x,Se=x=0,Te=null;me!==null&&Se<E.length;Se++){me.index>Se?(Te=me,me=null):Te=me.sibling;var ke=z(b,me,E[Se],V);if(ke===null){me===null&&(me=Te);break}e&&me&&ke.alternate===null&&t(b,me),x=i(ke,x,Se),Me===null?pe=ke:Me.sibling=ke,Me=ke,me=Te}if(Se===E.length)return a(b,me),Ae&&ma(b,Se),pe;if(me===null){for(;Se<E.length;Se++)me=X(b,E[Se],V),me!==null&&(x=i(me,x,Se),Me===null?pe=me:Me.sibling=me,Me=me);return Ae&&ma(b,Se),pe}for(me=n(me);Se<E.length;Se++)Te=R(me,b,Se,E[Se],V),Te!==null&&(e&&Te.alternate!==null&&me.delete(Te.key===null?Se:Te.key),x=i(Te,x,Se),Me===null?pe=Te:Me.sibling=Te,Me=Te);return e&&me.forEach(function(Wa){return t(b,Wa)}),Ae&&ma(b,Se),pe}function ve(b,x,E,V){if(E==null)throw Error(u(151));for(var pe=null,Me=null,me=x,Se=x=0,Te=null,ke=E.next();me!==null&&!ke.done;Se++,ke=E.next()){me.index>Se?(Te=me,me=null):Te=me.sibling;var Wa=z(b,me,ke.value,V);if(Wa===null){me===null&&(me=Te);break}e&&me&&Wa.alternate===null&&t(b,me),x=i(Wa,x,Se),Me===null?pe=Wa:Me.sibling=Wa,Me=Wa,me=Te}if(ke.done)return a(b,me),Ae&&ma(b,Se),pe;if(me===null){for(;!ke.done;Se++,ke=E.next())ke=X(b,ke.value,V),ke!==null&&(x=i(ke,x,Se),Me===null?pe=ke:Me.sibling=ke,Me=ke);return Ae&&ma(b,Se),pe}for(me=n(me);!ke.done;Se++,ke=E.next())ke=R(me,b,Se,ke.value,V),ke!==null&&(e&&ke.alternate!==null&&me.delete(ke.key===null?Se:ke.key),x=i(ke,x,Se),Me===null?pe=ke:Me.sibling=ke,Me=ke);return e&&me.forEach(function(Op){return t(b,Op)}),Ae&&ma(b,Se),pe}function Ue(b,x,E,V){if(typeof E=="object"&&E!==null&&E.type===J&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case W:e:{for(var pe=E.key;x!==null;){if(x.key===pe){if(pe=E.type,pe===J){if(x.tag===7){a(b,x.sibling),V=s(x,E.props.children),V.return=b,b=V;break e}}else if(x.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===se&&dn(pe)===x.type){a(b,x.sibling),V=s(x,E.props),Tl(V,E),V.return=b,b=V;break e}a(b,x);break}else t(b,x);x=x.sibling}E.type===J?(V=sn(E.props.children,b.mode,V,E.key),V.return=b,b=V):(V=Ss(E.type,E.key,E.props,null,b.mode,V),Tl(V,E),V.return=b,b=V)}return c(b);case Q:e:{for(pe=E.key;x!==null;){if(x.key===pe)if(x.tag===4&&x.stateNode.containerInfo===E.containerInfo&&x.stateNode.implementation===E.implementation){a(b,x.sibling),V=s(x,E.children||[]),V.return=b,b=V;break e}else{a(b,x);break}else t(b,x);x=x.sibling}V=ac(E,b.mode,V),V.return=b,b=V}return c(b);case se:return E=dn(E),Ue(b,x,E,V)}if(B(E))return fe(b,x,E,V);if(H(E)){if(pe=H(E),typeof pe!="function")throw Error(u(150));return E=pe.call(E),ve(b,x,E,V)}if(typeof E.then=="function")return Ue(b,x,Es(E),V);if(E.$$typeof===C)return Ue(b,x,ws(b,E),V);Ms(b,E)}return typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint"?(E=""+E,x!==null&&x.tag===6?(a(b,x.sibling),V=s(x,E),V.return=b,b=V):(a(b,x),V=tc(E,b.mode,V),V.return=b,b=V),c(b)):a(b,x)}return function(b,x,E,V){try{Cl=0;var pe=Ue(b,x,E,V);return Gn=null,pe}catch(me){if(me===qn||me===Ts)throw me;var Me=Dt(29,me,null,b.mode);return Me.lanes=V,Me.return=b,Me}finally{}}}var hn=su(!0),iu=su(!1),La=!1;function mc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function pc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ba(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Oa(e,t,a){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,(De&2)!==0){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,t=Ns(e),Vo(e,null,a),t}return js(e,n,t,a),Ns(e)}function Al(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,Pt(e,a)}}function gc(e,t){var a=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,a===n)){var s=null,i=null;if(a=a.firstBaseUpdate,a!==null){do{var c={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};i===null?s=i=c:i=i.next=c,a=a.next}while(a!==null);i===null?s=i=t:i=i.next=t}else s=i=t;a={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,callbacks:n.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var vc=!1;function El(){if(vc){var e=Un;if(e!==null)throw e}}function Ml(e,t,a,n){vc=!1;var s=e.updateQueue;La=!1;var i=s.firstBaseUpdate,c=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var p=o,M=p.next;p.next=null,c===null?i=M:c.next=M,c=p;var q=e.alternate;q!==null&&(q=q.updateQueue,o=q.lastBaseUpdate,o!==c&&(o===null?q.firstBaseUpdate=M:o.next=M,q.lastBaseUpdate=p))}if(i!==null){var X=s.baseState;c=0,q=M=p=null,o=i;do{var z=o.lane&-536870913,R=z!==o.lane;if(R?(Ce&z)===z:(n&z)===z){z!==0&&z===Hn&&(vc=!0),q!==null&&(q=q.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var fe=e,ve=o;z=t;var Ue=a;switch(ve.tag){case 1:if(fe=ve.payload,typeof fe=="function"){X=fe.call(Ue,X,z);break e}X=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=ve.payload,z=typeof fe=="function"?fe.call(Ue,X,z):fe,z==null)break e;X=D({},X,z);break e;case 2:La=!0}}z=o.callback,z!==null&&(e.flags|=64,R&&(e.flags|=8192),R=s.callbacks,R===null?s.callbacks=[z]:R.push(z))}else R={lane:z,tag:o.tag,payload:o.payload,callback:o.callback,next:null},q===null?(M=q=R,p=X):q=q.next=R,c|=z;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;R=o,o=R.next,R.next=null,s.lastBaseUpdate=R,s.shared.pending=null}}while(!0);q===null&&(p=X),s.baseState=p,s.firstBaseUpdate=M,s.lastBaseUpdate=q,i===null&&(s.shared.lanes=0),Ga|=c,e.lanes=c,e.memoizedState=X}}function cu(e,t){if(typeof e!="function")throw Error(u(191,e));e.call(t)}function ru(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)cu(a[e],t)}var Yn=d(null),ks=d(0);function ou(e,t){e=wa,Z(ks,e),Z(Yn,t),wa=e|t.baseLanes}function yc(){Z(ks,wa),Z(Yn,Yn.current)}function xc(){wa=ks.current,k(Yn),k(ks)}var Lt=d(null),Jt=null;function Ra(e){var t=e.alternate;Z(Ie,Ie.current&1),Z(Lt,e),Jt===null&&(t===null||Yn.current!==null||t.memoizedState!==null)&&(Jt=e)}function jc(e){Z(Ie,Ie.current),Z(Lt,e),Jt===null&&(Jt=e)}function uu(e){e.tag===22?(Z(Ie,Ie.current),Z(Lt,e),Jt===null&&(Jt=e)):Ha()}function Ha(){Z(Ie,Ie.current),Z(Lt,Lt.current)}function Bt(e){k(Lt),Jt===e&&(Jt=null),k(Ie)}var Ie=d(0);function zs(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Cr(a)||Tr(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var va=0,Ne=null,Re=null,lt=null,Ds=!1,Vn=!1,mn=!1,Ls=0,kl=0,Kn=null,Cm=0;function Fe(){throw Error(u(321))}function Nc(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!zt(e[a],t[a]))return!1;return!0}function Sc(e,t,a,n,s,i){return va=i,Ne=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,h.H=e===null||e.memoizedState===null?Xu:Rc,mn=!1,i=a(n,s),mn=!1,Vn&&(i=fu(t,a,n,s)),du(e),i}function du(e){h.H=Ll;var t=Re!==null&&Re.next!==null;if(va=0,lt=Re=Ne=null,Ds=!1,kl=0,Kn=null,t)throw Error(u(300));e===null||st||(e=e.dependencies,e!==null&&_s(e)&&(st=!0))}function fu(e,t,a,n){Ne=e;var s=0;do{if(Vn&&(Kn=null),kl=0,Vn=!1,25<=s)throw Error(u(301));if(s+=1,lt=Re=null,e.updateQueue!=null){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}h.H=Ju,i=t(a,n)}while(Vn);return i}function Tm(){var e=h.H,t=e.useState()[0];return t=typeof t.then=="function"?zl(t):t,e=e.useState()[0],(Re!==null?Re.memoizedState:null)!==e&&(Ne.flags|=1024),t}function bc(){var e=Ls!==0;return Ls=0,e}function _c(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function wc(e){if(Ds){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Ds=!1}va=0,lt=Re=Ne=null,Vn=!1,kl=Ls=0,Kn=null}function bt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lt===null?Ne.memoizedState=lt=e:lt=lt.next=e,lt}function et(){if(Re===null){var e=Ne.alternate;e=e!==null?e.memoizedState:null}else e=Re.next;var t=lt===null?Ne.memoizedState:lt.next;if(t!==null)lt=t,Re=e;else{if(e===null)throw Ne.alternate===null?Error(u(467)):Error(u(310));Re=e,e={memoizedState:Re.memoizedState,baseState:Re.baseState,baseQueue:Re.baseQueue,queue:Re.queue,next:null},lt===null?Ne.memoizedState=lt=e:lt=lt.next=e}return lt}function Bs(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function zl(e){var t=kl;return kl+=1,Kn===null&&(Kn=[]),e=au(Kn,e,t),t=Ne,(lt===null?t.memoizedState:lt.next)===null&&(t=t.alternate,h.H=t===null||t.memoizedState===null?Xu:Rc),e}function Os(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return zl(e);if(e.$$typeof===C)return ht(e)}throw Error(u(438,String(e)))}function Cc(e){var t=null,a=Ne.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var n=Ne.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(t={data:n.data.map(function(s){return s.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=Bs(),Ne.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),n=0;n<e;n++)a[n]=G;return t.index++,a}function ya(e,t){return typeof t=="function"?t(e):t}function Rs(e){var t=et();return Tc(t,Re,e)}function Tc(e,t,a){var n=e.queue;if(n===null)throw Error(u(311));n.lastRenderedReducer=a;var s=e.baseQueue,i=n.pending;if(i!==null){if(s!==null){var c=s.next;s.next=i.next,i.next=c}t.baseQueue=s=i,n.pending=null}if(i=e.baseState,s===null)e.memoizedState=i;else{t=s.next;var o=c=null,p=null,M=t,q=!1;do{var X=M.lane&-536870913;if(X!==M.lane?(Ce&X)===X:(va&X)===X){var z=M.revertLane;if(z===0)p!==null&&(p=p.next={lane:0,revertLane:0,gesture:null,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null}),X===Hn&&(q=!0);else if((va&z)===z){M=M.next,z===Hn&&(q=!0);continue}else X={lane:0,revertLane:M.revertLane,gesture:null,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null},p===null?(o=p=X,c=i):p=p.next=X,Ne.lanes|=z,Ga|=z;X=M.action,mn&&a(i,X),i=M.hasEagerState?M.eagerState:a(i,X)}else z={lane:X,revertLane:M.revertLane,gesture:M.gesture,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null},p===null?(o=p=z,c=i):p=p.next=z,Ne.lanes|=X,Ga|=X;M=M.next}while(M!==null&&M!==t);if(p===null?c=i:p.next=o,!zt(i,e.memoizedState)&&(st=!0,q&&(a=Un,a!==null)))throw a;e.memoizedState=i,e.baseState=c,e.baseQueue=p,n.lastRenderedState=i}return s===null&&(n.lanes=0),[e.memoizedState,n.dispatch]}function Ac(e){var t=et(),a=t.queue;if(a===null)throw Error(u(311));a.lastRenderedReducer=e;var n=a.dispatch,s=a.pending,i=t.memoizedState;if(s!==null){a.pending=null;var c=s=s.next;do i=e(i,c.action),c=c.next;while(c!==s);zt(i,t.memoizedState)||(st=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),a.lastRenderedState=i}return[i,n]}function hu(e,t,a){var n=Ne,s=et(),i=Ae;if(i){if(a===void 0)throw Error(u(407));a=a()}else a=t();var c=!zt((Re||s).memoizedState,a);if(c&&(s.memoizedState=a,st=!0),s=s.queue,kc(gu.bind(null,n,s,e),[e]),s.getSnapshot!==t||c||lt!==null&&lt.memoizedState.tag&1){if(n.flags|=2048,Zn(9,{destroy:void 0},pu.bind(null,n,s,a,t),null),Ge===null)throw Error(u(349));i||(va&127)!==0||mu(n,t,a)}return a}function mu(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=Ne.updateQueue,t===null?(t=Bs(),Ne.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function pu(e,t,a,n){t.value=a,t.getSnapshot=n,vu(t)&&yu(e)}function gu(e,t,a){return a(function(){vu(t)&&yu(e)})}function vu(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!zt(e,a)}catch{return!0}}function yu(e){var t=ln(e,2);t!==null&&Mt(t,e,2)}function Ec(e){var t=bt();if(typeof e=="function"){var a=e;if(e=a(),mn){Ut(!0);try{a()}finally{Ut(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ya,lastRenderedState:e},t}function xu(e,t,a,n){return e.baseState=a,Tc(e,Re,typeof n=="function"?n:ya)}function Am(e,t,a,n,s){if(qs(e))throw Error(u(485));if(e=t.action,e!==null){var i={payload:s,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(c){i.listeners.push(c)}};h.T!==null?a(!0):i.isTransition=!1,n(i),a=t.pending,a===null?(i.next=t.pending=i,ju(t,i)):(i.next=a.next,t.pending=a.next=i)}}function ju(e,t){var a=t.action,n=t.payload,s=e.state;if(t.isTransition){var i=h.T,c={};h.T=c;try{var o=a(s,n),p=h.S;p!==null&&p(c,o),Nu(e,t,o)}catch(M){Mc(e,t,M)}finally{i!==null&&c.types!==null&&(i.types=c.types),h.T=i}}else try{i=a(s,n),Nu(e,t,i)}catch(M){Mc(e,t,M)}}function Nu(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(n){Su(e,t,n)},function(n){return Mc(e,t,n)}):Su(e,t,a)}function Su(e,t,a){t.status="fulfilled",t.value=a,bu(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,ju(e,a)))}function Mc(e,t,a){var n=e.pending;if(e.pending=null,n!==null){n=n.next;do t.status="rejected",t.reason=a,bu(t),t=t.next;while(t!==n)}e.action=null}function bu(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function _u(e,t){return t}function wu(e,t){if(Ae){var a=Ge.formState;if(a!==null){e:{var n=Ne;if(Ae){if(Ve){t:{for(var s=Ve,i=Xt;s.nodeType!==8;){if(!i){s=null;break t}if(s=$t(s.nextSibling),s===null){s=null;break t}}i=s.data,s=i==="F!"||i==="F"?s:null}if(s){Ve=$t(s.nextSibling),n=s.data==="F!";break e}}za(n)}n=!1}n&&(t=a[0])}}return a=bt(),a.memoizedState=a.baseState=t,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_u,lastRenderedState:t},a.queue=n,a=Ku.bind(null,Ne,n),n.dispatch=a,n=Ec(!1),i=Oc.bind(null,Ne,!1,n.queue),n=bt(),s={state:t,dispatch:null,action:e,pending:null},n.queue=s,a=Am.bind(null,Ne,s,i,a),s.dispatch=a,n.memoizedState=e,[t,a,!1]}function Cu(e){var t=et();return Tu(t,Re,e)}function Tu(e,t,a){if(t=Tc(e,t,_u)[0],e=Rs(ya)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var n=zl(t)}catch(c){throw c===qn?Ts:c}else n=t;t=et();var s=t.queue,i=s.dispatch;return a!==t.memoizedState&&(Ne.flags|=2048,Zn(9,{destroy:void 0},Em.bind(null,s,a),null)),[n,i,e]}function Em(e,t){e.action=t}function Au(e){var t=et(),a=Re;if(a!==null)return Tu(t,a,e);et(),t=t.memoizedState,a=et();var n=a.queue.dispatch;return a.memoizedState=e,[t,n,!1]}function Zn(e,t,a,n){return e={tag:e,create:a,deps:n,inst:t,next:null},t=Ne.updateQueue,t===null&&(t=Bs(),Ne.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(n=a.next,a.next=e,e.next=n,t.lastEffect=e),e}function Eu(){return et().memoizedState}function Hs(e,t,a,n){var s=bt();Ne.flags|=e,s.memoizedState=Zn(1|t,{destroy:void 0},a,n===void 0?null:n)}function Us(e,t,a,n){var s=et();n=n===void 0?null:n;var i=s.memoizedState.inst;Re!==null&&n!==null&&Nc(n,Re.memoizedState.deps)?s.memoizedState=Zn(t,i,a,n):(Ne.flags|=e,s.memoizedState=Zn(1|t,i,a,n))}function Mu(e,t){Hs(8390656,8,e,t)}function kc(e,t){Us(2048,8,e,t)}function Mm(e){Ne.flags|=4;var t=Ne.updateQueue;if(t===null)t=Bs(),Ne.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function ku(e){var t=et().memoizedState;return Mm({ref:t,nextImpl:e}),function(){if((De&2)!==0)throw Error(u(440));return t.impl.apply(void 0,arguments)}}function zu(e,t){return Us(4,2,e,t)}function Du(e,t){return Us(4,4,e,t)}function Lu(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Bu(e,t,a){a=a!=null?a.concat([e]):null,Us(4,4,Lu.bind(null,t,e),a)}function zc(){}function Ou(e,t){var a=et();t=t===void 0?null:t;var n=a.memoizedState;return t!==null&&Nc(t,n[1])?n[0]:(a.memoizedState=[e,t],e)}function Ru(e,t){var a=et();t=t===void 0?null:t;var n=a.memoizedState;if(t!==null&&Nc(t,n[1]))return n[0];if(n=e(),mn){Ut(!0);try{e()}finally{Ut(!1)}}return a.memoizedState=[n,t],n}function Dc(e,t,a){return a===void 0||(va&1073741824)!==0&&(Ce&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=Hd(),Ne.lanes|=e,Ga|=e,a)}function Hu(e,t,a,n){return zt(a,t)?a:Yn.current!==null?(e=Dc(e,a,n),zt(e,t)||(st=!0),e):(va&42)===0||(va&1073741824)!==0&&(Ce&261930)===0?(st=!0,e.memoizedState=a):(e=Hd(),Ne.lanes|=e,Ga|=e,t)}function Uu(e,t,a,n,s){var i=y.p;y.p=i!==0&&8>i?i:8;var c=h.T,o={};h.T=o,Oc(e,!1,t,a);try{var p=s(),M=h.S;if(M!==null&&M(o,p),p!==null&&typeof p=="object"&&typeof p.then=="function"){var q=wm(p,n);Dl(e,t,q,Ht(e))}else Dl(e,t,n,Ht(e))}catch(X){Dl(e,t,{then:function(){},status:"rejected",reason:X},Ht())}finally{y.p=i,c!==null&&o.types!==null&&(c.types=o.types),h.T=c}}function km(){}function Lc(e,t,a,n){if(e.tag!==5)throw Error(u(476));var s=qu(e).queue;Uu(e,s,t,A,a===null?km:function(){return Gu(e),a(n)})}function qu(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:A,baseState:A,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ya,lastRenderedState:A},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ya,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Gu(e){var t=qu(e);t.next===null&&(t=e.alternate.memoizedState),Dl(e,t.next.queue,{},Ht())}function Bc(){return ht(Fl)}function Yu(){return et().memoizedState}function Vu(){return et().memoizedState}function zm(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=Ht();e=Ba(a);var n=Oa(t,e,a);n!==null&&(Mt(n,t,a),Al(n,t,a)),t={cache:uc()},e.payload=t;return}t=t.return}}function Dm(e,t,a){var n=Ht();a={lane:n,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},qs(e)?Zu(t,a):(a=Ii(e,t,a,n),a!==null&&(Mt(a,e,n),Qu(a,t,n)))}function Ku(e,t,a){var n=Ht();Dl(e,t,a,n)}function Dl(e,t,a,n){var s={lane:n,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(qs(e))Zu(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var c=t.lastRenderedState,o=i(c,a);if(s.hasEagerState=!0,s.eagerState=o,zt(o,c))return js(e,t,s,0),Ge===null&&xs(),!1}catch{}finally{}if(a=Ii(e,t,s,n),a!==null)return Mt(a,e,n),Qu(a,t,n),!0}return!1}function Oc(e,t,a,n){if(n={lane:2,revertLane:mr(),gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},qs(e)){if(t)throw Error(u(479))}else t=Ii(e,a,n,2),t!==null&&Mt(t,e,2)}function qs(e){var t=e.alternate;return e===Ne||t!==null&&t===Ne}function Zu(e,t){Vn=Ds=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function Qu(e,t,a){if((a&4194048)!==0){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,Pt(e,a)}}var Ll={readContext:ht,use:Os,useCallback:Fe,useContext:Fe,useEffect:Fe,useImperativeHandle:Fe,useLayoutEffect:Fe,useInsertionEffect:Fe,useMemo:Fe,useReducer:Fe,useRef:Fe,useState:Fe,useDebugValue:Fe,useDeferredValue:Fe,useTransition:Fe,useSyncExternalStore:Fe,useId:Fe,useHostTransitionStatus:Fe,useFormState:Fe,useActionState:Fe,useOptimistic:Fe,useMemoCache:Fe,useCacheRefresh:Fe};Ll.useEffectEvent=Fe;var Xu={readContext:ht,use:Os,useCallback:function(e,t){return bt().memoizedState=[e,t===void 0?null:t],e},useContext:ht,useEffect:Mu,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,Hs(4194308,4,Lu.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Hs(4194308,4,e,t)},useInsertionEffect:function(e,t){Hs(4,2,e,t)},useMemo:function(e,t){var a=bt();t=t===void 0?null:t;var n=e();if(mn){Ut(!0);try{e()}finally{Ut(!1)}}return a.memoizedState=[n,t],n},useReducer:function(e,t,a){var n=bt();if(a!==void 0){var s=a(t);if(mn){Ut(!0);try{a(t)}finally{Ut(!1)}}}else s=t;return n.memoizedState=n.baseState=s,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},n.queue=e,e=e.dispatch=Dm.bind(null,Ne,e),[n.memoizedState,e]},useRef:function(e){var t=bt();return e={current:e},t.memoizedState=e},useState:function(e){e=Ec(e);var t=e.queue,a=Ku.bind(null,Ne,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:zc,useDeferredValue:function(e,t){var a=bt();return Dc(a,e,t)},useTransition:function(){var e=Ec(!1);return e=Uu.bind(null,Ne,e.queue,!0,!1),bt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var n=Ne,s=bt();if(Ae){if(a===void 0)throw Error(u(407));a=a()}else{if(a=t(),Ge===null)throw Error(u(349));(Ce&127)!==0||mu(n,t,a)}s.memoizedState=a;var i={value:a,getSnapshot:t};return s.queue=i,Mu(gu.bind(null,n,i,e),[e]),n.flags|=2048,Zn(9,{destroy:void 0},pu.bind(null,n,i,a,t),null),a},useId:function(){var e=bt(),t=Ge.identifierPrefix;if(Ae){var a=la,n=na;a=(n&~(1<<32-St(n)-1)).toString(32)+a,t="_"+t+"R_"+a,a=Ls++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=Cm++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Bc,useFormState:wu,useActionState:wu,useOptimistic:function(e){var t=bt();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=Oc.bind(null,Ne,!0,a),a.dispatch=t,[e,t]},useMemoCache:Cc,useCacheRefresh:function(){return bt().memoizedState=zm.bind(null,Ne)},useEffectEvent:function(e){var t=bt(),a={impl:e};return t.memoizedState=a,function(){if((De&2)!==0)throw Error(u(440));return a.impl.apply(void 0,arguments)}}},Rc={readContext:ht,use:Os,useCallback:Ou,useContext:ht,useEffect:kc,useImperativeHandle:Bu,useInsertionEffect:zu,useLayoutEffect:Du,useMemo:Ru,useReducer:Rs,useRef:Eu,useState:function(){return Rs(ya)},useDebugValue:zc,useDeferredValue:function(e,t){var a=et();return Hu(a,Re.memoizedState,e,t)},useTransition:function(){var e=Rs(ya)[0],t=et().memoizedState;return[typeof e=="boolean"?e:zl(e),t]},useSyncExternalStore:hu,useId:Yu,useHostTransitionStatus:Bc,useFormState:Cu,useActionState:Cu,useOptimistic:function(e,t){var a=et();return xu(a,Re,e,t)},useMemoCache:Cc,useCacheRefresh:Vu};Rc.useEffectEvent=ku;var Ju={readContext:ht,use:Os,useCallback:Ou,useContext:ht,useEffect:kc,useImperativeHandle:Bu,useInsertionEffect:zu,useLayoutEffect:Du,useMemo:Ru,useReducer:Ac,useRef:Eu,useState:function(){return Ac(ya)},useDebugValue:zc,useDeferredValue:function(e,t){var a=et();return Re===null?Dc(a,e,t):Hu(a,Re.memoizedState,e,t)},useTransition:function(){var e=Ac(ya)[0],t=et().memoizedState;return[typeof e=="boolean"?e:zl(e),t]},useSyncExternalStore:hu,useId:Yu,useHostTransitionStatus:Bc,useFormState:Au,useActionState:Au,useOptimistic:function(e,t){var a=et();return Re!==null?xu(a,Re,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Cc,useCacheRefresh:Vu};Ju.useEffectEvent=ku;function Hc(e,t,a,n){t=e.memoizedState,a=a(n,t),a=a==null?t:D({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Uc={enqueueSetState:function(e,t,a){e=e._reactInternals;var n=Ht(),s=Ba(n);s.payload=t,a!=null&&(s.callback=a),t=Oa(e,s,n),t!==null&&(Mt(t,e,n),Al(t,e,n))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var n=Ht(),s=Ba(n);s.tag=1,s.payload=t,a!=null&&(s.callback=a),t=Oa(e,s,n),t!==null&&(Mt(t,e,n),Al(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Ht(),n=Ba(a);n.tag=2,t!=null&&(n.callback=t),t=Oa(e,n,a),t!==null&&(Mt(t,e,a),Al(t,e,a))}};function $u(e,t,a,n,s,i,c){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,c):t.prototype&&t.prototype.isPureReactComponent?!jl(a,n)||!jl(s,i):!0}function Fu(e,t,a,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,n),t.state!==e&&Uc.enqueueReplaceState(t,t.state,null)}function pn(e,t){var a=t;if("ref"in t){a={};for(var n in t)n!=="ref"&&(a[n]=t[n])}if(e=e.defaultProps){a===t&&(a=D({},a));for(var s in e)a[s]===void 0&&(a[s]=e[s])}return a}function Wu(e){ys(e)}function Pu(e){console.error(e)}function Iu(e){ys(e)}function Gs(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function ed(e,t,a){try{var n=e.onCaughtError;n(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function qc(e,t,a){return a=Ba(a),a.tag=3,a.payload={element:null},a.callback=function(){Gs(e,t)},a}function td(e){return e=Ba(e),e.tag=3,e}function ad(e,t,a,n){var s=a.type.getDerivedStateFromError;if(typeof s=="function"){var i=n.value;e.payload=function(){return s(i)},e.callback=function(){ed(t,a,n)}}var c=a.stateNode;c!==null&&typeof c.componentDidCatch=="function"&&(e.callback=function(){ed(t,a,n),typeof s!="function"&&(Ya===null?Ya=new Set([this]):Ya.add(this));var o=n.stack;this.componentDidCatch(n.value,{componentStack:o!==null?o:""})})}function Lm(e,t,a,n,s){if(a.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(t=a.alternate,t!==null&&Rn(t,a,s,!0),a=Lt.current,a!==null){switch(a.tag){case 31:case 13:return Jt===null?Is():a.alternate===null&&We===0&&(We=3),a.flags&=-257,a.flags|=65536,a.lanes=s,n===As?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([n]):t.add(n),dr(e,n,s)),!1;case 22:return a.flags|=65536,n===As?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([n])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([n]):a.add(n)),dr(e,n,s)),!1}throw Error(u(435,a.tag))}return dr(e,n,s),Is(),!1}if(Ae)return t=Lt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=s,n!==sc&&(e=Error(u(422),{cause:n}),bl(Kt(e,a)))):(n!==sc&&(t=Error(u(423),{cause:n}),bl(Kt(t,a))),e=e.current.alternate,e.flags|=65536,s&=-s,e.lanes|=s,n=Kt(n,a),s=qc(e.stateNode,n,s),gc(e,s),We!==4&&(We=2)),!1;var i=Error(u(520),{cause:n});if(i=Kt(i,a),Yl===null?Yl=[i]:Yl.push(i),We!==4&&(We=2),t===null)return!0;n=Kt(n,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=s&-s,a.lanes|=e,e=qc(a.stateNode,n,e),gc(a,e),!1;case 1:if(t=a.type,i=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(Ya===null||!Ya.has(i))))return a.flags|=65536,s&=-s,a.lanes|=s,s=td(s),ad(s,e,a,n),gc(a,s),!1}a=a.return}while(a!==null);return!1}var Gc=Error(u(461)),st=!1;function mt(e,t,a,n){t.child=e===null?iu(t,null,a,n):hn(t,e.child,a,n)}function nd(e,t,a,n,s){a=a.render;var i=t.ref;if("ref"in n){var c={};for(var o in n)o!=="ref"&&(c[o]=n[o])}else c=n;return on(t),n=Sc(e,t,a,c,i,s),o=bc(),e!==null&&!st?(_c(e,t,s),xa(e,t,s)):(Ae&&o&&nc(t),t.flags|=1,mt(e,t,n,s),t.child)}function ld(e,t,a,n,s){if(e===null){var i=a.type;return typeof i=="function"&&!ec(i)&&i.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=i,sd(e,t,i,n,s)):(e=Ss(a.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!$c(e,s)){var c=i.memoizedProps;if(a=a.compare,a=a!==null?a:jl,a(c,n)&&e.ref===t.ref)return xa(e,t,s)}return t.flags|=1,e=ha(i,n),e.ref=t.ref,e.return=t,t.child=e}function sd(e,t,a,n,s){if(e!==null){var i=e.memoizedProps;if(jl(i,n)&&e.ref===t.ref)if(st=!1,t.pendingProps=n=i,$c(e,s))(e.flags&131072)!==0&&(st=!0);else return t.lanes=e.lanes,xa(e,t,s)}return Yc(e,t,a,n,s)}function id(e,t,a,n){var s=n.children,i=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.mode==="hidden"){if((t.flags&128)!==0){if(i=i!==null?i.baseLanes|a:a,e!==null){for(n=t.child=e.child,s=0;n!==null;)s=s|n.lanes|n.childLanes,n=n.sibling;n=s&~i}else n=0,t.child=null;return cd(e,t,i,a,n)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Cs(t,i!==null?i.cachePool:null),i!==null?ou(t,i):yc(),uu(t);else return n=t.lanes=536870912,cd(e,t,i!==null?i.baseLanes|a:a,a,n)}else i!==null?(Cs(t,i.cachePool),ou(t,i),Ha(),t.memoizedState=null):(e!==null&&Cs(t,null),yc(),Ha());return mt(e,t,s,a),t.child}function Bl(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function cd(e,t,a,n,s){var i=fc();return i=i===null?null:{parent:nt._currentValue,pool:i},t.memoizedState={baseLanes:a,cachePool:i},e!==null&&Cs(t,null),yc(),uu(t),e!==null&&Rn(e,t,n,!0),t.childLanes=s,null}function Ys(e,t){return t=Ks({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function rd(e,t,a){return hn(t,e.child,null,a),e=Ys(t,t.pendingProps),e.flags|=2,Bt(t),t.memoizedState=null,e}function Bm(e,t,a){var n=t.pendingProps,s=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Ae){if(n.mode==="hidden")return e=Ys(t,n),t.lanes=536870912,Bl(null,e);if(jc(t),(e=Ve)?(e=Nf(e,Xt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ma!==null?{id:na,overflow:la}:null,retryLane:536870912,hydrationErrors:null},a=Zo(e),a.return=t,t.child=a,ft=t,Ve=null)):e=null,e===null)throw za(t);return t.lanes=536870912,null}return Ys(t,n)}var i=e.memoizedState;if(i!==null){var c=i.dehydrated;if(jc(t),s)if(t.flags&256)t.flags&=-257,t=rd(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(u(558));else if(st||Rn(e,t,a,!1),s=(a&e.childLanes)!==0,st||s){if(n=Ge,n!==null&&(c=$e(n,a),c!==0&&c!==i.retryLane))throw i.retryLane=c,ln(e,c),Mt(n,e,c),Gc;Is(),t=rd(e,t,a)}else e=i.treeContext,Ve=$t(c.nextSibling),ft=t,Ae=!0,ka=null,Xt=!1,e!==null&&Jo(t,e),t=Ys(t,n),t.flags|=4096;return t}return e=ha(e.child,{mode:n.mode,children:n.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Vs(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(u(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function Yc(e,t,a,n,s){return on(t),a=Sc(e,t,a,n,void 0,s),n=bc(),e!==null&&!st?(_c(e,t,s),xa(e,t,s)):(Ae&&n&&nc(t),t.flags|=1,mt(e,t,a,s),t.child)}function od(e,t,a,n,s,i){return on(t),t.updateQueue=null,a=fu(t,n,a,s),du(e),n=bc(),e!==null&&!st?(_c(e,t,i),xa(e,t,i)):(Ae&&n&&nc(t),t.flags|=1,mt(e,t,a,i),t.child)}function ud(e,t,a,n,s){if(on(t),t.stateNode===null){var i=Dn,c=a.contextType;typeof c=="object"&&c!==null&&(i=ht(c)),i=new a(n,i),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Uc,t.stateNode=i,i._reactInternals=t,i=t.stateNode,i.props=n,i.state=t.memoizedState,i.refs={},mc(t),c=a.contextType,i.context=typeof c=="object"&&c!==null?ht(c):Dn,i.state=t.memoizedState,c=a.getDerivedStateFromProps,typeof c=="function"&&(Hc(t,a,c,n),i.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(c=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),c!==i.state&&Uc.enqueueReplaceState(i,i.state,null),Ml(t,n,i,s),El(),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!0}else if(e===null){i=t.stateNode;var o=t.memoizedProps,p=pn(a,o);i.props=p;var M=i.context,q=a.contextType;c=Dn,typeof q=="object"&&q!==null&&(c=ht(q));var X=a.getDerivedStateFromProps;q=typeof X=="function"||typeof i.getSnapshotBeforeUpdate=="function",o=t.pendingProps!==o,q||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o||M!==c)&&Fu(t,i,n,c),La=!1;var z=t.memoizedState;i.state=z,Ml(t,n,i,s),El(),M=t.memoizedState,o||z!==M||La?(typeof X=="function"&&(Hc(t,a,X,n),M=t.memoizedState),(p=La||$u(t,a,p,n,z,M,c))?(q||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=M),i.props=n,i.state=M,i.context=c,n=p):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,pc(e,t),c=t.memoizedProps,q=pn(a,c),i.props=q,X=t.pendingProps,z=i.context,M=a.contextType,p=Dn,typeof M=="object"&&M!==null&&(p=ht(M)),o=a.getDerivedStateFromProps,(M=typeof o=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(c!==X||z!==p)&&Fu(t,i,n,p),La=!1,z=t.memoizedState,i.state=z,Ml(t,n,i,s),El();var R=t.memoizedState;c!==X||z!==R||La||e!==null&&e.dependencies!==null&&_s(e.dependencies)?(typeof o=="function"&&(Hc(t,a,o,n),R=t.memoizedState),(q=La||$u(t,a,q,n,z,R,p)||e!==null&&e.dependencies!==null&&_s(e.dependencies))?(M||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,R,p),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,R,p)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||c===e.memoizedProps&&z===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&z===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=R),i.props=n,i.state=R,i.context=p,n=q):(typeof i.componentDidUpdate!="function"||c===e.memoizedProps&&z===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&z===e.memoizedState||(t.flags|=1024),n=!1)}return i=n,Vs(e,t),n=(t.flags&128)!==0,i||n?(i=t.stateNode,a=n&&typeof a.getDerivedStateFromError!="function"?null:i.render(),t.flags|=1,e!==null&&n?(t.child=hn(t,e.child,null,s),t.child=hn(t,null,a,s)):mt(e,t,a,s),t.memoizedState=i.state,e=t.child):e=xa(e,t,s),e}function dd(e,t,a,n){return cn(),t.flags|=256,mt(e,t,a,n),t.child}var Vc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Kc(e){return{baseLanes:e,cachePool:eu()}}function Zc(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=Rt),e}function fd(e,t,a){var n=t.pendingProps,s=!1,i=(t.flags&128)!==0,c;if((c=i)||(c=e!==null&&e.memoizedState===null?!1:(Ie.current&2)!==0),c&&(s=!0,t.flags&=-129),c=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ae){if(s?Ra(t):Ha(),(e=Ve)?(e=Nf(e,Xt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ma!==null?{id:na,overflow:la}:null,retryLane:536870912,hydrationErrors:null},a=Zo(e),a.return=t,t.child=a,ft=t,Ve=null)):e=null,e===null)throw za(t);return Tr(e)?t.lanes=32:t.lanes=536870912,null}var o=n.children;return n=n.fallback,s?(Ha(),s=t.mode,o=Ks({mode:"hidden",children:o},s),n=sn(n,s,a,null),o.return=t,n.return=t,o.sibling=n,t.child=o,n=t.child,n.memoizedState=Kc(a),n.childLanes=Zc(e,c,a),t.memoizedState=Vc,Bl(null,n)):(Ra(t),Qc(t,o))}var p=e.memoizedState;if(p!==null&&(o=p.dehydrated,o!==null)){if(i)t.flags&256?(Ra(t),t.flags&=-257,t=Xc(e,t,a)):t.memoizedState!==null?(Ha(),t.child=e.child,t.flags|=128,t=null):(Ha(),o=n.fallback,s=t.mode,n=Ks({mode:"visible",children:n.children},s),o=sn(o,s,a,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,hn(t,e.child,null,a),n=t.child,n.memoizedState=Kc(a),n.childLanes=Zc(e,c,a),t.memoizedState=Vc,t=Bl(null,n));else if(Ra(t),Tr(o)){if(c=o.nextSibling&&o.nextSibling.dataset,c)var M=c.dgst;c=M,n=Error(u(419)),n.stack="",n.digest=c,bl({value:n,source:null,stack:null}),t=Xc(e,t,a)}else if(st||Rn(e,t,a,!1),c=(a&e.childLanes)!==0,st||c){if(c=Ge,c!==null&&(n=$e(c,a),n!==0&&n!==p.retryLane))throw p.retryLane=n,ln(e,n),Mt(c,e,n),Gc;Cr(o)||Is(),t=Xc(e,t,a)}else Cr(o)?(t.flags|=192,t.child=e.child,t=null):(e=p.treeContext,Ve=$t(o.nextSibling),ft=t,Ae=!0,ka=null,Xt=!1,e!==null&&Jo(t,e),t=Qc(t,n.children),t.flags|=4096);return t}return s?(Ha(),o=n.fallback,s=t.mode,p=e.child,M=p.sibling,n=ha(p,{mode:"hidden",children:n.children}),n.subtreeFlags=p.subtreeFlags&65011712,M!==null?o=ha(M,o):(o=sn(o,s,a,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,Bl(null,n),n=t.child,o=e.child.memoizedState,o===null?o=Kc(a):(s=o.cachePool,s!==null?(p=nt._currentValue,s=s.parent!==p?{parent:p,pool:p}:s):s=eu(),o={baseLanes:o.baseLanes|a,cachePool:s}),n.memoizedState=o,n.childLanes=Zc(e,c,a),t.memoizedState=Vc,Bl(e.child,n)):(Ra(t),a=e.child,e=a.sibling,a=ha(a,{mode:"visible",children:n.children}),a.return=t,a.sibling=null,e!==null&&(c=t.deletions,c===null?(t.deletions=[e],t.flags|=16):c.push(e)),t.child=a,t.memoizedState=null,a)}function Qc(e,t){return t=Ks({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Ks(e,t){return e=Dt(22,e,null,t),e.lanes=0,e}function Xc(e,t,a){return hn(t,e.child,null,a),e=Qc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function hd(e,t,a){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),rc(e.return,t,a)}function Jc(e,t,a,n,s,i){var c=e.memoizedState;c===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:a,tailMode:s,treeForkCount:i}:(c.isBackwards=t,c.rendering=null,c.renderingStartTime=0,c.last=n,c.tail=a,c.tailMode=s,c.treeForkCount=i)}function md(e,t,a){var n=t.pendingProps,s=n.revealOrder,i=n.tail;n=n.children;var c=Ie.current,o=(c&2)!==0;if(o?(c=c&1|2,t.flags|=128):c&=1,Z(Ie,c),mt(e,t,n,a),n=Ae?Sl:0,!o&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&hd(e,a,t);else if(e.tag===19)hd(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(s){case"forwards":for(a=t.child,s=null;a!==null;)e=a.alternate,e!==null&&zs(e)===null&&(s=a),a=a.sibling;a=s,a===null?(s=t.child,t.child=null):(s=a.sibling,a.sibling=null),Jc(t,!1,s,a,i,n);break;case"backwards":case"unstable_legacy-backwards":for(a=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&zs(e)===null){t.child=s;break}e=s.sibling,s.sibling=a,a=s,s=e}Jc(t,!0,a,null,i,n);break;case"together":Jc(t,!1,null,null,void 0,n);break;default:t.memoizedState=null}return t.child}function xa(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Ga|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(Rn(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(u(153));if(t.child!==null){for(e=t.child,a=ha(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=ha(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function $c(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&_s(e)))}function Om(e,t,a){switch(t.tag){case 3:Xe(t,t.stateNode.containerInfo),Da(t,nt,e.memoizedState.cache),cn();break;case 27:case 5:Ye(t);break;case 4:Xe(t,t.stateNode.containerInfo);break;case 10:Da(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,jc(t),null;break;case 13:var n=t.memoizedState;if(n!==null)return n.dehydrated!==null?(Ra(t),t.flags|=128,null):(a&t.child.childLanes)!==0?fd(e,t,a):(Ra(t),e=xa(e,t,a),e!==null?e.sibling:null);Ra(t);break;case 19:var s=(e.flags&128)!==0;if(n=(a&t.childLanes)!==0,n||(Rn(e,t,a,!1),n=(a&t.childLanes)!==0),s){if(n)return md(e,t,a);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Z(Ie,Ie.current),n)break;return null;case 22:return t.lanes=0,id(e,t,a,t.pendingProps);case 24:Da(t,nt,e.memoizedState.cache)}return xa(e,t,a)}function pd(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)st=!0;else{if(!$c(e,a)&&(t.flags&128)===0)return st=!1,Om(e,t,a);st=(e.flags&131072)!==0}else st=!1,Ae&&(t.flags&1048576)!==0&&Xo(t,Sl,t.index);switch(t.lanes=0,t.tag){case 16:e:{var n=t.pendingProps;if(e=dn(t.elementType),t.type=e,typeof e=="function")ec(e)?(n=pn(e,n),t.tag=1,t=ud(null,t,e,n,a)):(t.tag=0,t=Yc(null,t,e,n,a));else{if(e!=null){var s=e.$$typeof;if(s===$){t.tag=11,t=nd(null,t,e,n,a);break e}else if(s===ee){t.tag=14,t=ld(null,t,e,n,a);break e}}throw t=I(e)||e,Error(u(306,t,""))}}return t;case 0:return Yc(e,t,t.type,t.pendingProps,a);case 1:return n=t.type,s=pn(n,t.pendingProps),ud(e,t,n,s,a);case 3:e:{if(Xe(t,t.stateNode.containerInfo),e===null)throw Error(u(387));n=t.pendingProps;var i=t.memoizedState;s=i.element,pc(e,t),Ml(t,n,null,a);var c=t.memoizedState;if(n=c.cache,Da(t,nt,n),n!==i.cache&&oc(t,[nt],a,!0),El(),n=c.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:c.cache},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){t=dd(e,t,n,a);break e}else if(n!==s){s=Kt(Error(u(424)),t),bl(s),t=dd(e,t,n,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ve=$t(e.firstChild),ft=t,Ae=!0,ka=null,Xt=!0,a=iu(t,null,n,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(cn(),n===s){t=xa(e,t,a);break e}mt(e,t,n,a)}t=t.child}return t;case 26:return Vs(e,t),e===null?(a=Tf(t.type,null,t.pendingProps,null))?t.memoizedState=a:Ae||(a=t.type,e=t.pendingProps,n=ii(ye.current).createElement(a),n[tt]=t,n[at]=e,pt(n,a,e),ot(n),t.stateNode=n):t.memoizedState=Tf(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Ye(t),e===null&&Ae&&(n=t.stateNode=_f(t.type,t.pendingProps,ye.current),ft=t,Xt=!0,s=Ve,Qa(t.type)?(Ar=s,Ve=$t(n.firstChild)):Ve=s),mt(e,t,t.pendingProps.children,a),Vs(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ae&&((s=n=Ve)&&(n=fp(n,t.type,t.pendingProps,Xt),n!==null?(t.stateNode=n,ft=t,Ve=$t(n.firstChild),Xt=!1,s=!0):s=!1),s||za(t)),Ye(t),s=t.type,i=t.pendingProps,c=e!==null?e.memoizedProps:null,n=i.children,br(s,i)?n=null:c!==null&&br(s,c)&&(t.flags|=32),t.memoizedState!==null&&(s=Sc(e,t,Tm,null,null,a),Fl._currentValue=s),Vs(e,t),mt(e,t,n,a),t.child;case 6:return e===null&&Ae&&((e=a=Ve)&&(a=hp(a,t.pendingProps,Xt),a!==null?(t.stateNode=a,ft=t,Ve=null,e=!0):e=!1),e||za(t)),null;case 13:return fd(e,t,a);case 4:return Xe(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=hn(t,null,n,a):mt(e,t,n,a),t.child;case 11:return nd(e,t,t.type,t.pendingProps,a);case 7:return mt(e,t,t.pendingProps,a),t.child;case 8:return mt(e,t,t.pendingProps.children,a),t.child;case 12:return mt(e,t,t.pendingProps.children,a),t.child;case 10:return n=t.pendingProps,Da(t,t.type,n.value),mt(e,t,n.children,a),t.child;case 9:return s=t.type._context,n=t.pendingProps.children,on(t),s=ht(s),n=n(s),t.flags|=1,mt(e,t,n,a),t.child;case 14:return ld(e,t,t.type,t.pendingProps,a);case 15:return sd(e,t,t.type,t.pendingProps,a);case 19:return md(e,t,a);case 31:return Bm(e,t,a);case 22:return id(e,t,a,t.pendingProps);case 24:return on(t),n=ht(nt),e===null?(s=fc(),s===null&&(s=Ge,i=uc(),s.pooledCache=i,i.refCount++,i!==null&&(s.pooledCacheLanes|=a),s=i),t.memoizedState={parent:n,cache:s},mc(t),Da(t,nt,s)):((e.lanes&a)!==0&&(pc(e,t),Ml(t,null,null,a),El()),s=e.memoizedState,i=t.memoizedState,s.parent!==n?(s={parent:n,cache:n},t.memoizedState=s,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=s),Da(t,nt,n)):(n=i.cache,Da(t,nt,n),n!==s.cache&&oc(t,[nt],a,!0))),mt(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(u(156,t.tag))}function ja(e){e.flags|=4}function Fc(e,t,a,n,s){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(s&335544128)===s)if(e.stateNode.complete)e.flags|=8192;else if(Yd())e.flags|=8192;else throw fn=As,hc}else e.flags&=-16777217}function gd(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!zf(t))if(Yd())e.flags|=8192;else throw fn=As,hc}function Zs(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?qt():536870912,e.lanes|=t,$n|=t)}function Ol(e,t){if(!Ae)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var n=null;a!==null;)a.alternate!==null&&(n=a),a=a.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ke(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,n=0;if(t)for(var s=e.child;s!==null;)a|=s.lanes|s.childLanes,n|=s.subtreeFlags&65011712,n|=s.flags&65011712,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)a|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=a,t}function Rm(e,t,a){var n=t.pendingProps;switch(lc(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ke(t),null;case 1:return Ke(t),null;case 3:return a=t.stateNode,n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),ga(nt),te(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(On(t)?ja(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,ic())),Ke(t),null;case 26:var s=t.type,i=t.memoizedState;return e===null?(ja(t),i!==null?(Ke(t),gd(t,i)):(Ke(t),Fc(t,s,null,n,a))):i?i!==e.memoizedState?(ja(t),Ke(t),gd(t,i)):(Ke(t),t.flags&=-16777217):(e=e.memoizedProps,e!==n&&ja(t),Ke(t),Fc(t,s,e,n,a)),null;case 27:if(qe(t),a=ye.current,s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&ja(t);else{if(!n){if(t.stateNode===null)throw Error(u(166));return Ke(t),null}e=ne.current,On(t)?$o(t):(e=_f(s,n,a),t.stateNode=e,ja(t))}return Ke(t),null;case 5:if(qe(t),s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&ja(t);else{if(!n){if(t.stateNode===null)throw Error(u(166));return Ke(t),null}if(i=ne.current,On(t))$o(t);else{var c=ii(ye.current);switch(i){case 1:i=c.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:i=c.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":i=c.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":i=c.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":i=c.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof n.is=="string"?c.createElement("select",{is:n.is}):c.createElement("select"),n.multiple?i.multiple=!0:n.size&&(i.size=n.size);break;default:i=typeof n.is=="string"?c.createElement(s,{is:n.is}):c.createElement(s)}}i[tt]=t,i[at]=n;e:for(c=t.child;c!==null;){if(c.tag===5||c.tag===6)i.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===t)break e;for(;c.sibling===null;){if(c.return===null||c.return===t)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}t.stateNode=i;e:switch(pt(i,s,n),s){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&ja(t)}}return Ke(t),Fc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==n&&ja(t);else{if(typeof n!="string"&&t.stateNode===null)throw Error(u(166));if(e=ye.current,On(t)){if(e=t.stateNode,a=t.memoizedProps,n=null,s=ft,s!==null)switch(s.tag){case 27:case 5:n=s.memoizedProps}e[tt]=t,e=!!(e.nodeValue===a||n!==null&&n.suppressHydrationWarning===!0||hf(e.nodeValue,a)),e||za(t,!0)}else e=ii(e).createTextNode(n),e[tt]=t,t.stateNode=e}return Ke(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(n=On(t),a!==null){if(e===null){if(!n)throw Error(u(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(u(557));e[tt]=t}else cn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ke(t),e=!1}else a=ic(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(Bt(t),t):(Bt(t),null);if((t.flags&128)!==0)throw Error(u(558))}return Ke(t),null;case 13:if(n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(s=On(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(u(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(u(317));s[tt]=t}else cn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ke(t),s=!1}else s=ic(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),s=!0;if(!s)return t.flags&256?(Bt(t),t):(Bt(t),null)}return Bt(t),(t.flags&128)!==0?(t.lanes=a,t):(a=n!==null,e=e!==null&&e.memoizedState!==null,a&&(n=t.child,s=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(s=n.alternate.memoizedState.cachePool.pool),i=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(i=n.memoizedState.cachePool.pool),i!==s&&(n.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),Zs(t,t.updateQueue),Ke(t),null);case 4:return te(),e===null&&yr(t.stateNode.containerInfo),Ke(t),null;case 10:return ga(t.type),Ke(t),null;case 19:if(k(Ie),n=t.memoizedState,n===null)return Ke(t),null;if(s=(t.flags&128)!==0,i=n.rendering,i===null)if(s)Ol(n,!1);else{if(We!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(i=zs(e),i!==null){for(t.flags|=128,Ol(n,!1),e=i.updateQueue,t.updateQueue=e,Zs(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)Ko(a,e),a=a.sibling;return Z(Ie,Ie.current&1|2),Ae&&ma(t,n.treeForkCount),t.child}e=e.sibling}n.tail!==null&&jt()>Fs&&(t.flags|=128,s=!0,Ol(n,!1),t.lanes=4194304)}else{if(!s)if(e=zs(i),e!==null){if(t.flags|=128,s=!0,e=e.updateQueue,t.updateQueue=e,Zs(t,e),Ol(n,!0),n.tail===null&&n.tailMode==="hidden"&&!i.alternate&&!Ae)return Ke(t),null}else 2*jt()-n.renderingStartTime>Fs&&a!==536870912&&(t.flags|=128,s=!0,Ol(n,!1),t.lanes=4194304);n.isBackwards?(i.sibling=t.child,t.child=i):(e=n.last,e!==null?e.sibling=i:t.child=i,n.last=i)}return n.tail!==null?(e=n.tail,n.rendering=e,n.tail=e.sibling,n.renderingStartTime=jt(),e.sibling=null,a=Ie.current,Z(Ie,s?a&1|2:a&1),Ae&&ma(t,n.treeForkCount),e):(Ke(t),null);case 22:case 23:return Bt(t),xc(),n=t.memoizedState!==null,e!==null?e.memoizedState!==null!==n&&(t.flags|=8192):n&&(t.flags|=8192),n?(a&536870912)!==0&&(t.flags&128)===0&&(Ke(t),t.subtreeFlags&6&&(t.flags|=8192)):Ke(t),a=t.updateQueue,a!==null&&Zs(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),n=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),n!==a&&(t.flags|=2048),e!==null&&k(un),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),ga(nt),Ke(t),null;case 25:return null;case 30:return null}throw Error(u(156,t.tag))}function Hm(e,t){switch(lc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ga(nt),te(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return qe(t),null;case 31:if(t.memoizedState!==null){if(Bt(t),t.alternate===null)throw Error(u(340));cn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Bt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(u(340));cn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return k(Ie),null;case 4:return te(),null;case 10:return ga(t.type),null;case 22:case 23:return Bt(t),xc(),e!==null&&k(un),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ga(nt),null;case 25:return null;default:return null}}function vd(e,t){switch(lc(t),t.tag){case 3:ga(nt),te();break;case 26:case 27:case 5:qe(t);break;case 4:te();break;case 31:t.memoizedState!==null&&Bt(t);break;case 13:Bt(t);break;case 19:k(Ie);break;case 10:ga(t.type);break;case 22:case 23:Bt(t),xc(),e!==null&&k(un);break;case 24:ga(nt)}}function Rl(e,t){try{var a=t.updateQueue,n=a!==null?a.lastEffect:null;if(n!==null){var s=n.next;a=s;do{if((a.tag&e)===e){n=void 0;var i=a.create,c=a.inst;n=i(),c.destroy=n}a=a.next}while(a!==s)}}catch(o){Oe(t,t.return,o)}}function Ua(e,t,a){try{var n=t.updateQueue,s=n!==null?n.lastEffect:null;if(s!==null){var i=s.next;n=i;do{if((n.tag&e)===e){var c=n.inst,o=c.destroy;if(o!==void 0){c.destroy=void 0,s=t;var p=a,M=o;try{M()}catch(q){Oe(s,p,q)}}}n=n.next}while(n!==i)}}catch(q){Oe(t,t.return,q)}}function yd(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{ru(t,a)}catch(n){Oe(e,e.return,n)}}}function xd(e,t,a){a.props=pn(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(n){Oe(e,t,n)}}function Hl(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var n=e.stateNode;break;case 30:n=e.stateNode;break;default:n=e.stateNode}typeof a=="function"?e.refCleanup=a(n):a.current=n}}catch(s){Oe(e,t,s)}}function sa(e,t){var a=e.ref,n=e.refCleanup;if(a!==null)if(typeof n=="function")try{n()}catch(s){Oe(e,t,s)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(s){Oe(e,t,s)}else a.current=null}function jd(e){var t=e.type,a=e.memoizedProps,n=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break e;case"img":a.src?n.src=a.src:a.srcSet&&(n.srcset=a.srcSet)}}catch(s){Oe(e,e.return,s)}}function Wc(e,t,a){try{var n=e.stateNode;ip(n,e.type,a,t),n[at]=t}catch(s){Oe(e,e.return,s)}}function Nd(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Qa(e.type)||e.tag===4}function Pc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Nd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Qa(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ic(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=da));else if(n!==4&&(n===27&&Qa(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(Ic(e,t,a),e=e.sibling;e!==null;)Ic(e,t,a),e=e.sibling}function Qs(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(n!==4&&(n===27&&Qa(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Qs(e,t,a),e=e.sibling;e!==null;)Qs(e,t,a),e=e.sibling}function Sd(e){var t=e.stateNode,a=e.memoizedProps;try{for(var n=e.type,s=t.attributes;s.length;)t.removeAttributeNode(s[0]);pt(t,n,a),t[tt]=e,t[at]=a}catch(i){Oe(e,e.return,i)}}var Na=!1,it=!1,er=!1,bd=typeof WeakSet=="function"?WeakSet:Set,ut=null;function Um(e,t){if(e=e.containerInfo,Nr=hi,e=Bo(e),Xi(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var n=a.getSelection&&a.getSelection();if(n&&n.rangeCount!==0){a=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{a.nodeType,i.nodeType}catch{a=null;break e}var c=0,o=-1,p=-1,M=0,q=0,X=e,z=null;t:for(;;){for(var R;X!==a||s!==0&&X.nodeType!==3||(o=c+s),X!==i||n!==0&&X.nodeType!==3||(p=c+n),X.nodeType===3&&(c+=X.nodeValue.length),(R=X.firstChild)!==null;)z=X,X=R;for(;;){if(X===e)break t;if(z===a&&++M===s&&(o=c),z===i&&++q===n&&(p=c),(R=X.nextSibling)!==null)break;X=z,z=X.parentNode}X=R}a=o===-1||p===-1?null:{start:o,end:p}}else a=null}a=a||{start:0,end:0}}else a=null;for(Sr={focusedElem:e,selectionRange:a},hi=!1,ut=t;ut!==null;)if(t=ut,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ut=e;else for(;ut!==null;){switch(t=ut,i=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)s=e[a],s.ref.impl=s.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&i!==null){e=void 0,a=t,s=i.memoizedProps,i=i.memoizedState,n=a.stateNode;try{var fe=pn(a.type,s);e=n.getSnapshotBeforeUpdate(fe,i),n.__reactInternalSnapshotBeforeUpdate=e}catch(ve){Oe(a,a.return,ve)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)wr(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":wr(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(u(163))}if(e=t.sibling,e!==null){e.return=t.return,ut=e;break}ut=t.return}}function _d(e,t,a){var n=a.flags;switch(a.tag){case 0:case 11:case 15:ba(e,a),n&4&&Rl(5,a);break;case 1:if(ba(e,a),n&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(c){Oe(a,a.return,c)}else{var s=pn(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(s,t,e.__reactInternalSnapshotBeforeUpdate)}catch(c){Oe(a,a.return,c)}}n&64&&yd(a),n&512&&Hl(a,a.return);break;case 3:if(ba(e,a),n&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{ru(e,t)}catch(c){Oe(a,a.return,c)}}break;case 27:t===null&&n&4&&Sd(a);case 26:case 5:ba(e,a),t===null&&n&4&&jd(a),n&512&&Hl(a,a.return);break;case 12:ba(e,a);break;case 31:ba(e,a),n&4&&Td(e,a);break;case 13:ba(e,a),n&4&&Ad(e,a),n&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Jm.bind(null,a),mp(e,a))));break;case 22:if(n=a.memoizedState!==null||Na,!n){t=t!==null&&t.memoizedState!==null||it,s=Na;var i=it;Na=n,(it=t)&&!i?_a(e,a,(a.subtreeFlags&8772)!==0):ba(e,a),Na=s,it=i}break;case 30:break;default:ba(e,a)}}function wd(e){var t=e.alternate;t!==null&&(e.alternate=null,wd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Mi(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Qe=null,Ct=!1;function Sa(e,t,a){for(a=a.child;a!==null;)Cd(e,t,a),a=a.sibling}function Cd(e,t,a){if(Nt&&typeof Nt.onCommitFiberUnmount=="function")try{Nt.onCommitFiberUnmount(Ia,a)}catch{}switch(a.tag){case 26:it||sa(a,t),Sa(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:it||sa(a,t);var n=Qe,s=Ct;Qa(a.type)&&(Qe=a.stateNode,Ct=!1),Sa(e,t,a),Xl(a.stateNode),Qe=n,Ct=s;break;case 5:it||sa(a,t);case 6:if(n=Qe,s=Ct,Qe=null,Sa(e,t,a),Qe=n,Ct=s,Qe!==null)if(Ct)try{(Qe.nodeType===9?Qe.body:Qe.nodeName==="HTML"?Qe.ownerDocument.body:Qe).removeChild(a.stateNode)}catch(i){Oe(a,t,i)}else try{Qe.removeChild(a.stateNode)}catch(i){Oe(a,t,i)}break;case 18:Qe!==null&&(Ct?(e=Qe,xf(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),nl(e)):xf(Qe,a.stateNode));break;case 4:n=Qe,s=Ct,Qe=a.stateNode.containerInfo,Ct=!0,Sa(e,t,a),Qe=n,Ct=s;break;case 0:case 11:case 14:case 15:Ua(2,a,t),it||Ua(4,a,t),Sa(e,t,a);break;case 1:it||(sa(a,t),n=a.stateNode,typeof n.componentWillUnmount=="function"&&xd(a,t,n)),Sa(e,t,a);break;case 21:Sa(e,t,a);break;case 22:it=(n=it)||a.memoizedState!==null,Sa(e,t,a),it=n;break;default:Sa(e,t,a)}}function Td(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{nl(e)}catch(a){Oe(t,t.return,a)}}}function Ad(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{nl(e)}catch(a){Oe(t,t.return,a)}}function qm(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new bd),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new bd),t;default:throw Error(u(435,e.tag))}}function Xs(e,t){var a=qm(e);t.forEach(function(n){if(!a.has(n)){a.add(n);var s=$m.bind(null,e,n);n.then(s,s)}})}function Tt(e,t){var a=t.deletions;if(a!==null)for(var n=0;n<a.length;n++){var s=a[n],i=e,c=t,o=c;e:for(;o!==null;){switch(o.tag){case 27:if(Qa(o.type)){Qe=o.stateNode,Ct=!1;break e}break;case 5:Qe=o.stateNode,Ct=!1;break e;case 3:case 4:Qe=o.stateNode.containerInfo,Ct=!0;break e}o=o.return}if(Qe===null)throw Error(u(160));Cd(i,c,s),Qe=null,Ct=!1,i=s.alternate,i!==null&&(i.return=null),s.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Ed(t,e),t=t.sibling}var ta=null;function Ed(e,t){var a=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Tt(t,e),At(e),n&4&&(Ua(3,e,e.return),Rl(3,e),Ua(5,e,e.return));break;case 1:Tt(t,e),At(e),n&512&&(it||a===null||sa(a,a.return)),n&64&&Na&&(e=e.updateQueue,e!==null&&(n=e.callbacks,n!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?n:a.concat(n))));break;case 26:var s=ta;if(Tt(t,e),At(e),n&512&&(it||a===null||sa(a,a.return)),n&4){var i=a!==null?a.memoizedState:null;if(n=e.memoizedState,a===null)if(n===null)if(e.stateNode===null){e:{n=e.type,a=e.memoizedProps,s=s.ownerDocument||s;t:switch(n){case"title":i=s.getElementsByTagName("title")[0],(!i||i[dl]||i[tt]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=s.createElement(n),s.head.insertBefore(i,s.querySelector("head > title"))),pt(i,n,a),i[tt]=e,ot(i),n=i;break e;case"link":var c=Mf("link","href",s).get(n+(a.href||""));if(c){for(var o=0;o<c.length;o++)if(i=c[o],i.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&i.getAttribute("rel")===(a.rel==null?null:a.rel)&&i.getAttribute("title")===(a.title==null?null:a.title)&&i.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){c.splice(o,1);break t}}i=s.createElement(n),pt(i,n,a),s.head.appendChild(i);break;case"meta":if(c=Mf("meta","content",s).get(n+(a.content||""))){for(o=0;o<c.length;o++)if(i=c[o],i.getAttribute("content")===(a.content==null?null:""+a.content)&&i.getAttribute("name")===(a.name==null?null:a.name)&&i.getAttribute("property")===(a.property==null?null:a.property)&&i.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&i.getAttribute("charset")===(a.charSet==null?null:a.charSet)){c.splice(o,1);break t}}i=s.createElement(n),pt(i,n,a),s.head.appendChild(i);break;default:throw Error(u(468,n))}i[tt]=e,ot(i),n=i}e.stateNode=n}else kf(s,e.type,e.stateNode);else e.stateNode=Ef(s,n,e.memoizedProps);else i!==n?(i===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):i.count--,n===null?kf(s,e.type,e.stateNode):Ef(s,n,e.memoizedProps)):n===null&&e.stateNode!==null&&Wc(e,e.memoizedProps,a.memoizedProps)}break;case 27:Tt(t,e),At(e),n&512&&(it||a===null||sa(a,a.return)),a!==null&&n&4&&Wc(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Tt(t,e),At(e),n&512&&(it||a===null||sa(a,a.return)),e.flags&32){s=e.stateNode;try{Cn(s,"")}catch(fe){Oe(e,e.return,fe)}}n&4&&e.stateNode!=null&&(s=e.memoizedProps,Wc(e,s,a!==null?a.memoizedProps:s)),n&1024&&(er=!0);break;case 6:if(Tt(t,e),At(e),n&4){if(e.stateNode===null)throw Error(u(162));n=e.memoizedProps,a=e.stateNode;try{a.nodeValue=n}catch(fe){Oe(e,e.return,fe)}}break;case 3:if(oi=null,s=ta,ta=ci(t.containerInfo),Tt(t,e),ta=s,At(e),n&4&&a!==null&&a.memoizedState.isDehydrated)try{nl(t.containerInfo)}catch(fe){Oe(e,e.return,fe)}er&&(er=!1,Md(e));break;case 4:n=ta,ta=ci(e.stateNode.containerInfo),Tt(t,e),At(e),ta=n;break;case 12:Tt(t,e),At(e);break;case 31:Tt(t,e),At(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Xs(e,n)));break;case 13:Tt(t,e),At(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&($s=jt()),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Xs(e,n)));break;case 22:s=e.memoizedState!==null;var p=a!==null&&a.memoizedState!==null,M=Na,q=it;if(Na=M||s,it=q||p,Tt(t,e),it=q,Na=M,At(e),n&8192)e:for(t=e.stateNode,t._visibility=s?t._visibility&-2:t._visibility|1,s&&(a===null||p||Na||it||gn(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){p=a=t;try{if(i=p.stateNode,s)c=i.style,typeof c.setProperty=="function"?c.setProperty("display","none","important"):c.display="none";else{o=p.stateNode;var X=p.memoizedProps.style,z=X!=null&&X.hasOwnProperty("display")?X.display:null;o.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(fe){Oe(p,p.return,fe)}}}else if(t.tag===6){if(a===null){p=t;try{p.stateNode.nodeValue=s?"":p.memoizedProps}catch(fe){Oe(p,p.return,fe)}}}else if(t.tag===18){if(a===null){p=t;try{var R=p.stateNode;s?jf(R,!0):jf(p.stateNode,!1)}catch(fe){Oe(p,p.return,fe)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}n&4&&(n=e.updateQueue,n!==null&&(a=n.retryQueue,a!==null&&(n.retryQueue=null,Xs(e,a))));break;case 19:Tt(t,e),At(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Xs(e,n)));break;case 30:break;case 21:break;default:Tt(t,e),At(e)}}function At(e){var t=e.flags;if(t&2){try{for(var a,n=e.return;n!==null;){if(Nd(n)){a=n;break}n=n.return}if(a==null)throw Error(u(160));switch(a.tag){case 27:var s=a.stateNode,i=Pc(e);Qs(e,i,s);break;case 5:var c=a.stateNode;a.flags&32&&(Cn(c,""),a.flags&=-33);var o=Pc(e);Qs(e,o,c);break;case 3:case 4:var p=a.stateNode.containerInfo,M=Pc(e);Ic(e,M,p);break;default:throw Error(u(161))}}catch(q){Oe(e,e.return,q)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Md(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Md(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function ba(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)_d(e,t.alternate,t),t=t.sibling}function gn(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ua(4,t,t.return),gn(t);break;case 1:sa(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&xd(t,t.return,a),gn(t);break;case 27:Xl(t.stateNode);case 26:case 5:sa(t,t.return),gn(t);break;case 22:t.memoizedState===null&&gn(t);break;case 30:gn(t);break;default:gn(t)}e=e.sibling}}function _a(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var n=t.alternate,s=e,i=t,c=i.flags;switch(i.tag){case 0:case 11:case 15:_a(s,i,a),Rl(4,i);break;case 1:if(_a(s,i,a),n=i,s=n.stateNode,typeof s.componentDidMount=="function")try{s.componentDidMount()}catch(M){Oe(n,n.return,M)}if(n=i,s=n.updateQueue,s!==null){var o=n.stateNode;try{var p=s.shared.hiddenCallbacks;if(p!==null)for(s.shared.hiddenCallbacks=null,s=0;s<p.length;s++)cu(p[s],o)}catch(M){Oe(n,n.return,M)}}a&&c&64&&yd(i),Hl(i,i.return);break;case 27:Sd(i);case 26:case 5:_a(s,i,a),a&&n===null&&c&4&&jd(i),Hl(i,i.return);break;case 12:_a(s,i,a);break;case 31:_a(s,i,a),a&&c&4&&Td(s,i);break;case 13:_a(s,i,a),a&&c&4&&Ad(s,i);break;case 22:i.memoizedState===null&&_a(s,i,a),Hl(i,i.return);break;case 30:break;default:_a(s,i,a)}t=t.sibling}}function tr(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&_l(a))}function ar(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&_l(e))}function aa(e,t,a,n){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)kd(e,t,a,n),t=t.sibling}function kd(e,t,a,n){var s=t.flags;switch(t.tag){case 0:case 11:case 15:aa(e,t,a,n),s&2048&&Rl(9,t);break;case 1:aa(e,t,a,n);break;case 3:aa(e,t,a,n),s&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&_l(e)));break;case 12:if(s&2048){aa(e,t,a,n),e=t.stateNode;try{var i=t.memoizedProps,c=i.id,o=i.onPostCommit;typeof o=="function"&&o(c,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(p){Oe(t,t.return,p)}}else aa(e,t,a,n);break;case 31:aa(e,t,a,n);break;case 13:aa(e,t,a,n);break;case 23:break;case 22:i=t.stateNode,c=t.alternate,t.memoizedState!==null?i._visibility&2?aa(e,t,a,n):Ul(e,t):i._visibility&2?aa(e,t,a,n):(i._visibility|=2,Qn(e,t,a,n,(t.subtreeFlags&10256)!==0||!1)),s&2048&&tr(c,t);break;case 24:aa(e,t,a,n),s&2048&&ar(t.alternate,t);break;default:aa(e,t,a,n)}}function Qn(e,t,a,n,s){for(s=s&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var i=e,c=t,o=a,p=n,M=c.flags;switch(c.tag){case 0:case 11:case 15:Qn(i,c,o,p,s),Rl(8,c);break;case 23:break;case 22:var q=c.stateNode;c.memoizedState!==null?q._visibility&2?Qn(i,c,o,p,s):Ul(i,c):(q._visibility|=2,Qn(i,c,o,p,s)),s&&M&2048&&tr(c.alternate,c);break;case 24:Qn(i,c,o,p,s),s&&M&2048&&ar(c.alternate,c);break;default:Qn(i,c,o,p,s)}t=t.sibling}}function Ul(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,n=t,s=n.flags;switch(n.tag){case 22:Ul(a,n),s&2048&&tr(n.alternate,n);break;case 24:Ul(a,n),s&2048&&ar(n.alternate,n);break;default:Ul(a,n)}t=t.sibling}}var ql=8192;function Xn(e,t,a){if(e.subtreeFlags&ql)for(e=e.child;e!==null;)zd(e,t,a),e=e.sibling}function zd(e,t,a){switch(e.tag){case 26:Xn(e,t,a),e.flags&ql&&e.memoizedState!==null&&Cp(a,ta,e.memoizedState,e.memoizedProps);break;case 5:Xn(e,t,a);break;case 3:case 4:var n=ta;ta=ci(e.stateNode.containerInfo),Xn(e,t,a),ta=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=ql,ql=16777216,Xn(e,t,a),ql=n):Xn(e,t,a));break;default:Xn(e,t,a)}}function Dd(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Gl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];ut=n,Bd(n,e)}Dd(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ld(e),e=e.sibling}function Ld(e){switch(e.tag){case 0:case 11:case 15:Gl(e),e.flags&2048&&Ua(9,e,e.return);break;case 3:Gl(e);break;case 12:Gl(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Js(e)):Gl(e);break;default:Gl(e)}}function Js(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];ut=n,Bd(n,e)}Dd(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ua(8,t,t.return),Js(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,Js(t));break;default:Js(t)}e=e.sibling}}function Bd(e,t){for(;ut!==null;){var a=ut;switch(a.tag){case 0:case 11:case 15:Ua(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var n=a.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:_l(a.memoizedState.cache)}if(n=a.child,n!==null)n.return=a,ut=n;else e:for(a=e;ut!==null;){n=ut;var s=n.sibling,i=n.return;if(wd(n),n===a){ut=null;break e}if(s!==null){s.return=i,ut=s;break e}ut=i}}}var Gm={getCacheForType:function(e){var t=ht(nt),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return ht(nt).controller.signal}},Ym=typeof WeakMap=="function"?WeakMap:Map,De=0,Ge=null,_e=null,Ce=0,Be=0,Ot=null,qa=!1,Jn=!1,nr=!1,wa=0,We=0,Ga=0,vn=0,lr=0,Rt=0,$n=0,Yl=null,Et=null,sr=!1,$s=0,Od=0,Fs=1/0,Ws=null,Ya=null,ct=0,Va=null,Fn=null,Ca=0,ir=0,cr=null,Rd=null,Vl=0,rr=null;function Ht(){return(De&2)!==0&&Ce!==0?Ce&-Ce:h.T!==null?mr():ul()}function Hd(){if(Rt===0)if((Ce&536870912)===0||Ae){var e=ue;ue<<=1,(ue&3932160)===0&&(ue=262144),Rt=e}else Rt=536870912;return e=Lt.current,e!==null&&(e.flags|=32),Rt}function Mt(e,t,a){(e===Ge&&(Be===2||Be===9)||e.cancelPendingCommit!==null)&&(Wn(e,0),Ka(e,Ce,Rt,!1)),_(e,a),((De&2)===0||e!==Ge)&&(e===Ge&&((De&2)===0&&(vn|=a),We===4&&Ka(e,Ce,Rt,!1)),ia(e))}function Ud(e,t,a){if((De&6)!==0)throw Error(u(327));var n=!a&&(t&127)===0&&(t&e.expiredLanes)===0||Ze(e,t),s=n?Zm(e,t):ur(e,t,!0),i=n;do{if(s===0){Jn&&!n&&Ka(e,t,0,!1);break}else{if(a=e.current.alternate,i&&!Vm(a)){s=ur(e,t,!1),i=!1;continue}if(s===2){if(i=t,e.errorRecoveryDisabledLanes&i)var c=0;else c=e.pendingLanes&-536870913,c=c!==0?c:c&536870912?536870912:0;if(c!==0){t=c;e:{var o=e;s=Yl;var p=o.current.memoizedState.isDehydrated;if(p&&(Wn(o,c).flags|=256),c=ur(o,c,!1),c!==2){if(nr&&!p){o.errorRecoveryDisabledLanes|=i,vn|=i,s=4;break e}i=Et,Et=s,i!==null&&(Et===null?Et=i:Et.push.apply(Et,i))}s=c}if(i=!1,s!==2)continue}}if(s===1){Wn(e,0),Ka(e,t,0,!0);break}e:{switch(n=e,i=s,i){case 0:case 1:throw Error(u(345));case 4:if((t&4194048)!==t)break;case 6:Ka(n,t,Rt,!qa);break e;case 2:Et=null;break;case 3:case 5:break;default:throw Error(u(329))}if((t&62914560)===t&&(s=$s+300-jt(),10<s)){if(Ka(n,t,Rt,!qa),Je(n,0,!0)!==0)break e;Ca=t,n.timeoutHandle=vf(qd.bind(null,n,a,Et,Ws,sr,t,Rt,vn,$n,qa,i,"Throttled",-0,0),s);break e}qd(n,a,Et,Ws,sr,t,Rt,vn,$n,qa,i,null,-0,0)}}break}while(!0);ia(e)}function qd(e,t,a,n,s,i,c,o,p,M,q,X,z,R){if(e.timeoutHandle=-1,X=t.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:da},zd(t,i,X);var fe=(i&62914560)===i?$s-jt():(i&4194048)===i?Od-jt():0;if(fe=Tp(X,fe),fe!==null){Ca=i,e.cancelPendingCommit=fe(Jd.bind(null,e,t,i,a,n,s,c,o,p,q,X,null,z,R)),Ka(e,i,c,!M);return}}Jd(e,t,i,a,n,s,c,o,p)}function Vm(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var n=0;n<a.length;n++){var s=a[n],i=s.getSnapshot;s=s.value;try{if(!zt(i(),s))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ka(e,t,a,n){t&=~lr,t&=~vn,e.suspendedLanes|=t,e.pingedLanes&=~t,n&&(e.warmLanes|=t),n=e.expirationTimes;for(var s=t;0<s;){var i=31-St(s),c=1<<i;n[i]=-1,s&=~c}a!==0&&Le(e,a,t)}function Ps(){return(De&6)===0?(Kl(0),!1):!0}function or(){if(_e!==null){if(Be===0)var e=_e.return;else e=_e,pa=rn=null,wc(e),Gn=null,Cl=0,e=_e;for(;e!==null;)vd(e.alternate,e),e=e.return;_e=null}}function Wn(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,op(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Ca=0,or(),Ge=e,_e=a=ha(e.current,null),Ce=t,Be=0,Ot=null,qa=!1,Jn=Ze(e,t),nr=!1,$n=Rt=lr=vn=Ga=We=0,Et=Yl=null,sr=!1,(t&8)!==0&&(t|=t&32);var n=e.entangledLanes;if(n!==0)for(e=e.entanglements,n&=t;0<n;){var s=31-St(n),i=1<<s;t|=e[s],n&=~i}return wa=t,xs(),a}function Gd(e,t){Ne=null,h.H=Ll,t===qn||t===Ts?(t=nu(),Be=3):t===hc?(t=nu(),Be=4):Be=t===Gc?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Ot=t,_e===null&&(We=1,Gs(e,Kt(t,e.current)))}function Yd(){var e=Lt.current;return e===null?!0:(Ce&4194048)===Ce?Jt===null:(Ce&62914560)===Ce||(Ce&536870912)!==0?e===Jt:!1}function Vd(){var e=h.H;return h.H=Ll,e===null?Ll:e}function Kd(){var e=h.A;return h.A=Gm,e}function Is(){We=4,qa||(Ce&4194048)!==Ce&&Lt.current!==null||(Jn=!0),(Ga&134217727)===0&&(vn&134217727)===0||Ge===null||Ka(Ge,Ce,Rt,!1)}function ur(e,t,a){var n=De;De|=2;var s=Vd(),i=Kd();(Ge!==e||Ce!==t)&&(Ws=null,Wn(e,t)),t=!1;var c=We;e:do try{if(Be!==0&&_e!==null){var o=_e,p=Ot;switch(Be){case 8:or(),c=6;break e;case 3:case 2:case 9:case 6:Lt.current===null&&(t=!0);var M=Be;if(Be=0,Ot=null,Pn(e,o,p,M),a&&Jn){c=0;break e}break;default:M=Be,Be=0,Ot=null,Pn(e,o,p,M)}}Km(),c=We;break}catch(q){Gd(e,q)}while(!0);return t&&e.shellSuspendCounter++,pa=rn=null,De=n,h.H=s,h.A=i,_e===null&&(Ge=null,Ce=0,xs()),c}function Km(){for(;_e!==null;)Zd(_e)}function Zm(e,t){var a=De;De|=2;var n=Vd(),s=Kd();Ge!==e||Ce!==t?(Ws=null,Fs=jt()+500,Wn(e,t)):Jn=Ze(e,t);e:do try{if(Be!==0&&_e!==null){t=_e;var i=Ot;t:switch(Be){case 1:Be=0,Ot=null,Pn(e,t,i,1);break;case 2:case 9:if(tu(i)){Be=0,Ot=null,Qd(t);break}t=function(){Be!==2&&Be!==9||Ge!==e||(Be=7),ia(e)},i.then(t,t);break e;case 3:Be=7;break e;case 4:Be=5;break e;case 7:tu(i)?(Be=0,Ot=null,Qd(t)):(Be=0,Ot=null,Pn(e,t,i,7));break;case 5:var c=null;switch(_e.tag){case 26:c=_e.memoizedState;case 5:case 27:var o=_e;if(c?zf(c):o.stateNode.complete){Be=0,Ot=null;var p=o.sibling;if(p!==null)_e=p;else{var M=o.return;M!==null?(_e=M,ei(M)):_e=null}break t}}Be=0,Ot=null,Pn(e,t,i,5);break;case 6:Be=0,Ot=null,Pn(e,t,i,6);break;case 8:or(),We=6;break e;default:throw Error(u(462))}}Qm();break}catch(q){Gd(e,q)}while(!0);return pa=rn=null,h.H=n,h.A=s,De=a,_e!==null?0:(Ge=null,Ce=0,xs(),We)}function Qm(){for(;_e!==null&&!ls();)Zd(_e)}function Zd(e){var t=pd(e.alternate,e,wa);e.memoizedProps=e.pendingProps,t===null?ei(e):_e=t}function Qd(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=od(a,t,t.pendingProps,t.type,void 0,Ce);break;case 11:t=od(a,t,t.pendingProps,t.type.render,t.ref,Ce);break;case 5:wc(t);default:vd(a,t),t=_e=Ko(t,wa),t=pd(a,t,wa)}e.memoizedProps=e.pendingProps,t===null?ei(e):_e=t}function Pn(e,t,a,n){pa=rn=null,wc(t),Gn=null,Cl=0;var s=t.return;try{if(Lm(e,s,t,a,Ce)){We=1,Gs(e,Kt(a,e.current)),_e=null;return}}catch(i){if(s!==null)throw _e=s,i;We=1,Gs(e,Kt(a,e.current)),_e=null;return}t.flags&32768?(Ae||n===1?e=!0:Jn||(Ce&536870912)!==0?e=!1:(qa=e=!0,(n===2||n===9||n===3||n===6)&&(n=Lt.current,n!==null&&n.tag===13&&(n.flags|=16384))),Xd(t,e)):ei(t)}function ei(e){var t=e;do{if((t.flags&32768)!==0){Xd(t,qa);return}e=t.return;var a=Rm(t.alternate,t,wa);if(a!==null){_e=a;return}if(t=t.sibling,t!==null){_e=t;return}_e=t=e}while(t!==null);We===0&&(We=5)}function Xd(e,t){do{var a=Hm(e.alternate,e);if(a!==null){a.flags&=32767,_e=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){_e=e;return}_e=e=a}while(e!==null);We=6,_e=null}function Jd(e,t,a,n,s,i,c,o,p){e.cancelPendingCommit=null;do ti();while(ct!==0);if((De&6)!==0)throw Error(u(327));if(t!==null){if(t===e.current)throw Error(u(177));if(i=t.lanes|t.childLanes,i|=Pi,ge(e,a,i,c,o,p),e===Ge&&(_e=Ge=null,Ce=0),Fn=t,Va=e,Ca=a,ir=i,cr=s,Rd=n,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Fm(xn,function(){return Id(),null})):(e.callbackNode=null,e.callbackPriority=0),n=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||n){n=h.T,h.T=null,s=y.p,y.p=2,c=De,De|=4;try{Um(e,t,a)}finally{De=c,y.p=s,h.T=n}}ct=1,$d(),Fd(),Wd()}}function $d(){if(ct===1){ct=0;var e=Va,t=Fn,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=h.T,h.T=null;var n=y.p;y.p=2;var s=De;De|=4;try{Ed(t,e);var i=Sr,c=Bo(e.containerInfo),o=i.focusedElem,p=i.selectionRange;if(c!==o&&o&&o.ownerDocument&&Lo(o.ownerDocument.documentElement,o)){if(p!==null&&Xi(o)){var M=p.start,q=p.end;if(q===void 0&&(q=M),"selectionStart"in o)o.selectionStart=M,o.selectionEnd=Math.min(q,o.value.length);else{var X=o.ownerDocument||document,z=X&&X.defaultView||window;if(z.getSelection){var R=z.getSelection(),fe=o.textContent.length,ve=Math.min(p.start,fe),Ue=p.end===void 0?ve:Math.min(p.end,fe);!R.extend&&ve>Ue&&(c=Ue,Ue=ve,ve=c);var b=Do(o,ve),x=Do(o,Ue);if(b&&x&&(R.rangeCount!==1||R.anchorNode!==b.node||R.anchorOffset!==b.offset||R.focusNode!==x.node||R.focusOffset!==x.offset)){var E=X.createRange();E.setStart(b.node,b.offset),R.removeAllRanges(),ve>Ue?(R.addRange(E),R.extend(x.node,x.offset)):(E.setEnd(x.node,x.offset),R.addRange(E))}}}}for(X=[],R=o;R=R.parentNode;)R.nodeType===1&&X.push({element:R,left:R.scrollLeft,top:R.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<X.length;o++){var V=X[o];V.element.scrollLeft=V.left,V.element.scrollTop=V.top}}hi=!!Nr,Sr=Nr=null}finally{De=s,y.p=n,h.T=a}}e.current=t,ct=2}}function Fd(){if(ct===2){ct=0;var e=Va,t=Fn,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=h.T,h.T=null;var n=y.p;y.p=2;var s=De;De|=4;try{_d(e,t.alternate,t)}finally{De=s,y.p=n,h.T=a}}ct=3}}function Wd(){if(ct===4||ct===3){ct=0,ss();var e=Va,t=Fn,a=Ca,n=Rd;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?ct=5:(ct=0,Fn=Va=null,Pd(e,e.pendingLanes));var s=e.pendingLanes;if(s===0&&(Ya=null),_t(a),t=t.stateNode,Nt&&typeof Nt.onCommitFiberRoot=="function")try{Nt.onCommitFiberRoot(Ia,t,void 0,(t.current.flags&128)===128)}catch{}if(n!==null){t=h.T,s=y.p,y.p=2,h.T=null;try{for(var i=e.onRecoverableError,c=0;c<n.length;c++){var o=n[c];i(o.value,{componentStack:o.stack})}}finally{h.T=t,y.p=s}}(Ca&3)!==0&&ti(),ia(e),s=e.pendingLanes,(a&261930)!==0&&(s&42)!==0?e===rr?Vl++:(Vl=0,rr=e):Vl=0,Kl(0)}}function Pd(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,_l(t)))}function ti(){return $d(),Fd(),Wd(),Id()}function Id(){if(ct!==5)return!1;var e=Va,t=ir;ir=0;var a=_t(Ca),n=h.T,s=y.p;try{y.p=32>a?32:a,h.T=null,a=cr,cr=null;var i=Va,c=Ca;if(ct=0,Fn=Va=null,Ca=0,(De&6)!==0)throw Error(u(331));var o=De;if(De|=4,Ld(i.current),kd(i,i.current,c,a),De=o,Kl(0,!1),Nt&&typeof Nt.onPostCommitFiberRoot=="function")try{Nt.onPostCommitFiberRoot(Ia,i)}catch{}return!0}finally{y.p=s,h.T=n,Pd(e,t)}}function ef(e,t,a){t=Kt(a,t),t=qc(e.stateNode,t,2),e=Oa(e,t,2),e!==null&&(_(e,2),ia(e))}function Oe(e,t,a){if(e.tag===3)ef(e,e,a);else for(;t!==null;){if(t.tag===3){ef(t,e,a);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ya===null||!Ya.has(n))){e=Kt(a,e),a=td(2),n=Oa(t,a,2),n!==null&&(ad(a,n,t,e),_(n,2),ia(n));break}}t=t.return}}function dr(e,t,a){var n=e.pingCache;if(n===null){n=e.pingCache=new Ym;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(a)||(nr=!0,s.add(a),e=Xm.bind(null,e,t,a),t.then(e,e))}function Xm(e,t,a){var n=e.pingCache;n!==null&&n.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Ge===e&&(Ce&a)===a&&(We===4||We===3&&(Ce&62914560)===Ce&&300>jt()-$s?(De&2)===0&&Wn(e,0):lr|=a,$n===Ce&&($n=0)),ia(e)}function tf(e,t){t===0&&(t=qt()),e=ln(e,t),e!==null&&(_(e,t),ia(e))}function Jm(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),tf(e,a)}function $m(e,t){var a=0;switch(e.tag){case 31:case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(a=s.retryLane);break;case 19:n=e.stateNode;break;case 22:n=e.stateNode._retryCache;break;default:throw Error(u(314))}n!==null&&n.delete(t),tf(e,a)}function Fm(e,t){return ll(e,t)}var ai=null,In=null,fr=!1,ni=!1,hr=!1,Za=0;function ia(e){e!==In&&e.next===null&&(In===null?ai=In=e:In=In.next=e),ni=!0,fr||(fr=!0,Pm())}function Kl(e,t){if(!hr&&ni){hr=!0;do for(var a=!1,n=ai;n!==null;){if(e!==0){var s=n.pendingLanes;if(s===0)var i=0;else{var c=n.suspendedLanes,o=n.pingedLanes;i=(1<<31-St(42|e)+1)-1,i&=s&~(c&~o),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(a=!0,sf(n,i))}else i=Ce,i=Je(n,n===Ge?i:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),(i&3)===0||Ze(n,i)||(a=!0,sf(n,i));n=n.next}while(a);hr=!1}}function Wm(){af()}function af(){ni=fr=!1;var e=0;Za!==0&&rp()&&(e=Za);for(var t=jt(),a=null,n=ai;n!==null;){var s=n.next,i=nf(n,t);i===0?(n.next=null,a===null?ai=s:a.next=s,s===null&&(In=a)):(a=n,(e!==0||(i&3)!==0)&&(ni=!0)),n=s}ct!==0&&ct!==5||Kl(e),Za!==0&&(Za=0)}function nf(e,t){for(var a=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes&-62914561;0<i;){var c=31-St(i),o=1<<c,p=s[c];p===-1?((o&a)===0||(o&n)!==0)&&(s[c]=ra(o,t)):p<=t&&(e.expiredLanes|=o),i&=~o}if(t=Ge,a=Ce,a=Je(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n=e.callbackNode,a===0||e===t&&(Be===2||Be===9)||e.cancelPendingCommit!==null)return n!==null&&n!==null&&yn(n),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Ze(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(n!==null&&yn(n),_t(a)){case 2:case 8:a=il;break;case 32:a=xn;break;case 268435456:a=cl;break;default:a=xn}return n=lf.bind(null,e),a=ll(a,n),e.callbackPriority=t,e.callbackNode=a,t}return n!==null&&n!==null&&yn(n),e.callbackPriority=2,e.callbackNode=null,2}function lf(e,t){if(ct!==0&&ct!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(ti()&&e.callbackNode!==a)return null;var n=Ce;return n=Je(e,e===Ge?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n===0?null:(Ud(e,n,t),nf(e,jt()),e.callbackNode!=null&&e.callbackNode===a?lf.bind(null,e):null)}function sf(e,t){if(ti())return null;Ud(e,t,!0)}function Pm(){up(function(){(De&6)!==0?ll(sl,Wm):af()})}function mr(){if(Za===0){var e=Hn;e===0&&(e=m,m<<=1,(m&261888)===0&&(m=256)),Za=e}return Za}function cf(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ds(""+e)}function rf(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function Im(e,t,a,n,s){if(t==="submit"&&a&&a.stateNode===s){var i=cf((s[at]||null).action),c=n.submitter;c&&(t=(t=c[at]||null)?cf(t.formAction):c.getAttribute("formAction"),t!==null&&(i=t,c=null));var o=new ps("action","action",null,n,s);e.push({event:o,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(Za!==0){var p=c?rf(s,c):new FormData(s);Lc(a,{pending:!0,data:p,method:s.method,action:i},null,p)}}else typeof i=="function"&&(o.preventDefault(),p=c?rf(s,c):new FormData(s),Lc(a,{pending:!0,data:p,method:s.method,action:i},i,p))},currentTarget:s}]})}}for(var pr=0;pr<Wi.length;pr++){var gr=Wi[pr],ep=gr.toLowerCase(),tp=gr[0].toUpperCase()+gr.slice(1);ea(ep,"on"+tp)}ea(Ho,"onAnimationEnd"),ea(Uo,"onAnimationIteration"),ea(qo,"onAnimationStart"),ea("dblclick","onDoubleClick"),ea("focusin","onFocus"),ea("focusout","onBlur"),ea(vm,"onTransitionRun"),ea(ym,"onTransitionStart"),ea(xm,"onTransitionCancel"),ea(Go,"onTransitionEnd"),_n("onMouseEnter",["mouseout","mouseover"]),_n("onMouseLeave",["mouseout","mouseover"]),_n("onPointerEnter",["pointerout","pointerover"]),_n("onPointerLeave",["pointerout","pointerover"]),en("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),en("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),en("onBeforeInput",["compositionend","keypress","textInput","paste"]),en("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),en("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),en("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ap=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Zl));function of(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var n=e[a],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var c=n.length-1;0<=c;c--){var o=n[c],p=o.instance,M=o.currentTarget;if(o=o.listener,p!==i&&s.isPropagationStopped())break e;i=o,s.currentTarget=M;try{i(s)}catch(q){ys(q)}s.currentTarget=null,i=p}else for(c=0;c<n.length;c++){if(o=n[c],p=o.instance,M=o.currentTarget,o=o.listener,p!==i&&s.isPropagationStopped())break e;i=o,s.currentTarget=M;try{i(s)}catch(q){ys(q)}s.currentTarget=null,i=p}}}}function we(e,t){var a=t[Ei];a===void 0&&(a=t[Ei]=new Set);var n=e+"__bubble";a.has(n)||(uf(t,e,2,!1),a.add(n))}function vr(e,t,a){var n=0;t&&(n|=4),uf(a,e,n,t)}var li="_reactListening"+Math.random().toString(36).slice(2);function yr(e){if(!e[li]){e[li]=!0,to.forEach(function(a){a!=="selectionchange"&&(ap.has(a)||vr(a,!1,e),vr(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[li]||(t[li]=!0,vr("selectionchange",!1,t))}}function uf(e,t,a,n){switch(Uf(t)){case 2:var s=Mp;break;case 8:s=kp;break;default:s=Dr}a=s.bind(null,t,a,e),s=void 0,!Hi||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,a,{capture:!0,passive:s}):e.addEventListener(t,a,!0):s!==void 0?e.addEventListener(t,a,{passive:s}):e.addEventListener(t,a,!1)}function xr(e,t,a,n,s){var i=n;if((t&1)===0&&(t&2)===0&&n!==null)e:for(;;){if(n===null)return;var c=n.tag;if(c===3||c===4){var o=n.stateNode.containerInfo;if(o===s)break;if(c===4)for(c=n.return;c!==null;){var p=c.tag;if((p===3||p===4)&&c.stateNode.containerInfo===s)return;c=c.return}for(;o!==null;){if(c=Nn(o),c===null)return;if(p=c.tag,p===5||p===6||p===26||p===27){n=i=c;continue e}o=o.parentNode}}n=n.return}mo(function(){var M=i,q=Oi(a),X=[];e:{var z=Yo.get(e);if(z!==void 0){var R=ps,fe=e;switch(e){case"keypress":if(hs(a)===0)break e;case"keydown":case"keyup":R=$h;break;case"focusin":fe="focus",R=Yi;break;case"focusout":fe="blur",R=Yi;break;case"beforeblur":case"afterblur":R=Yi;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":R=vo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":R=Rh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":R=Ph;break;case Ho:case Uo:case qo:R=qh;break;case Go:R=em;break;case"scroll":case"scrollend":R=Bh;break;case"wheel":R=am;break;case"copy":case"cut":case"paste":R=Yh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":R=xo;break;case"toggle":case"beforetoggle":R=lm}var ve=(t&4)!==0,Ue=!ve&&(e==="scroll"||e==="scrollend"),b=ve?z!==null?z+"Capture":null:z;ve=[];for(var x=M,E;x!==null;){var V=x;if(E=V.stateNode,V=V.tag,V!==5&&V!==26&&V!==27||E===null||b===null||(V=hl(x,b),V!=null&&ve.push(Ql(x,V,E))),Ue)break;x=x.return}0<ve.length&&(z=new R(z,fe,null,a,q),X.push({event:z,listeners:ve}))}}if((t&7)===0){e:{if(z=e==="mouseover"||e==="pointerover",R=e==="mouseout"||e==="pointerout",z&&a!==Bi&&(fe=a.relatedTarget||a.fromElement)&&(Nn(fe)||fe[oa]))break e;if((R||z)&&(z=q.window===q?q:(z=q.ownerDocument)?z.defaultView||z.parentWindow:window,R?(fe=a.relatedTarget||a.toElement,R=M,fe=fe?Nn(fe):null,fe!==null&&(Ue=S(fe),ve=fe.tag,fe!==Ue||ve!==5&&ve!==27&&ve!==6)&&(fe=null)):(R=null,fe=M),R!==fe)){if(ve=vo,V="onMouseLeave",b="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(ve=xo,V="onPointerLeave",b="onPointerEnter",x="pointer"),Ue=R==null?z:fl(R),E=fe==null?z:fl(fe),z=new ve(V,x+"leave",R,a,q),z.target=Ue,z.relatedTarget=E,V=null,Nn(q)===M&&(ve=new ve(b,x+"enter",fe,a,q),ve.target=E,ve.relatedTarget=Ue,V=ve),Ue=V,R&&fe)t:{for(ve=np,b=R,x=fe,E=0,V=b;V;V=ve(V))E++;V=0;for(var pe=x;pe;pe=ve(pe))V++;for(;0<E-V;)b=ve(b),E--;for(;0<V-E;)x=ve(x),V--;for(;E--;){if(b===x||x!==null&&b===x.alternate){ve=b;break t}b=ve(b),x=ve(x)}ve=null}else ve=null;R!==null&&df(X,z,R,ve,!1),fe!==null&&Ue!==null&&df(X,Ue,fe,ve,!0)}}e:{if(z=M?fl(M):window,R=z.nodeName&&z.nodeName.toLowerCase(),R==="select"||R==="input"&&z.type==="file")var Me=To;else if(wo(z))if(Ao)Me=mm;else{Me=fm;var me=dm}else R=z.nodeName,!R||R.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?M&&Li(M.elementType)&&(Me=To):Me=hm;if(Me&&(Me=Me(e,M))){Co(X,Me,a,q);break e}me&&me(e,z,M),e==="focusout"&&M&&z.type==="number"&&M.memoizedProps.value!=null&&Di(z,"number",z.value)}switch(me=M?fl(M):window,e){case"focusin":(wo(me)||me.contentEditable==="true")&&(Mn=me,Ji=M,Nl=null);break;case"focusout":Nl=Ji=Mn=null;break;case"mousedown":$i=!0;break;case"contextmenu":case"mouseup":case"dragend":$i=!1,Oo(X,a,q);break;case"selectionchange":if(gm)break;case"keydown":case"keyup":Oo(X,a,q)}var Se;if(Ki)e:{switch(e){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else En?bo(e,a)&&(Te="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Te="onCompositionStart");Te&&(jo&&a.locale!=="ko"&&(En||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&En&&(Se=po()):(Ea=q,Ui="value"in Ea?Ea.value:Ea.textContent,En=!0)),me=si(M,Te),0<me.length&&(Te=new yo(Te,e,null,a,q),X.push({event:Te,listeners:me}),Se?Te.data=Se:(Se=_o(a),Se!==null&&(Te.data=Se)))),(Se=im?cm(e,a):rm(e,a))&&(Te=si(M,"onBeforeInput"),0<Te.length&&(me=new yo("onBeforeInput","beforeinput",null,a,q),X.push({event:me,listeners:Te}),me.data=Se)),Im(X,e,M,a,q)}of(X,t)})}function Ql(e,t,a){return{instance:e,listener:t,currentTarget:a}}function si(e,t){for(var a=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;if(s=s.tag,s!==5&&s!==26&&s!==27||i===null||(s=hl(e,a),s!=null&&n.unshift(Ql(e,s,i)),s=hl(e,t),s!=null&&n.push(Ql(e,s,i))),e.tag===3)return n;e=e.return}return[]}function np(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function df(e,t,a,n,s){for(var i=t._reactName,c=[];a!==null&&a!==n;){var o=a,p=o.alternate,M=o.stateNode;if(o=o.tag,p!==null&&p===n)break;o!==5&&o!==26&&o!==27||M===null||(p=M,s?(M=hl(a,i),M!=null&&c.unshift(Ql(a,M,p))):s||(M=hl(a,i),M!=null&&c.push(Ql(a,M,p)))),a=a.return}c.length!==0&&e.push({event:t,listeners:c})}var lp=/\r\n?/g,sp=/\u0000|\uFFFD/g;function ff(e){return(typeof e=="string"?e:""+e).replace(lp,`
`).replace(sp,"")}function hf(e,t){return t=ff(t),ff(e)===t}function He(e,t,a,n,s,i){switch(a){case"children":typeof n=="string"?t==="body"||t==="textarea"&&n===""||Cn(e,n):(typeof n=="number"||typeof n=="bigint")&&t!=="body"&&Cn(e,""+n);break;case"className":os(e,"class",n);break;case"tabIndex":os(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":os(e,a,n);break;case"style":fo(e,n,i);break;case"data":if(t!=="object"){os(e,"data",n);break}case"src":case"href":if(n===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=ds(""+n),e.setAttribute(a,n);break;case"action":case"formAction":if(typeof n=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(a==="formAction"?(t!=="input"&&He(e,t,"name",s.name,s,null),He(e,t,"formEncType",s.formEncType,s,null),He(e,t,"formMethod",s.formMethod,s,null),He(e,t,"formTarget",s.formTarget,s,null)):(He(e,t,"encType",s.encType,s,null),He(e,t,"method",s.method,s,null),He(e,t,"target",s.target,s,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=ds(""+n),e.setAttribute(a,n);break;case"onClick":n!=null&&(e.onclick=da);break;case"onScroll":n!=null&&we("scroll",e);break;case"onScrollEnd":n!=null&&we("scrollend",e);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(u(61));if(a=n.__html,a!=null){if(s.children!=null)throw Error(u(60));e.innerHTML=a}}break;case"multiple":e.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":e.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){e.removeAttribute("xlink:href");break}a=ds(""+n),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""+n):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":n===!0?e.setAttribute(a,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,n):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?e.setAttribute(a,n):e.removeAttribute(a);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?e.removeAttribute(a):e.setAttribute(a,n);break;case"popover":we("beforetoggle",e),we("toggle",e),rs(e,"popover",n);break;case"xlinkActuate":ua(e,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":ua(e,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":ua(e,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":ua(e,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":ua(e,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":ua(e,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":ua(e,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":ua(e,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":ua(e,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":rs(e,"is",n);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Dh.get(a)||a,rs(e,a,n))}}function jr(e,t,a,n,s,i){switch(a){case"style":fo(e,n,i);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(u(61));if(a=n.__html,a!=null){if(s.children!=null)throw Error(u(60));e.innerHTML=a}}break;case"children":typeof n=="string"?Cn(e,n):(typeof n=="number"||typeof n=="bigint")&&Cn(e,""+n);break;case"onScroll":n!=null&&we("scroll",e);break;case"onScrollEnd":n!=null&&we("scrollend",e);break;case"onClick":n!=null&&(e.onclick=da);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ao.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(s=a.endsWith("Capture"),t=a.slice(2,s?a.length-7:void 0),i=e[at]||null,i=i!=null?i[a]:null,typeof i=="function"&&e.removeEventListener(t,i,s),typeof n=="function")){typeof i!="function"&&i!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,n,s);break e}a in e?e[a]=n:n===!0?e.setAttribute(a,""):rs(e,a,n)}}}function pt(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":we("error",e),we("load",e);var n=!1,s=!1,i;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];if(c!=null)switch(i){case"src":n=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(u(137,t));default:He(e,t,i,c,a,null)}}s&&He(e,t,"srcSet",a.srcSet,a,null),n&&He(e,t,"src",a.src,a,null);return;case"input":we("invalid",e);var o=i=c=s=null,p=null,M=null;for(n in a)if(a.hasOwnProperty(n)){var q=a[n];if(q!=null)switch(n){case"name":s=q;break;case"type":c=q;break;case"checked":p=q;break;case"defaultChecked":M=q;break;case"value":i=q;break;case"defaultValue":o=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(u(137,t));break;default:He(e,t,n,q,a,null)}}co(e,i,o,p,M,c,s,!1);return;case"select":we("invalid",e),n=c=i=null;for(s in a)if(a.hasOwnProperty(s)&&(o=a[s],o!=null))switch(s){case"value":i=o;break;case"defaultValue":c=o;break;case"multiple":n=o;default:He(e,t,s,o,a,null)}t=i,a=c,e.multiple=!!n,t!=null?wn(e,!!n,t,!1):a!=null&&wn(e,!!n,a,!0);return;case"textarea":we("invalid",e),i=s=n=null;for(c in a)if(a.hasOwnProperty(c)&&(o=a[c],o!=null))switch(c){case"value":n=o;break;case"defaultValue":s=o;break;case"children":i=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(u(91));break;default:He(e,t,c,o,a,null)}oo(e,n,s,i);return;case"option":for(p in a)if(a.hasOwnProperty(p)&&(n=a[p],n!=null))switch(p){case"selected":e.selected=n&&typeof n!="function"&&typeof n!="symbol";break;default:He(e,t,p,n,a,null)}return;case"dialog":we("beforetoggle",e),we("toggle",e),we("cancel",e),we("close",e);break;case"iframe":case"object":we("load",e);break;case"video":case"audio":for(n=0;n<Zl.length;n++)we(Zl[n],e);break;case"image":we("error",e),we("load",e);break;case"details":we("toggle",e);break;case"embed":case"source":case"link":we("error",e),we("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(M in a)if(a.hasOwnProperty(M)&&(n=a[M],n!=null))switch(M){case"children":case"dangerouslySetInnerHTML":throw Error(u(137,t));default:He(e,t,M,n,a,null)}return;default:if(Li(t)){for(q in a)a.hasOwnProperty(q)&&(n=a[q],n!==void 0&&jr(e,t,q,n,a,void 0));return}}for(o in a)a.hasOwnProperty(o)&&(n=a[o],n!=null&&He(e,t,o,n,a,null))}function ip(e,t,a,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,i=null,c=null,o=null,p=null,M=null,q=null;for(R in a){var X=a[R];if(a.hasOwnProperty(R)&&X!=null)switch(R){case"checked":break;case"value":break;case"defaultValue":p=X;default:n.hasOwnProperty(R)||He(e,t,R,null,n,X)}}for(var z in n){var R=n[z];if(X=a[z],n.hasOwnProperty(z)&&(R!=null||X!=null))switch(z){case"type":i=R;break;case"name":s=R;break;case"checked":M=R;break;case"defaultChecked":q=R;break;case"value":c=R;break;case"defaultValue":o=R;break;case"children":case"dangerouslySetInnerHTML":if(R!=null)throw Error(u(137,t));break;default:R!==X&&He(e,t,z,R,n,X)}}zi(e,c,o,p,M,q,i,s);return;case"select":R=c=o=z=null;for(i in a)if(p=a[i],a.hasOwnProperty(i)&&p!=null)switch(i){case"value":break;case"multiple":R=p;default:n.hasOwnProperty(i)||He(e,t,i,null,n,p)}for(s in n)if(i=n[s],p=a[s],n.hasOwnProperty(s)&&(i!=null||p!=null))switch(s){case"value":z=i;break;case"defaultValue":o=i;break;case"multiple":c=i;default:i!==p&&He(e,t,s,i,n,p)}t=o,a=c,n=R,z!=null?wn(e,!!a,z,!1):!!n!=!!a&&(t!=null?wn(e,!!a,t,!0):wn(e,!!a,a?[]:"",!1));return;case"textarea":R=z=null;for(o in a)if(s=a[o],a.hasOwnProperty(o)&&s!=null&&!n.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:He(e,t,o,null,n,s)}for(c in n)if(s=n[c],i=a[c],n.hasOwnProperty(c)&&(s!=null||i!=null))switch(c){case"value":z=s;break;case"defaultValue":R=s;break;case"children":break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(u(91));break;default:s!==i&&He(e,t,c,s,n,i)}ro(e,z,R);return;case"option":for(var fe in a)if(z=a[fe],a.hasOwnProperty(fe)&&z!=null&&!n.hasOwnProperty(fe))switch(fe){case"selected":e.selected=!1;break;default:He(e,t,fe,null,n,z)}for(p in n)if(z=n[p],R=a[p],n.hasOwnProperty(p)&&z!==R&&(z!=null||R!=null))switch(p){case"selected":e.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:He(e,t,p,z,n,R)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in a)z=a[ve],a.hasOwnProperty(ve)&&z!=null&&!n.hasOwnProperty(ve)&&He(e,t,ve,null,n,z);for(M in n)if(z=n[M],R=a[M],n.hasOwnProperty(M)&&z!==R&&(z!=null||R!=null))switch(M){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(u(137,t));break;default:He(e,t,M,z,n,R)}return;default:if(Li(t)){for(var Ue in a)z=a[Ue],a.hasOwnProperty(Ue)&&z!==void 0&&!n.hasOwnProperty(Ue)&&jr(e,t,Ue,void 0,n,z);for(q in n)z=n[q],R=a[q],!n.hasOwnProperty(q)||z===R||z===void 0&&R===void 0||jr(e,t,q,z,n,R);return}}for(var b in a)z=a[b],a.hasOwnProperty(b)&&z!=null&&!n.hasOwnProperty(b)&&He(e,t,b,null,n,z);for(X in n)z=n[X],R=a[X],!n.hasOwnProperty(X)||z===R||z==null&&R==null||He(e,t,X,z,n,R)}function mf(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function cp(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),n=0;n<a.length;n++){var s=a[n],i=s.transferSize,c=s.initiatorType,o=s.duration;if(i&&o&&mf(c)){for(c=0,o=s.responseEnd,n+=1;n<a.length;n++){var p=a[n],M=p.startTime;if(M>o)break;var q=p.transferSize,X=p.initiatorType;q&&mf(X)&&(p=p.responseEnd,c+=q*(p<o?1:(o-M)/(p-M)))}if(--n,t+=8*(i+c)/(s.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Nr=null,Sr=null;function ii(e){return e.nodeType===9?e:e.ownerDocument}function pf(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function gf(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function br(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var _r=null;function rp(){var e=window.event;return e&&e.type==="popstate"?e===_r?!1:(_r=e,!0):(_r=null,!1)}var vf=typeof setTimeout=="function"?setTimeout:void 0,op=typeof clearTimeout=="function"?clearTimeout:void 0,yf=typeof Promise=="function"?Promise:void 0,up=typeof queueMicrotask=="function"?queueMicrotask:typeof yf<"u"?function(e){return yf.resolve(null).then(e).catch(dp)}:vf;function dp(e){setTimeout(function(){throw e})}function Qa(e){return e==="head"}function xf(e,t){var a=t,n=0;do{var s=a.nextSibling;if(e.removeChild(a),s&&s.nodeType===8)if(a=s.data,a==="/$"||a==="/&"){if(n===0){e.removeChild(s),nl(t);return}n--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")n++;else if(a==="html")Xl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Xl(a);for(var i=a.firstChild;i;){var c=i.nextSibling,o=i.nodeName;i[dl]||o==="SCRIPT"||o==="STYLE"||o==="LINK"&&i.rel.toLowerCase()==="stylesheet"||a.removeChild(i),i=c}}else a==="body"&&Xl(e.ownerDocument.body);a=s}while(a);nl(t)}function jf(e,t){var a=e;e=0;do{var n=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),n&&n.nodeType===8)if(a=n.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=n}while(a)}function wr(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":wr(a),Mi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function fp(e,t,a,n){for(;e.nodeType===1;){var s=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!n&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(n){if(!e[dl])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(i=e.getAttribute("rel"),i==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(i!==s.rel||e.getAttribute("href")!==(s.href==null||s.href===""?null:s.href)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin)||e.getAttribute("title")!==(s.title==null?null:s.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(i=e.getAttribute("src"),(i!==(s.src==null?null:s.src)||e.getAttribute("type")!==(s.type==null?null:s.type)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var i=s.name==null?null:""+s.name;if(s.type==="hidden"&&e.getAttribute("name")===i)return e}else return e;if(e=$t(e.nextSibling),e===null)break}return null}function hp(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=$t(e.nextSibling),e===null))return null;return e}function Nf(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=$t(e.nextSibling),e===null))return null;return e}function Cr(e){return e.data==="$?"||e.data==="$~"}function Tr(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function mp(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var n=function(){t(),a.removeEventListener("DOMContentLoaded",n)};a.addEventListener("DOMContentLoaded",n),e._reactRetry=n}}function $t(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Ar=null;function Sf(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return $t(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function bf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function _f(e,t,a){switch(t=ii(a),e){case"html":if(e=t.documentElement,!e)throw Error(u(452));return e;case"head":if(e=t.head,!e)throw Error(u(453));return e;case"body":if(e=t.body,!e)throw Error(u(454));return e;default:throw Error(u(451))}}function Xl(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Mi(e)}var Ft=new Map,wf=new Set;function ci(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ta=y.d;y.d={f:pp,r:gp,D:vp,C:yp,L:xp,m:jp,X:Sp,S:Np,M:bp};function pp(){var e=Ta.f(),t=Ps();return e||t}function gp(e){var t=Sn(e);t!==null&&t.tag===5&&t.type==="form"?Gu(t):Ta.r(e)}var el=typeof document>"u"?null:document;function Cf(e,t,a){var n=el;if(n&&typeof t=="string"&&t){var s=Yt(t);s='link[rel="'+e+'"][href="'+s+'"]',typeof a=="string"&&(s+='[crossorigin="'+a+'"]'),wf.has(s)||(wf.add(s),e={rel:e,crossOrigin:a,href:t},n.querySelector(s)===null&&(t=n.createElement("link"),pt(t,"link",e),ot(t),n.head.appendChild(t)))}}function vp(e){Ta.D(e),Cf("dns-prefetch",e,null)}function yp(e,t){Ta.C(e,t),Cf("preconnect",e,t)}function xp(e,t,a){Ta.L(e,t,a);var n=el;if(n&&e&&t){var s='link[rel="preload"][as="'+Yt(t)+'"]';t==="image"&&a&&a.imageSrcSet?(s+='[imagesrcset="'+Yt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(s+='[imagesizes="'+Yt(a.imageSizes)+'"]')):s+='[href="'+Yt(e)+'"]';var i=s;switch(t){case"style":i=tl(e);break;case"script":i=al(e)}Ft.has(i)||(e=D({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),Ft.set(i,e),n.querySelector(s)!==null||t==="style"&&n.querySelector(Jl(i))||t==="script"&&n.querySelector($l(i))||(t=n.createElement("link"),pt(t,"link",e),ot(t),n.head.appendChild(t)))}}function jp(e,t){Ta.m(e,t);var a=el;if(a&&e){var n=t&&typeof t.as=="string"?t.as:"script",s='link[rel="modulepreload"][as="'+Yt(n)+'"][href="'+Yt(e)+'"]',i=s;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=al(e)}if(!Ft.has(i)&&(e=D({rel:"modulepreload",href:e},t),Ft.set(i,e),a.querySelector(s)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector($l(i)))return}n=a.createElement("link"),pt(n,"link",e),ot(n),a.head.appendChild(n)}}}function Np(e,t,a){Ta.S(e,t,a);var n=el;if(n&&e){var s=bn(n).hoistableStyles,i=tl(e);t=t||"default";var c=s.get(i);if(!c){var o={loading:0,preload:null};if(c=n.querySelector(Jl(i)))o.loading=5;else{e=D({rel:"stylesheet",href:e,"data-precedence":t},a),(a=Ft.get(i))&&Er(e,a);var p=c=n.createElement("link");ot(p),pt(p,"link",e),p._p=new Promise(function(M,q){p.onload=M,p.onerror=q}),p.addEventListener("load",function(){o.loading|=1}),p.addEventListener("error",function(){o.loading|=2}),o.loading|=4,ri(c,t,n)}c={type:"stylesheet",instance:c,count:1,state:o},s.set(i,c)}}}function Sp(e,t){Ta.X(e,t);var a=el;if(a&&e){var n=bn(a).hoistableScripts,s=al(e),i=n.get(s);i||(i=a.querySelector($l(s)),i||(e=D({src:e,async:!0},t),(t=Ft.get(s))&&Mr(e,t),i=a.createElement("script"),ot(i),pt(i,"link",e),a.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},n.set(s,i))}}function bp(e,t){Ta.M(e,t);var a=el;if(a&&e){var n=bn(a).hoistableScripts,s=al(e),i=n.get(s);i||(i=a.querySelector($l(s)),i||(e=D({src:e,async:!0,type:"module"},t),(t=Ft.get(s))&&Mr(e,t),i=a.createElement("script"),ot(i),pt(i,"link",e),a.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},n.set(s,i))}}function Tf(e,t,a,n){var s=(s=ye.current)?ci(s):null;if(!s)throw Error(u(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=tl(a.href),a=bn(s).hoistableStyles,n=a.get(t),n||(n={type:"style",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=tl(a.href);var i=bn(s).hoistableStyles,c=i.get(e);if(c||(s=s.ownerDocument||s,c={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(e,c),(i=s.querySelector(Jl(e)))&&!i._p&&(c.instance=i,c.state.loading=5),Ft.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ft.set(e,a),i||_p(s,e,a,c.state))),t&&n===null)throw Error(u(528,""));return c}if(t&&n!==null)throw Error(u(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=al(a),a=bn(s).hoistableScripts,n=a.get(t),n||(n={type:"script",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(u(444,e))}}function tl(e){return'href="'+Yt(e)+'"'}function Jl(e){return'link[rel="stylesheet"]['+e+"]"}function Af(e){return D({},e,{"data-precedence":e.precedence,precedence:null})}function _p(e,t,a,n){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?n.loading=1:(t=e.createElement("link"),n.preload=t,t.addEventListener("load",function(){return n.loading|=1}),t.addEventListener("error",function(){return n.loading|=2}),pt(t,"link",a),ot(t),e.head.appendChild(t))}function al(e){return'[src="'+Yt(e)+'"]'}function $l(e){return"script[async]"+e}function Ef(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var n=e.querySelector('style[data-href~="'+Yt(a.href)+'"]');if(n)return t.instance=n,ot(n),n;var s=D({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return n=(e.ownerDocument||e).createElement("style"),ot(n),pt(n,"style",s),ri(n,a.precedence,e),t.instance=n;case"stylesheet":s=tl(a.href);var i=e.querySelector(Jl(s));if(i)return t.state.loading|=4,t.instance=i,ot(i),i;n=Af(a),(s=Ft.get(s))&&Er(n,s),i=(e.ownerDocument||e).createElement("link"),ot(i);var c=i;return c._p=new Promise(function(o,p){c.onload=o,c.onerror=p}),pt(i,"link",n),t.state.loading|=4,ri(i,a.precedence,e),t.instance=i;case"script":return i=al(a.src),(s=e.querySelector($l(i)))?(t.instance=s,ot(s),s):(n=a,(s=Ft.get(i))&&(n=D({},a),Mr(n,s)),e=e.ownerDocument||e,s=e.createElement("script"),ot(s),pt(s,"link",n),e.head.appendChild(s),t.instance=s);case"void":return null;default:throw Error(u(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(n=t.instance,t.state.loading|=4,ri(n,a.precedence,e));return t.instance}function ri(e,t,a){for(var n=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=n.length?n[n.length-1]:null,i=s,c=0;c<n.length;c++){var o=n[c];if(o.dataset.precedence===t)i=o;else if(i!==s)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function Er(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Mr(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var oi=null;function Mf(e,t,a){if(oi===null){var n=new Map,s=oi=new Map;s.set(a,n)}else s=oi,n=s.get(a),n||(n=new Map,s.set(a,n));if(n.has(e))return n;for(n.set(e,null),a=a.getElementsByTagName(e),s=0;s<a.length;s++){var i=a[s];if(!(i[dl]||i[tt]||e==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var c=i.getAttribute(t)||"";c=e+c;var o=n.get(c);o?o.push(i):n.set(c,[i])}}return n}function kf(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function wp(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function zf(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Cp(e,t,a,n){if(a.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var s=tl(n.href),i=t.querySelector(Jl(s));if(i){t=i._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=ui.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=i,ot(i);return}i=t.ownerDocument||t,n=Af(n),(s=Ft.get(s))&&Er(n,s),i=i.createElement("link"),ot(i);var c=i;c._p=new Promise(function(o,p){c.onload=o,c.onerror=p}),pt(i,"link",n),a.instance=i}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=ui.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var kr=0;function Tp(e,t){return e.stylesheets&&e.count===0&&fi(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var n=setTimeout(function(){if(e.stylesheets&&fi(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4+t);0<e.imgBytes&&kr===0&&(kr=62500*cp());var s=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&fi(e,e.stylesheets),e.unsuspend)){var i=e.unsuspend;e.unsuspend=null,i()}},(e.imgBytes>kr?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(n),clearTimeout(s)}}:null}function ui(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)fi(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var di=null;function fi(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,di=new Map,t.forEach(Ap,e),di=null,ui.call(e))}function Ap(e,t){if(!(t.state.loading&4)){var a=di.get(e);if(a)var n=a.get(null);else{a=new Map,di.set(e,a);for(var s=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<s.length;i++){var c=s[i];(c.nodeName==="LINK"||c.getAttribute("media")!=="not all")&&(a.set(c.dataset.precedence,c),n=c)}n&&a.set(null,n)}s=t.instance,c=s.getAttribute("data-precedence"),i=a.get(c)||n,i===n&&a.set(null,s),a.set(c,s),this.count++,n=ui.bind(this),s.addEventListener("load",n),s.addEventListener("error",n),i?i.parentNode.insertBefore(s,i.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(s,e.firstChild)),t.state.loading|=4}}var Fl={$$typeof:C,Provider:null,Consumer:null,_currentValue:A,_currentValue2:A,_threadCount:0};function Ep(e,t,a,n,s,i,c,o,p){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=cs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=cs(0),this.hiddenUpdates=cs(null),this.identifierPrefix=n,this.onUncaughtError=s,this.onCaughtError=i,this.onRecoverableError=c,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=p,this.incompleteTransitions=new Map}function Df(e,t,a,n,s,i,c,o,p,M,q,X){return e=new Ep(e,t,a,c,p,M,q,X,o),t=1,i===!0&&(t|=24),i=Dt(3,null,null,t),e.current=i,i.stateNode=e,t=uc(),t.refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:n,isDehydrated:a,cache:t},mc(i),e}function Lf(e){return e?(e=Dn,e):Dn}function Bf(e,t,a,n,s,i){s=Lf(s),n.context===null?n.context=s:n.pendingContext=s,n=Ba(t),n.payload={element:a},i=i===void 0?null:i,i!==null&&(n.callback=i),a=Oa(e,n,t),a!==null&&(Mt(a,e,t),Al(a,e,t))}function Of(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function zr(e,t){Of(e,t),(e=e.alternate)&&Of(e,t)}function Rf(e){if(e.tag===13||e.tag===31){var t=ln(e,67108864);t!==null&&Mt(t,e,67108864),zr(e,67108864)}}function Hf(e){if(e.tag===13||e.tag===31){var t=Ht();t=Ee(t);var a=ln(e,t);a!==null&&Mt(a,e,t),zr(e,t)}}var hi=!0;function Mp(e,t,a,n){var s=h.T;h.T=null;var i=y.p;try{y.p=2,Dr(e,t,a,n)}finally{y.p=i,h.T=s}}function kp(e,t,a,n){var s=h.T;h.T=null;var i=y.p;try{y.p=8,Dr(e,t,a,n)}finally{y.p=i,h.T=s}}function Dr(e,t,a,n){if(hi){var s=Lr(n);if(s===null)xr(e,t,n,mi,a),qf(e,n);else if(Dp(s,e,t,a,n))n.stopPropagation();else if(qf(e,n),t&4&&-1<zp.indexOf(e)){for(;s!==null;){var i=Sn(s);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var c=Pe(i.pendingLanes);if(c!==0){var o=i;for(o.pendingLanes|=2,o.entangledLanes|=2;c;){var p=1<<31-St(c);o.entanglements[1]|=p,c&=~p}ia(i),(De&6)===0&&(Fs=jt()+500,Kl(0))}}break;case 31:case 13:o=ln(i,2),o!==null&&Mt(o,i,2),Ps(),zr(i,2)}if(i=Lr(n),i===null&&xr(e,t,n,mi,a),i===s)break;s=i}s!==null&&n.stopPropagation()}else xr(e,t,n,null,a)}}function Lr(e){return e=Oi(e),Br(e)}var mi=null;function Br(e){if(mi=null,e=Nn(e),e!==null){var t=S(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=O(t),e!==null)return e;e=null}else if(a===31){if(e=U(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return mi=e,null}function Uf(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(wi()){case sl:return 2;case il:return 8;case xn:case Ci:return 32;case cl:return 268435456;default:return 32}default:return 32}}var Or=!1,Xa=null,Ja=null,$a=null,Wl=new Map,Pl=new Map,Fa=[],zp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function qf(e,t){switch(e){case"focusin":case"focusout":Xa=null;break;case"dragenter":case"dragleave":Ja=null;break;case"mouseover":case"mouseout":$a=null;break;case"pointerover":case"pointerout":Wl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pl.delete(t.pointerId)}}function Il(e,t,a,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:a,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Sn(t),t!==null&&Rf(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Dp(e,t,a,n,s){switch(t){case"focusin":return Xa=Il(Xa,e,t,a,n,s),!0;case"dragenter":return Ja=Il(Ja,e,t,a,n,s),!0;case"mouseover":return $a=Il($a,e,t,a,n,s),!0;case"pointerover":var i=s.pointerId;return Wl.set(i,Il(Wl.get(i)||null,e,t,a,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Pl.set(i,Il(Pl.get(i)||null,e,t,a,n,s)),!0}return!1}function Gf(e){var t=Nn(e.target);if(t!==null){var a=S(t);if(a!==null){if(t=a.tag,t===13){if(t=O(a),t!==null){e.blockedOn=t,jn(e.priority,function(){Hf(a)});return}}else if(t===31){if(t=U(a),t!==null){e.blockedOn=t,jn(e.priority,function(){Hf(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function pi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=Lr(e.nativeEvent);if(a===null){a=e.nativeEvent;var n=new a.constructor(a.type,a);Bi=n,a.target.dispatchEvent(n),Bi=null}else return t=Sn(a),t!==null&&Rf(t),e.blockedOn=a,!1;t.shift()}return!0}function Yf(e,t,a){pi(e)&&a.delete(t)}function Lp(){Or=!1,Xa!==null&&pi(Xa)&&(Xa=null),Ja!==null&&pi(Ja)&&(Ja=null),$a!==null&&pi($a)&&($a=null),Wl.forEach(Yf),Pl.forEach(Yf)}function gi(e,t){e.blockedOn===t&&(e.blockedOn=null,Or||(Or=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Lp)))}var vi=null;function Vf(e){vi!==e&&(vi=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){vi===e&&(vi=null);for(var t=0;t<e.length;t+=3){var a=e[t],n=e[t+1],s=e[t+2];if(typeof n!="function"){if(Br(n||a)===null)continue;break}var i=Sn(a);i!==null&&(e.splice(t,3),t-=3,Lc(i,{pending:!0,data:s,method:a.method,action:n},n,s))}}))}function nl(e){function t(p){return gi(p,e)}Xa!==null&&gi(Xa,e),Ja!==null&&gi(Ja,e),$a!==null&&gi($a,e),Wl.forEach(t),Pl.forEach(t);for(var a=0;a<Fa.length;a++){var n=Fa[a];n.blockedOn===e&&(n.blockedOn=null)}for(;0<Fa.length&&(a=Fa[0],a.blockedOn===null);)Gf(a),a.blockedOn===null&&Fa.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(n=0;n<a.length;n+=3){var s=a[n],i=a[n+1],c=s[at]||null;if(typeof i=="function")c||Vf(a);else if(c){var o=null;if(i&&i.hasAttribute("formAction")){if(s=i,c=i[at]||null)o=c.formAction;else if(Br(s)!==null)continue}else o=c.action;typeof o=="function"?a[n+1]=o:(a.splice(n,3),n-=3),Vf(a)}}}function Kf(){function e(i){i.canIntercept&&i.info==="react-transition"&&i.intercept({handler:function(){return new Promise(function(c){return s=c})},focusReset:"manual",scroll:"manual"})}function t(){s!==null&&(s(),s=null),n||setTimeout(a,20)}function a(){if(!n&&!navigation.transition){var i=navigation.currentEntry;i&&i.url!=null&&navigation.navigate(i.url,{state:i.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var n=!1,s=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){n=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),s!==null&&(s(),s=null)}}}function Rr(e){this._internalRoot=e}yi.prototype.render=Rr.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(u(409));var a=t.current,n=Ht();Bf(a,n,e,t,null,null)},yi.prototype.unmount=Rr.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Bf(e.current,2,null,e,null,null),Ps(),t[oa]=null}};function yi(e){this._internalRoot=e}yi.prototype.unstable_scheduleHydration=function(e){if(e){var t=ul();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Fa.length&&t!==0&&t<Fa[a].priority;a++);Fa.splice(a,0,e),a===0&&Gf(e)}};var Zf=f.version;if(Zf!=="19.2.0")throw Error(u(527,Zf,"19.2.0"));y.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(u(188)):(e=Object.keys(e).join(","),Error(u(268,e)));return e=N(t),e=e!==null?L(e):null,e=e===null?null:e.stateNode,e};var Bp={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:h,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xi.isDisabled&&xi.supportsFiber)try{Ia=xi.inject(Bp),Nt=xi}catch{}}return ts.createRoot=function(e,t){if(!v(e))throw Error(u(299));var a=!1,n="",s=Wu,i=Pu,c=Iu;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onUncaughtError!==void 0&&(s=t.onUncaughtError),t.onCaughtError!==void 0&&(i=t.onCaughtError),t.onRecoverableError!==void 0&&(c=t.onRecoverableError)),t=Df(e,1,!1,null,null,a,n,null,s,i,c,Kf),e[oa]=t.current,yr(e),new Rr(t)},ts.hydrateRoot=function(e,t,a){if(!v(e))throw Error(u(299));var n=!1,s="",i=Wu,c=Pu,o=Iu,p=null;return a!=null&&(a.unstable_strictMode===!0&&(n=!0),a.identifierPrefix!==void 0&&(s=a.identifierPrefix),a.onUncaughtError!==void 0&&(i=a.onUncaughtError),a.onCaughtError!==void 0&&(c=a.onCaughtError),a.onRecoverableError!==void 0&&(o=a.onRecoverableError),a.formState!==void 0&&(p=a.formState)),t=Df(e,1,!0,t,a??null,n,s,p,i,c,o,Kf),t.context=Lf(null),a=t.current,n=Ht(),n=Ee(n),s=Ba(n),s.callback=null,Oa(a,s,n),a=n,t.current.lanes=a,_(t,a),ia(t),e[oa]=t.current,yr(e),new yi(t)},ts.version="19.2.0",ts}var th;function Zp(){if(th)return qr.exports;th=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(f){console.error(f)}}return r(),qr.exports=Kp(),qr.exports}var Qp=Zp();const ph="https://backendpetify.mycartly.in/api";async function ah(r){const f=await fetch(`${ph}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone_number:r})}),j=await f.json().catch(()=>({}));if(!f.ok){const u=j?.message||"Something went wrong. Please try again.";throw new Error(u)}return j}async function Xp(r,f,j=null){const u={phone_number:r,otp:f};j&&j.latitude&&j.longitude&&(u.latitude=j.latitude,u.longitude=j.longitude);const v=await fetch(`${ph}/auth/verify`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(u)}),S=await v.json().catch(()=>({}));if(!v.ok){const O=S?.message||"Something went wrong. Please try again.";throw new Error(O)}return S}function Jp({onBack:r,phoneNumber:f,countryCode:j,onVerifySuccess:u,location:v=null}){const[S,O]=g.useState(["","","","","",""]),[U,w]=g.useState(0),[N,L]=g.useState(!1),[D,Y]=g.useState(!1),[W,Q]=g.useState(""),[J,ae]=g.useState(""),[K,le]=g.useState(""),C=g.useRef([]);g.useEffect(()=>{C.current[0]&&C.current[0].focus(),f&&(async()=>{try{const H=await ah(f);if(H.otp||H.otp_code||H.code)le(H.otp||H.otp_code||H.code);else if(H.message){const re=H.message.match(/\b\d{6}\b/);re&&le(re[0])}}catch(H){console.log("Could not fetch OTP code:",H)}})()},[f]);const $=(P,H)=>{if(H.length>1&&(H=H.slice(0,1)),!/^\d*$/.test(H))return;const re=[...S];re[P]=H,O(re),H&&P<5&&(w(P+1),C.current[P+1]?.focus())},F=(P,H)=>{H.key==="Backspace"&&!S[P]&&P>0&&(w(P-1),C.current[P-1]?.focus())},T=P=>{P.preventDefault();const H=P.clipboardData.getData("text").slice(0,6).split(""),re=[...S];H.forEach((B,h)=>{h<6&&/^\d$/.test(B)&&(re[h]=B)}),O(re);const I=Math.min(H.length,5);w(I),C.current[I]?.focus()},ee=S.every(P=>P!==""),se=`${j}${f}`,oe=async()=>{if(!(!ee||N)){L(!0),Q(""),ae("");try{const P=S.join(""),H=await Xp(se,P,v);u?.(H)}catch(P){Q(P.message||"Invalid OTP. Please try again.")}finally{L(!1)}}},G=async()=>{if(!D){Y(!0),Q(""),ae("");try{const P=await ah(f);if(P.otp||P.otp_code||P.code)le(P.otp||P.otp_code||P.code);else if(P.message){const H=P.message.match(/\b\d{6}\b/);H&&le(H[0])}O(["","","","","",""]),w(0),C.current[0]?.focus(),ae("OTP resent successfully.")}catch(P){Q(P.message||"Unable to resend OTP. Please try again.")}finally{Y(!1)}}};return l.jsx("div",{className:"otp-container",children:l.jsxs("div",{className:"otp-content",children:[l.jsxs("div",{className:"otp-header-section",children:[l.jsx("button",{className:"otp-back-button",onClick:r,children:l.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("line",{x1:"18",y1:"12",x2:"6",y2:"12",stroke:"black",strokeWidth:"2",strokeLinecap:"round"}),l.jsx("path",{d:"M6 12L12 6M6 12L12 18",stroke:"black",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),l.jsx("h1",{className:"otp-title",children:"ENTER OTP"})]}),l.jsxs("div",{className:"otp-body",children:[l.jsxs("p",{className:"otp-instruction",children:["We've sent a 6-digit code to ",se]}),l.jsx("div",{className:"otp-inputs-container",children:S.map((P,H)=>l.jsx("input",{ref:re=>C.current[H]=re,type:"text",className:`otp-input ${U===H?"active":""}`,value:P,onChange:re=>$(H,re.target.value),onKeyDown:re=>F(H,re),onPaste:T,onFocus:()=>w(H),maxLength:1},H))}),K&&l.jsxs("div",{style:{marginTop:"16px",padding:"12px",backgroundColor:"#FFF5F0",borderRadius:"8px",textAlign:"center",border:"1px solid #FF6B2B"},children:[l.jsx("p",{style:{margin:"0 0 4px 0",fontSize:"12px",color:"#666",fontWeight:"500"},children:"Your OTP Code:"}),l.jsx("p",{style:{margin:"0",fontSize:"24px",color:"#FF6B2B",fontWeight:"700",letterSpacing:"4px",fontFamily:"monospace"},children:K})]}),W&&l.jsx("p",{className:"otp-error-message",children:W}),J&&l.jsx("p",{className:"otp-status-message",children:J}),l.jsx("button",{className:`otp-verify-button ${!ee||N?"disabled":""}`,onClick:oe,disabled:!ee||N,children:N?"Verifying...":"Verify"}),l.jsxs("p",{className:"otp-resend-text",children:["Didn't receive the code?"," ",l.jsx("span",{className:`otp-resend-link ${D?"disabled":""}`,onClick:G,children:D?"Sending...":"Resend"})]})]})]})})}const $p="/phone.png",Fp="/get.png",Wp={pending:l.jsxs("svg",{width:"54",height:"54",viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("circle",{cx:"32",cy:"32",r:"32",fill:"#FFF4EB"}),l.jsx("path",{d:"M32 18V34L42 40",stroke:"#FF6B2B",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"})]}),approved:l.jsxs("svg",{width:"54",height:"54",viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("circle",{cx:"32",cy:"32",r:"32",fill:"#ECFDF3"}),l.jsx("path",{d:"M22 33L28 39L42 25",stroke:"#1A9E55",strokeWidth:"3.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),rejected:l.jsxs("svg",{width:"54",height:"54",viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("circle",{cx:"32",cy:"32",r:"32",fill:"#FEECEC"}),l.jsx("path",{d:"M24 24L40 40",stroke:"#E03131",strokeWidth:"3",strokeLinecap:"round"}),l.jsx("path",{d:"M40 24L24 40",stroke:"#E03131",strokeWidth:"3",strokeLinecap:"round"})]})};function gh({isOpen:r,status:f="pending",title:j,message:u,reason:v,onClose:S,onApproved:O,onRefresh:U,onApplyAgain:w,isRefreshing:N=!1}){if(!r)return null;const L=["approved","rejected","pending"].includes(f)?f:"pending",D=Wp[L],Y=L==="pending"&&typeof U=="function",W=L==="rejected"&&typeof w=="function";let Q="Close",J=S,ae=!1,K=null,le=null;return L==="approved"&&typeof O=="function"?(Q="Done",J=O):Y?(Q=N?"Checking...":"Check again",J=U,ae=N,K="Close",le=S):W&&(Q="Apply Again",J=w,K="Close",le=S),l.jsx("div",{className:"verification-status-overlay",role:"dialog","aria-modal":"true",children:l.jsxs("div",{className:`verification-status-card status-${L}`,children:[l.jsx("div",{className:"verification-status-icon","aria-hidden":"true",children:D}),l.jsx("h2",{className:"verification-status-title",children:j}),l.jsx("p",{className:"verification-status-message",children:u}),L==="rejected"&&v&&l.jsxs("div",{className:"verification-status-reason",children:[l.jsx("span",{className:"reason-label",children:"Reason provided by admin"}),l.jsx("p",{className:"reason-text",children:v})]}),l.jsxs("div",{className:"verification-status-actions",children:[K&&l.jsx("button",{type:"button",className:"btn-secondary",onClick:le,children:K}),l.jsx("button",{type:"button",className:`btn-primary ${N?"loading":""}`,onClick:J,disabled:ae,children:Q})]})]})})}const nh={pending:"Your application is under review. We will notify you once it is completed.",approved:"You are successfully verified and can now access the provider home.",rejected:"Your application has been rejected.",suspended:"Your account has been suspended."},lh={pending:"Verification In Progress",approved:"Verification Successful",rejected:"Application Rejected",suspended:"Account Suspended"};function Pp(r={}){const f=(r.status||r.provider?.status||"").toLowerCase(),j=r.show_pending||f==="verification_in_progress",u=r.show_rejected||f==="rejected",v=r.verified||r.redirect_to_home||f==="approved";return f==="suspended"?"suspended":v?"approved":u?"rejected":"pending"}function Ip(r={}){return r.provider?.verification_notes||r.reason||r.message||""}function Pr(r={}){const f=Pp(r),j=Ip(r);return{type:f,title:lh[f]||lh.pending,message:r.message||nh[f]||nh.pending,reason:f==="rejected"||f==="suspended"?j||"No reason provided.":"",raw:r}}function sh(r="",f="+91"){return r?r.startsWith("+")?r:`${f}${r}`:""}const vh="https://backendpetify.mycartly.in/api";async function eg(r){const f=await fetch(`${vh}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone_number:r})}),j=await f.json().catch(()=>({}));if(!f.ok){const u=j?.message||"Something went wrong. Please try again.";throw new Error(u)}return j}async function ih(r,f=null){const j={phone_number:r};f&&f.latitude&&f.longitude&&(j.latitude=f.latitude,j.longitude=f.longitude);const u=await fetch(`${vh}/provider/verify`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(j)}),v=await u.json().catch(()=>({}));if(!u.ok){if(u.status===404||v?.error?.code==="not_found")return null;const S=v?.error?.message||v?.message||"Something went wrong. Please try again.";throw new Error(S)}return v}function tg({onBack:r,onLogout:f,onShowHome:j,onRequireRegistration:u,userLocation:v=null}){const[S,O]=g.useState(""),[U,w]=g.useState("+91"),[N,L]=g.useState(!1),[D,Y]=g.useState({}),[W,Q]=g.useState(!1),[J,ae]=g.useState(""),[K,le]=g.useState({open:!1,status:"pending",title:"",message:"",reason:""}),[C,$]=g.useState(null),[F,T]=g.useState(!1),ee=S.length===10,se=B=>{const h=B.target.value.replace(/\D/g,"");h.length<=10&&(O(h),Y(y=>{if(!y.phone)return y;const{phone:A,...ie}=y;return ie}))},oe=(B="")=>{const h=B.toLowerCase();return["register","registration","not found","no account","not registered"].some(y=>h.includes(y))},G=async()=>{if(!ee){Y({phone:"Enter a valid 10-digit mobile number"});return}if(!W){Y({}),ae(""),Q(!0);try{await eg(S),L(!0)}catch(B){const h=B.message||"Failed to send OTP. Please try again.";if(h.toLowerCase().includes("suspended")){ae("Your account has been suspended."),Q(!1);return}if(ae(h),oe(h)){u?.(S);return}}finally{Q(!1)}}},P=async(B=!1)=>{if(C?.phoneNumber){B||T(!0);try{const h=v||C?.location,y=await ih(C.phoneNumber,h);y&&H(y,C)}catch(h){le(y=>({...y,message:h.message||y.message}))}finally{B||T(!1)}}},H=(B,h)=>{if(!B)return;const y=Pr(B);le({open:y.type!=="approved",status:y.type,title:y.title,message:y.message,reason:y.reason}),$(h||null),y.type==="approved"&&h&&j?.(h)},re=()=>{const h=(C?.phoneNumber||`${U}${S}`)?.replace(/\D/g,"")||S;le(y=>({...y,open:!1})),$(null),u?.(h)};g.useEffect(()=>{if(!K.open||K.status!=="pending"||!C?.phoneNumber)return;const B=setInterval(()=>{P(!0)},1e4);return()=>clearInterval(B)},[K.open,K.status,C?.phoneNumber]);const I=async B=>{if(!B)return;if(L(!1),!B.registered){u?.(S);return}const h=B.user?.phone_number||S,y=h?.startsWith("+")?h:`${U}${h}`,A={...B.user||{},token:B.token,phoneNumber:y,countryCode:U};try{const ie=v||B.user?.last_latitude?{latitude:B.user.last_latitude,longitude:B.user.last_longitude}:null,de=await ih(A.phoneNumber,ie);if(!de){u?.(S);return}de?.provider&&(A.provider=de.provider),H(de,A)}catch(ie){ae(ie.message||"Unable to fetch provider status. Please try again.")}};return N?l.jsx(Jp,{onBack:()=>L(!1),phoneNumber:S,countryCode:U,onVerifySuccess:I,location:v}):l.jsx("div",{className:"get-started-container",children:l.jsxs("div",{className:"get-started-content",children:[l.jsx("div",{className:"header-section",children:l.jsx("button",{className:"back-button",onClick:r,"aria-label":"Go back",children:l.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("line",{x1:"18",y1:"12",x2:"6",y2:"12",stroke:"black",strokeWidth:"2",strokeLinecap:"round"}),l.jsx("path",{d:"M6 12L12 6M6 12L12 18",stroke:"black",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})})}),l.jsxs("div",{className:"top-section",children:[l.jsx("div",{className:"phone-icon-container",children:l.jsx("img",{src:$p,alt:"Phone",className:"phone-icon"})}),l.jsxs("div",{className:"heading-with-stars",children:[l.jsx("h1",{className:"get-started-heading",children:"Get Started"}),l.jsxs("div",{className:"stars-container","aria-hidden":"true",children:[l.jsx("span",{className:"star-icon",children:""}),l.jsx("span",{className:"star-icon",children:""}),l.jsx("span",{className:"star-icon",children:""})]})]}),l.jsxs("div",{className:"description-section",children:[l.jsx("p",{className:"description-text",children:"Enter your registered mobile number to receive a verification code."}),l.jsx("p",{className:"description-text",children:"This helps us keep your account secure."})]})]}),l.jsxs("div",{className:"form-section",children:[l.jsxs("div",{className:"phone-input-wrapper",children:[l.jsxs("div",{className:`phone-input-container ${D.phone?"error":""}`,children:[l.jsxs("div",{className:"country-code-selector",children:[U,l.jsx("svg",{width:"10",height:"10",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M3 4.5L6 7.5L9 4.5",stroke:"#000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})]}),l.jsx("input",{type:"tel",inputMode:"numeric",pattern:"[0-9]*",className:"phone-input",placeholder:"Enter mobile number",value:S,onChange:se,maxLength:10})]}),D.phone&&l.jsx("p",{className:"error-message",children:D.phone})]}),l.jsx("button",{className:`continue-button ${W?"loading":""}`,onClick:G,type:"button",children:W?"Sending OTP...":"Continue"}),J&&l.jsx("p",{className:"error-message",children:J}),l.jsx("p",{className:"terms-text",children:"By continuing, you agree to our Terms of Service and acknowledge our Privacy Policy."})]}),l.jsx("div",{className:"illustration-bottom","aria-hidden":"true",children:l.jsx("img",{src:Fp,alt:"Pet care illustration",className:"get-started-illustration"})}),l.jsx(gh,{isOpen:K.open,status:K.status,title:K.title,message:K.message,reason:K.reason,onClose:()=>{le(B=>({...B,open:!1})),$(null),f?.()},onApproved:K.status==="approved"?()=>{le(B=>({...B,open:!1})),C&&j?.(C)}:void 0,onRefresh:K.status==="pending"?P:void 0,onApplyAgain:K.status==="rejected"?re:void 0,isRefreshing:F})]})})}const ag=[{id:"Home",label:"Home",icon:"home"},{id:"Orders",label:"Orders",icon:"clipboard"},{id:"Withdrawal",label:"Withdrawal",icon:"wallet"},{id:"Account",label:"Account",icon:"user"}],ng={home:l.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("path",{d:"M4 10L12 4L20 10V20C20 20.55 19.55 21 19 21H5C4.45 21 4 20.55 4 20V10Z",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M9 21V13H15V21",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})]}),clipboard:l.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("rect",{x:"7",y:"3",width:"10",height:"4",rx:"1.5",stroke:"currentColor",strokeWidth:"1.6"}),l.jsx("path",{d:"M7 7H6C5.44772 7 5 7.44772 5 8V20C5 20.5523 5.44772 21 6 21H18C18.5523 21 19 20.5523 19 20V8C19 7.44772 18.5523 7 18 7H17",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round"}),l.jsx("path",{d:"M9 11H15",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round"}),l.jsx("path",{d:"M9 15H12",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round"})]}),wallet:l.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("path",{d:"M4 7H18C19.6569 7 21 8.34315 21 10V17C21 18.6569 19.6569 20 18 20H6C4.34315 20 3 18.6569 3 17V8C3 7.44772 3.44772 7 4 7Z",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M16 13C16 12.4477 16.4477 12 17 12H20V15H17C16.4477 15 16 14.5523 16 14V13Z",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M7 4H15",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})]}),user:l.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("path",{d:"M12 12C14.7614 12 17 9.76142 17 7C17 4.23858 14.7614 2 12 2C9.23858 2 7 4.23858 7 7C7 9.76142 9.23858 12 12 12Z",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M4 20C4 16.6863 6.68629 14 10 14H14C17.3137 14 20 16.6863 20 20",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})]})};function as({activeTab:r="Home",onTabChange:f}){return l.jsx("nav",{className:"bottom-navigation",role:"navigation","aria-label":"Main",children:ag.map(j=>{const u=r===j.id;return l.jsxs("button",{type:"button",className:`nav-item ${u?"active":""}`,onClick:()=>f?.(j.id),"aria-label":j.label,"aria-current":u?"page":void 0,children:[l.jsx("span",{className:"nav-icon","aria-hidden":"true",children:ng[j.icon]}),l.jsx("span",{className:"nav-label",children:j.label})]},j.id)})})}const Si="https://backendpetify.mycartly.in/api";async function lg(r,f,j,u){const v=await fetch(`${Si}/provider/location/update`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u}`},body:JSON.stringify({booking_id:r,latitude:f,longitude:j})}),S=await v.json().catch(()=>({}));if(!v.ok){const O=S?.error?.message||S?.message||"Failed to update location";throw new Error(O)}return S}async function ch(r,f,j=!1){const u=j?`${Si}/provider/track/${r}`:`${Si}/user/track/${r}`,v=await fetch(u,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${f}`}}),S=await v.json().catch(()=>({}));if(!v.ok){const O=S?.error?.message||S?.message||"Failed to fetch locations";throw new Error(O)}return S}async function sg(r,f){const j=await fetch(`${Si}/provider/location/stop/${r}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${f}`}}),u=await j.json().catch(()=>({}));if(!j.ok){const v=u?.error?.message||u?.message||"Failed to stop tracking";throw new Error(v)}return u}function yh({booking:r,userData:f,onClose:j}){const[u,v]=g.useState(null),[S,O]=g.useState(!0),[U,w]=g.useState(""),N=g.useRef(!1),L=g.useRef(null),D=g.useRef({provider:null,user:null}),Y=g.useRef(null),W=f?.token,Q=f?.role==="provider"||f?.provider?.id,J=se=>{if(typeof se=="number"&&Number.isFinite(se))return se;if(typeof se=="string"){const oe=parseFloat(se);return Number.isFinite(oe)?oe:0}return 0},ae=g.useCallback((se,oe,G,P)=>{if(!window.google||!window.google.maps){console.error("Google Maps not loaded");return}const H=J(se),re=J(oe),I=J(G),B=J(P),h=document.getElementById("tracking-modal-map");if(!h)return;let y=28.7041,A=77.1025;H!==0&&re!==0?(y=H,A=re):I!==0&&B!==0?(y=I,A=B):H!==0&&re!==0&&I!==0&&B!==0&&(y=(H+I)/2,A=(re+B)/2);const ie=new window.google.maps.Map(h,{zoom:15,center:{lat:y,lng:A},mapTypeControl:!1,streetViewControl:!1,fullscreenControl:!0}),de=new window.google.maps.Marker({position:{lat:H!==0?H:y,lng:re!==0?re:A},map:ie,title:"Your Location",icon:{url:"http://maps.google.com/mapfiles/ms/icons/red-dot.png"}}),d=new window.google.maps.Marker({position:{lat:I!==0?I:y,lng:B!==0?B:A},map:ie,title:"User Location",icon:{url:"http://maps.google.com/mapfiles/ms/icons/blue-dot.png"}}),k=new window.google.maps.DirectionsService,Z=new window.google.maps.DirectionsRenderer;Z.setMap(ie),H!==0&&re!==0&&I!==0&&B!==0&&k.route({origin:{lat:H,lng:re},destination:{lat:I,lng:B},travelMode:window.google.maps.TravelMode.DRIVING},(ne,he)=>{he==="OK"?Z.setDirections(ne):console.warn("Directions request failed:",he)}),L.current=ie,D.current={provider:de,user:d},Y.current=Z,N.current=!0},[]),K=g.useCallback(async()=>{if(!W||!r?.id){O(!1),w("Missing token or booking ID");return}try{O(!0);const se=await ch(r.id,W,Q);v(se),w("");const oe=J(se.provider_location?.latitude),G=J(se.provider_location?.longitude),P=J(se.user_location?.latitude),H=J(se.user_location?.longitude);if(!N.current)setTimeout(()=>{ae(oe,G,P,H)},200);else{const re=D.current.provider,I=D.current.user,B=Y.current;re&&oe!==0&&G!==0&&re.setPosition({lat:oe,lng:G}),I&&P!==0&&H!==0&&I.setPosition({lat:P,lng:H}),oe!==0&&G!==0&&P!==0&&H!==0&&B&&new window.google.maps.DirectionsService().route({origin:{lat:oe,lng:G},destination:{lat:P,lng:H},travelMode:window.google.maps.TravelMode.DRIVING},(y,A)=>{A==="OK"&&B&&B.setDirections(y)})}}catch(se){w(se.message||"Failed to fetch locations"),console.error("Failed to fetch locations:",se)}finally{O(!1)}},[W,r?.id,Q,ae]);g.useEffect(()=>{K()},[K]),g.useEffect(()=>()=>{N.current=!1,Y.current&&Y.current.setMap(null),L.current=null,D.current={provider:null,user:null},Y.current=null},[]);const le=u?.provider_location,C=u?.user_location,$=le&&J(le.latitude)!==0&&J(le.longitude)!==0&&le.updated_at,F=C&&J(C.latitude)!==0&&J(C.longitude)!==0&&C.updated_at,T=se=>se?new Date(se).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit",second:"2-digit"}):"Never",ee=(se,oe)=>{const G=J(se),P=J(oe),H=`https://www.google.com/maps?q=${G},${P}`;window.open(H,"_blank")};return l.jsx("div",{className:"tracking-modal-overlay",onClick:j,children:l.jsxs("div",{className:"tracking-modal-content",onClick:se=>se.stopPropagation(),children:[l.jsxs("div",{className:"tracking-modal-header",children:[l.jsx("h2",{className:"tracking-modal-title",children:"Location Tracking"}),l.jsx("button",{className:"tracking-modal-close",onClick:j,"aria-label":"Close",children:l.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M18 6L6 18M6 6L18 18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})})})]}),l.jsx("div",{className:"tracking-modal-body",children:S&&!u&&!U?l.jsx("div",{className:"tracking-loading",children:"Loading locations..."}):U?l.jsxs("div",{className:"tracking-error",children:[l.jsx("p",{children:U}),l.jsx("button",{className:"tracking-refresh-btn",onClick:async()=>{if(!(!W||!r?.id))try{O(!0);const se=await ch(r.id,W,Q);v(se),w("")}catch(se){w(se.message||"Failed to fetch locations"),console.error("Failed to fetch locations:",se)}finally{O(!1)}},style:{marginTop:"12px"},children:"Retry"})]}):u?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"tracking-controls",children:l.jsx("button",{className:"tracking-refresh-btn",onClick:async()=>{K()},disabled:S,children:S?"Refreshing...":"Refresh"})}),l.jsx("div",{id:"tracking-modal-map",style:{width:"100%",height:"400px",borderRadius:"12px",overflow:"hidden",marginBottom:"16px",border:"1px solid #e0e0e0"},children:!window.google&&l.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",color:"#666",background:"#f5f5f5"},children:"Loading map..."})}),l.jsxs("div",{className:"tracking-locations",children:[l.jsxs("div",{className:`tracking-location-card ${$?"active":"inactive"}`,children:[l.jsxs("div",{className:"tracking-location-header",children:[l.jsx("div",{className:"tracking-location-icon",style:{background:"#FF6B2B"},children:l.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("path",{d:"M12 2C8.13 2 5 5.13 5 9C5 14.25 12 22 12 22C12 22 19 14.25 19 9C19 5.13 15.87 2 12 2Z",stroke:"white",strokeWidth:"2",fill:"white"}),l.jsx("circle",{cx:"12",cy:"9",r:"3",stroke:"#FF6B2B",strokeWidth:"2",fill:"#FF6B2B"})]})}),l.jsxs("div",{className:"tracking-location-info",children:[l.jsx("h3",{className:"tracking-location-title",children:"Your Location"}),$?l.jsxs(l.Fragment,{children:[l.jsxs("p",{className:"tracking-location-coords",children:[J(le.latitude).toFixed(6),", ",J(le.longitude).toFixed(6)]}),l.jsxs("p",{className:"tracking-location-time",children:["Last updated: ",T(le.updated_at)]})]}):l.jsx("p",{className:"tracking-location-status",children:"Location not available"})]})]}),$&&l.jsx("button",{className:"tracking-map-btn",onClick:()=>ee(le.latitude,le.longitude),children:"Open in Maps"})]}),l.jsxs("div",{className:`tracking-location-card ${F?"active":"inactive"}`,children:[l.jsxs("div",{className:"tracking-location-header",children:[l.jsx("div",{className:"tracking-location-icon",style:{background:"#10b981"},children:l.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("path",{d:"M12 2C8.13 2 5 5.13 5 9C5 14.25 12 22 12 22C12 22 19 14.25 19 9C19 5.13 15.87 2 12 2Z",stroke:"white",strokeWidth:"2",fill:"white"}),l.jsx("circle",{cx:"12",cy:"9",r:"3",stroke:"#10b981",strokeWidth:"2",fill:"#10b981"})]})}),l.jsxs("div",{className:"tracking-location-info",children:[l.jsx("h3",{className:"tracking-location-title",children:"User Location"}),F?l.jsxs(l.Fragment,{children:[l.jsxs("p",{className:"tracking-location-coords",children:[J(C.latitude).toFixed(6),", ",J(C.longitude).toFixed(6)]}),l.jsxs("p",{className:"tracking-location-time",children:["Last updated: ",T(C.updated_at)]})]}):l.jsx("p",{className:"tracking-location-status",children:"Location not available"})]})]}),F&&l.jsx("button",{className:"tracking-map-btn",onClick:()=>ee(C.latitude,C.longitude),children:"Open in Maps"})]})]})]}):l.jsx("div",{className:"tracking-loading",children:"No location data available"})})]})})}const kt="https://backendpetify.mycartly.in/api";async function Ni(r,f,j=null){if(!r)throw new Error("Authentication token is required");if(!f)throw new Error("Provider ID is required");const u=`${kt}/provider/bookings?provider_id=${f}`,v=`${kt}/provider/appointments/ongoing?provider_id=${f}`,S=`${kt}/provider/appointments/history?provider_id=${f}`;let O=u;j==="completed"?O=S:j==="pending"?O=u:j==="current"?O=v:O=u,console.log(`Fetching bookings from: ${O} for status: ${j||"all"}`);try{const U=await fetch(O,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),w=await U.json().catch(()=>({}));if(!U.ok){const N=w?.error?.message||w?.message||`HTTP ${U.status}`;throw U.status===400&&N.includes("provider_id")?new Error("Provider ID is missing or invalid. Please ensure you are logged in as a provider."):new Error(N)}return w}catch(U){throw U.message.includes("Provider ID")?U:new Error(`Failed to fetch bookings: ${U.message}`)}}async function ig(r,f){const j=await fetch(`${kt}/provider/booking/accept/${r}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${f}`}}),u=await j.json().catch(()=>({}));if(!j.ok){const v=u?.error?.message||u?.message||"Failed to accept booking";throw new Error(v)}return u}async function cg(r,f,j){const u=await fetch(`${kt}/provider/appointment/cancel/${r}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${j}`},body:JSON.stringify({reason:f})}),v=await u.json().catch(()=>({}));if(!u.ok){const S=v?.error?.message||v?.message||"Failed to cancel booking";throw new Error(S)}return v}async function xh(r,f,j,u=null){const v={booking_id:r,provider_id:f};u!=null&&!Number.isNaN(u)&&(v.amount=u);const S=await fetch(`${kt}/payment/request`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${j}`},body:JSON.stringify(v)}),O=await S.json().catch(()=>({}));if(!S.ok){const U=O?.error?.message||O?.message||"Failed to request payment";throw new Error(U)}return O}async function jh(r,f,j){console.log("sendCompletionOtp called with:",{bookingId:r,providerId:f});const u=await fetch(`${kt}/provider/booking/send-otp/${r}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${j}`},body:JSON.stringify({provider_id:f})}),v=await u.json().catch(()=>({}));if(console.log("sendCompletionOtp response:",{status:u.status,data:v}),!u.ok){const S=v?.error?.message||v?.message||`Failed to send completion OTP (${u.status})`;throw new Error(S)}return v}async function rg(r,f,j,u){const v=await fetch(`${kt}/booking/complete/${r}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u}`},body:JSON.stringify({provider_id:f,otp:j})}),S=await v.json().catch(()=>({}));if(!v.ok){const O=S?.error?.message||S?.message||"Failed to complete booking";throw new Error(O)}return S}async function og(r,f,j){const u=await fetch(`${kt}/provider/session/reach/${r}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${j}`},body:JSON.stringify({provider_id:f})}),v=await u.json().catch(()=>({}));if(!u.ok){const S=v?.error?.message||v?.message||"Failed to mark session as reached";throw new Error(S)}return v}async function ug(r,f,j,u="",v){const S=new FormData;S.append("picture_proof",j),S.append("provider_id",f),u&&S.append("notes",u);const O=await fetch(`${kt}/provider/session/end/${r}`,{method:"POST",headers:{Authorization:`Bearer ${v}`},body:S}),U=await O.json().catch(()=>({}));if(!O.ok){const w=U?.error?.message||U?.message||"Failed to end session";throw new Error(w)}return U}async function Nh(r,f,j){const u=await fetch(`${kt}/provider/sessions/${r}?provider_id=${f}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${j}`}}),v=await u.json().catch(()=>({}));if(!u.ok){const S=v?.error?.message||v?.message||"Failed to fetch session history";throw new Error(S)}return v}async function Sh(r,f,j,u){const v=await fetch(`${kt}/provider/cash/received`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u}`},body:JSON.stringify({booking_id:r,provider_id:f,collected_amount:j})}),S=await v.json().catch(()=>({}));if(!v.ok){const O=S?.error?.message||S?.message||"Failed to record cash collection";throw new Error(O)}return S}async function dg(r,f,j){const u=await fetch(`${kt}/provider/service/start/${r}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${j}`},body:JSON.stringify({provider_id:f})}),v=await u.json().catch(()=>({}));if(!u.ok){const S=v?.error?.message||v?.message||"Failed to start service";throw new Error(S)}return v}async function fg(r,f,j){const u=await fetch(`${kt}/provider/service/end/${r}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${j}`},body:JSON.stringify({provider_id:f})}),v=await u.json().catch(()=>({}));if(!u.ok){const S=v?.error?.message||v?.message||"Failed to end service";throw new Error(S)}return v}function bh({booking:r,providerId:f,token:j,onUpdate:u}){const[v,S]=g.useState(!1),[O,U]=g.useState(""),[w,N]=g.useState(!1),[L,D]=g.useState(""),Y=g.useRef(null),W=async()=>{if(!(!j||v)){S(!0),U("");try{await og(r.id,f,j),u&&u()}catch(C){U(C.message||"Failed to mark session as reached")}finally{S(!1)}}},Q=async()=>{if(!Y.current?.files?.[0]){U("Please select a picture");return}S(!0),U("");try{await ug(r.id,f,Y.current.files[0],L,j),N(!1),D(""),u&&u()}catch(C){U(C.message||"Failed to end session")}finally{S(!1)}},J=r.sessions?.find(C=>C.status==="not_started"||C.status==="session_started");if(!r.slot_type||!r.total_sessions)return null;const ae=r.completed_sessions||0,K=r.total_sessions||0,le=K>0?ae/K*100:0;return l.jsxs("div",{className:"session-management",children:[l.jsxs("div",{className:"session-progress",children:[l.jsxs("div",{className:"progress-header",children:[l.jsx("span",{className:"slot-badge",children:r.slot_type}),l.jsxs("span",{className:"progress-text",children:[ae," / ",K," sessions completed"]})]}),l.jsx("div",{className:"progress-bar",children:l.jsx("div",{className:"progress-fill",style:{width:`${le}%`}})})]}),J&&l.jsxs("div",{className:"session-actions",children:[J.status==="not_started"&&l.jsx("button",{className:"session-button reach-button",onClick:W,disabled:v,children:v?"Processing...":"I Reached"}),J.status==="session_started"&&l.jsx(l.Fragment,{children:w?l.jsxs("div",{className:"picture-upload-form",children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Upload Picture *"}),l.jsx("input",{ref:Y,type:"file",accept:"image/*",capture:"environment",style:{marginBottom:"12px",width:"100%"}})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Session Notes"}),l.jsx("textarea",{value:L,onChange:C=>D(C.target.value),placeholder:"Add notes about this session...",rows:4,style:{width:"100%",padding:"12px",border:"1px solid #e0e0e0",borderRadius:"8px",fontFamily:"inherit",fontSize:"14px",resize:"vertical",marginBottom:"12px"}})]}),l.jsxs("div",{className:"upload-actions",children:[l.jsx("button",{className:"session-button cancel-button",onClick:()=>{N(!1),D(""),U("")},children:"Cancel"}),l.jsx("button",{className:"session-button submit-button",onClick:Q,disabled:v,children:v?"Uploading...":"Submit"})]})]}):l.jsx("button",{className:"session-button end-button",onClick:()=>N(!0),children:"End Session"})})]}),O&&l.jsx("div",{className:"session-error",children:O}),r.admin_approval_status==="pending"&&l.jsx("div",{className:"approval-status pending",children:" Pending Admin Approval"}),r.admin_approval_status==="approved"&&l.jsx("div",{className:"approval-status approved",children:" Approved by Admin"}),r.admin_approval_status==="rejected"&&l.jsxs("div",{className:"approval-status rejected",children:[" Rejected: ",r.admin_rejection_reason||"No reason provided"]})]})}function hg({booking:r,providerId:f,token:j,onClose:u}){const[v,S]=g.useState([]),[O,U]=g.useState(!0),[w,N]=g.useState("");g.useEffect(()=>{r?.id&&f&&j&&L()},[r?.id,f,j]);const L=async()=>{U(!0),N("");try{const Q=await Nh(r.id,f,j);S(Q.sessions||[])}catch(Q){N(Q.message||"Failed to load session history")}finally{U(!1)}},D=Q=>Q?new Date(Q).toLocaleDateString("en-IN",{weekday:"short",year:"numeric",month:"short",day:"numeric"}):"-",Y=Q=>Q?new Date(Q).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"}):"-",W=Q=>{switch(Q){case"session_completed":return l.jsx("span",{className:"status-badge completed",children:"Completed"});case"session_started":return l.jsx("span",{className:"status-badge started",children:"In Progress"});case"not_started":return l.jsx("span",{className:"status-badge not-started",children:"Not Started"});default:return l.jsx("span",{className:"status-badge",children:Q})}};return l.jsx("div",{className:"modal-overlay",onClick:u,children:l.jsxs("div",{className:"session-history-modal",onClick:Q=>Q.stopPropagation(),children:[l.jsxs("div",{className:"modal-header",children:[l.jsx("h2",{children:"Session History"}),l.jsx("button",{className:"modal-close",onClick:u,children:""})]}),l.jsx("div",{className:"modal-body",children:O?l.jsx("div",{className:"loading",children:"Loading sessions..."}):w?l.jsx("div",{className:"error",children:w}):v.length===0?l.jsx("div",{className:"no-sessions",children:"No sessions found"}):l.jsx("div",{className:"sessions-list",children:v.map(Q=>l.jsxs("div",{className:"session-item",children:[l.jsxs("div",{className:"session-header",children:[l.jsxs("div",{className:"session-number",children:["Session ",Q.session_number]}),W(Q.status)]}),l.jsxs("div",{className:"session-details",children:[l.jsxs("div",{className:"detail-row",children:[l.jsx("span",{className:"detail-label",children:"Date:"}),l.jsx("span",{className:"detail-value",children:D(Q.session_date)})]}),Q.reached_at&&l.jsxs("div",{className:"detail-row",children:[l.jsx("span",{className:"detail-label",children:"Reached:"}),l.jsxs("span",{className:"detail-value",children:[D(Q.reached_at)," at ",Y(Q.reached_at)]})]}),Q.started_at&&l.jsxs("div",{className:"detail-row",children:[l.jsx("span",{className:"detail-label",children:"Started:"}),l.jsx("span",{className:"detail-value",children:Y(Q.started_at)})]}),Q.ended_at&&l.jsxs("div",{className:"detail-row",children:[l.jsx("span",{className:"detail-label",children:"Ended:"}),l.jsx("span",{className:"detail-value",children:Y(Q.ended_at)})]}),Q.picture_proof_url&&l.jsxs("div",{className:"detail-row",children:[l.jsx("span",{className:"detail-label",children:"Proof:"}),l.jsx("div",{className:"proof-image",children:l.jsx("img",{src:Q.picture_proof_url,alt:`Session ${Q.session_number} proof`,onClick:()=>window.open(Q.picture_proof_url,"_blank")})})]})]})]},Q.id))})}),l.jsx("div",{className:"modal-footer",children:l.jsx("button",{className:"close-button",onClick:u,children:"Close"})})]})})}const Kr="https://backendpetify.mycartly.in/api";function mg({booking:r,providerId:f,token:j,userData:u,onBack:v}){const[S,O]=g.useState([]),[U,w]=g.useState(!0),[N,L]=g.useState("");g.useEffect(()=>{r?.id&&(f||u?.token)&&D()},[r?.id,f,u?.token]);const D=async()=>{if(r?.id){w(!0),L("");try{let T;const ee=j||u?.token;if(f)T=`${Kr}/provider/sessions/${r.id}?provider_id=${f}`;else if(u?.user?.id||u?.user_id){const G=u?.user?.id||u?.user_id;T=`${Kr}/user/booking/session-history/${r.id}?user_id=${G}`}else T=`${Kr}/user/sessions/${r.id}`;const se=await fetch(T,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ee}`}}),oe=await se.json().catch(()=>({}));if(!se.ok)throw new Error(oe?.error?.message||oe?.message||"Failed to load sessions");O(oe.sessions||[])}catch(T){console.error("Failed to load sessions:",T),L(T.message||"Failed to load session history")}finally{w(!1)}}},Y=T=>({not_started:{label:"Not Started",class:"status-not-started"},session_started:{label:"In Progress",class:"status-in-progress"},session_completed:{label:"Completed",class:"status-completed"}})[T]||{label:T,class:"status-unknown"},W=T=>{if(!T)return"N/A";try{return new Date(T).toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric"})}catch{return T}},Q=T=>{if(!T)return"N/A";try{return new Date(T).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})}catch{return T}},J=S.filter(T=>T.status==="session_completed").length,ae=r?.total_sessions||S.length||0,K=ae-J,le=ae>0?J/ae*100:0,C=Math.floor(J/4),$=Math.ceil(ae/4),F=!U&&!N&&ae===0&&S.length===0;return l.jsxs("div",{className:"booking-report-container",children:[l.jsxs("div",{className:"booking-report-header",children:[l.jsx("button",{className:"report-back-button",onClick:v,children:l.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:l.jsx("path",{d:"M15 18L9 12L15 6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),l.jsx("h2",{className:"report-title",children:"Booking Report"}),l.jsx("div",{style:{width:"24px"}})]}),l.jsx("div",{className:"report-content",children:F?l.jsxs("div",{className:"empty-state-container",children:[l.jsx("div",{className:"empty-state-icon",children:l.jsx("svg",{width:"80",height:"80",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:l.jsx("path",{d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z",strokeLinecap:"round",strokeLinejoin:"round"})})}),l.jsx("h3",{className:"empty-state-title",children:"No Report Available"}),l.jsx("p",{className:"empty-state-message",children:"There are no sessions to display for this booking yet."})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"report-summary",children:[l.jsxs("div",{className:"summary-card",children:[l.jsx("div",{className:"summary-label",children:"Shift Pattern"}),l.jsx("div",{className:"summary-value slot-badge",children:r?.slot_type||"N/A"})]}),l.jsxs("div",{className:"summary-card",children:[l.jsx("div",{className:"summary-label",children:"Total Sessions"}),l.jsx("div",{className:"summary-value",children:ae})]}),l.jsxs("div",{className:"summary-card",children:[l.jsx("div",{className:"summary-label",children:"Completed"}),l.jsx("div",{className:"summary-value completed",children:J})]}),l.jsxs("div",{className:"summary-card",children:[l.jsx("div",{className:"summary-label",children:"Remaining"}),l.jsx("div",{className:"summary-value remaining",children:K})]}),l.jsxs("div",{className:"summary-card",children:[l.jsx("div",{className:"summary-label",children:"Months"}),l.jsxs("div",{className:"summary-value",children:[C," / ",$]})]})]}),l.jsxs("div",{className:"report-progress",children:[l.jsxs("div",{className:"progress-header",children:[l.jsx("span",{children:"Overall Progress"}),l.jsxs("span",{children:[Math.round(le),"%"]})]}),l.jsx("div",{className:"progress-bar",children:l.jsx("div",{className:"progress-fill",style:{width:`${le}%`}})})]}),(r?.service_started_at||r?.service_ended_at||r?.bookingData?.service_started_at||r?.bookingData?.service_ended_at)&&l.jsxs("div",{className:"service-timing-section",children:[l.jsx("h3",{className:"section-title",children:"Service Timing"}),l.jsxs("div",{className:"service-timing-card",children:[(r?.service_started_at||r?.bookingData?.service_started_at)&&l.jsxs("div",{className:"timing-row",children:[l.jsx("span",{className:"timing-label",children:"Service Started:"}),l.jsx("span",{className:"timing-value started",children:new Date(r?.service_started_at||r?.bookingData?.service_started_at).toLocaleString("en-IN",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0})})]}),(r?.service_ended_at||r?.bookingData?.service_ended_at)&&l.jsxs("div",{className:"timing-row",children:[l.jsx("span",{className:"timing-label",children:"Service Ended:"}),l.jsx("span",{className:"timing-value ended",children:new Date(r?.service_ended_at||r?.bookingData?.service_ended_at).toLocaleString("en-IN",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0})})]}),(r?.service_started_at||r?.bookingData?.service_started_at)&&(r?.service_ended_at||r?.bookingData?.service_ended_at)&&l.jsxs("div",{className:"timing-row",children:[l.jsx("span",{className:"timing-label",children:"Total Duration:"}),l.jsx("span",{className:"timing-value duration",children:(()=>{const T=new Date(r?.service_started_at||r?.bookingData?.service_started_at),se=new Date(r?.service_ended_at||r?.bookingData?.service_ended_at).getTime()-T.getTime(),oe=Math.floor(se/6e4),G=Math.floor(oe/60),P=oe%60;return G>0?`${G}h ${P}m`:`${P}m`})()})]})]})]}),l.jsxs("div",{className:"session-list-section",children:[l.jsx("h3",{className:"section-title",children:"Session History"}),U?l.jsx("div",{className:"loading-state",children:"Loading sessions..."}):N?l.jsx("div",{className:"error-state",children:N}):S.length===0?l.jsxs("div",{className:"empty-state-container",children:[l.jsx("div",{className:"empty-state-icon",children:l.jsx("svg",{width:"60",height:"60",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:l.jsx("path",{d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2",strokeLinecap:"round",strokeLinejoin:"round"})})}),l.jsx("h3",{className:"empty-state-title",children:"No Sessions Yet"}),l.jsx("p",{className:"empty-state-message",children:"Sessions will appear here once you start working on this booking."})]}):l.jsx("div",{className:"session-list",children:S.map((T,ee)=>{const se=Y(T.status);return l.jsxs("div",{className:"session-item",children:[l.jsxs("div",{className:"session-header",children:[l.jsxs("div",{className:"session-number",children:["Session ",T.session_number||ee+1]}),l.jsx("span",{className:`status-badge ${se.class}`,children:se.label})]}),l.jsxs("div",{className:"session-details",children:[l.jsxs("div",{className:"detail-row",children:[l.jsx("span",{className:"detail-label",children:"Scheduled Date:"}),l.jsx("span",{className:"detail-value",children:W(T.session_date)})]}),T.reached_at&&l.jsxs("div",{className:"detail-row",children:[l.jsx("span",{className:"detail-label",children:"Reached At:"}),l.jsxs("span",{className:"detail-value",children:[W(T.reached_at)," ",Q(T.reached_at)]})]}),T.started_at&&l.jsxs("div",{className:"detail-row",children:[l.jsx("span",{className:"detail-label",children:"Started At:"}),l.jsxs("span",{className:"detail-value",children:[W(T.started_at)," ",Q(T.started_at)]})]}),T.ended_at&&l.jsxs("div",{className:"detail-row",children:[l.jsx("span",{className:"detail-label",children:"Ended At:"}),l.jsxs("span",{className:"detail-value",children:[W(T.ended_at)," ",Q(T.ended_at)]})]}),T.notes&&l.jsxs("div",{className:"detail-row notes-row",children:[l.jsx("span",{className:"detail-label",children:"Notes:"}),l.jsx("span",{className:"detail-value notes",children:T.notes})]}),T.picture_proof_url&&l.jsxs("div",{className:"detail-row",children:[l.jsx("span",{className:"detail-label",children:"Proof:"}),l.jsx("div",{className:"proof-image-container",children:l.jsx("img",{src:T.picture_proof_url,alt:`Session ${T.session_number} proof`,className:"proof-image",onClick:()=>window.open(T.picture_proof_url,"_blank")})})]})]})]},T.id||ee)})})]})]})})]})}const ca="/PETNEXTLOGO.png",pg=[{id:"pending",label:"New Orders"},{id:"current",label:"Current Order"},{id:"completed",label:"Previous Order"}];function gg({onBack:r,activeNavTab:f,onNavChange:j,onShowOtp:u,userData:v,initialTab:S="pending",onNavigateToBooking:O,onNavigateToReport:U}){const[w,N]=g.useState(f||"Orders"),[L,D]=g.useState(S),[Y,W]=g.useState(null),[Q,J]=g.useState([]),[ae,K]=g.useState(!0),[le,C]=g.useState(""),[$,F]=g.useState(null),[T,ee]=g.useState(null),[se,oe]=g.useState(0),[G,P]=g.useState(!1),[H,re]=g.useState(null),[I,B]=g.useState(""),[h,y]=g.useState(!1),[A,ie]=g.useState(!1),[de,d]=g.useState(null),[k,Z]=g.useState(!1),[ne,he]=g.useState(null),[ye,be]=g.useState(!1),[Xe,te]=g.useState(null),[Ye,qe]=g.useState(""),yt=g.useRef({}),dt=g.useRef({}),xt=g.useRef(0),xe=v?.token,ze=v?.provider?.id||v?.provider_id;g.useEffect(()=>{S&&S!==L&&D(S)},[S]),g.useEffect(()=>{xe&&ze?gt():xe&&!ze&&(C("Provider ID not found. Please ensure you are logged in as a provider."),K(!1))},[xe,ze,L]),g.useEffect(()=>{if(!xe||!ze)return;const ue=setInterval(()=>{ae||gt()},L==="pending"?1e4:3e4);return()=>clearInterval(ue)},[xe,ze,L,ae]),g.useEffect(()=>{if(!xe||!ze)return;const m=()=>{!ae&&L==="pending"&&(console.log("Window focused, refreshing pending bookings..."),gt())},ue=()=>{!document.hidden&&!ae&&L==="pending"&&(console.log("Page visible, refreshing pending bookings..."),gt())};return window.addEventListener("focus",m),document.addEventListener("visibilitychange",ue),()=>{window.removeEventListener("focus",m),document.removeEventListener("visibilitychange",ue)}},[xe,ze,L,ae]),g.useEffect(()=>()=>{Object.values(yt.current).forEach(m=>m?.stop()),Object.values(dt.current).forEach(m=>clearInterval(m))},[]);const gt=async()=>{if(!xe||!ze){ze||C("Provider ID not found. Please ensure you are logged in as a provider.");return}K(!0),C("");try{let m=null;L==="pending"?m="pending":L==="current"?m="current":L==="completed"&&(m="completed"),console.log("Loading bookings with status:",m,"providerId:",ze,"token exists:",!!xe);const ue=await Ni(xe,ze,m);console.log("Bookings API response:",ue);let ce=[];if(ue.bookings&&Array.isArray(ue.bookings)?ce=ue.bookings:ue.data&&Array.isArray(ue.data)?ce=ue.data:Array.isArray(ue)&&(ce=ue),console.log("Extracted bookings list (before filtering):",ce),console.log("Bookings count:",ce.length),ce.length>0&&(console.log("=== BOOKING STATUS DEBUG ==="),ce.forEach(_=>{console.log(`Booking ID: ${_.id||_.booking_id}, Status: "${_.status}", Provider ID: ${_.provider_id}, Payment Status: ${_.payment_status}`)}),console.log("=== END STATUS DEBUG ===")),ce.length>0&&(console.log("=== BOOKING DATA STRUCTURE DEBUG ==="),console.log("First booking FULL object:",JSON.stringify(ce[0],null,2)),console.log("First booking key fields:",{id:ce[0].id||ce[0].booking_id,status:ce[0].status,provider_id:ce[0].provider_id,user_id:ce[0].user_id,full_name:ce[0].full_name,amount:ce[0].amount,price:ce[0].price,payment_amount:ce[0].payment_amount,subcategory:ce[0].subcategory,service:ce[0].service,category:ce[0].category,service_name:ce[0].service_name,category_name:ce[0].category_name,subcategory_id:ce[0].subcategory_id,category_id:ce[0].category_id}),console.log("=== END BOOKING DATA DEBUG ===")),m==="pending"){const _=ce.length,ge=ze?.toString();ce=ce.filter(Le=>{const Pt=(Le.status||"").toLowerCase().trim(),$e=Le.provider_id?.toString(),Ee=$e&&($e===ge||Le.provider_id===ze||parseInt($e)===parseInt(ge)),_t=Pt==="pending"&&Ee;return console.log(_t?` Booking ${Le.id||Le.booking_id} included - status: "${Le.status}", provider_id: ${Le.provider_id}`:`Booking ${Le.id||Le.booking_id} filtered out - status: "${Le.status}", provider_id: ${Le.provider_id} (${typeof Le.provider_id}), expected: ${ze} (${typeof ze})`),_t}),console.log(`Filtered ${_} bookings to ${ce.length} pending bookings for provider ${ze}`),ce.length===0&&_>0&&console.warn(" No pending bookings found after filtering. Check if bookings have correct status and provider_id.")}else if(m==="current"){const _=ze?.toString(),Le=new Date().getDay(),Pt=[1,3,5],$e=[2,4,6];ce=ce.filter(Ee=>{const _t=Ee.provider_id?.toString(),ul=(Ee.status||"").toLowerCase().trim(),jn=Ee.slot_type||Ee.bookingData?.slot_type,It=_t&&(_t===_||Ee.provider_id===ze||parseInt(_t)===parseInt(_)),tt=["completed","cancelled","cancelled_auto"].includes(ul);let at=!0;if(jn){const oa=String(jn).toUpperCase().trim();oa==="MWF"?(at=Pt.includes(Le),at||console.log(`Booking ${Ee.id} filtered out - MWF booking but today is ${["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][Le]}`)):oa==="TTS"?(at=$e.includes(Le),at||console.log(`Booking ${Ee.id} filtered out - TTS booking but today is ${["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][Le]}`)):console.warn(`Booking ${Ee.id} has unknown slot_type: ${jn}`)}else console.log(`Booking ${Ee.id} has no slot_type (non-session booking), showing it`);return It||console.log(`Booking ${Ee.id} filtered out - provider mismatch: ${_t} vs ${_}`),tt&&console.log(`Booking ${Ee.id} filtered out - excluded status: ${ul}`),It&&!tt&&at}),console.log(`Current tab: Filtered to ${ce.length} bookings. Today: ${["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][Le]}. Statuses:`,ce.map(Ee=>({id:Ee.id,status:Ee.status,slot_type:Ee.slot_type||Ee.bookingData?.slot_type,provider_id:Ee.provider_id})))}else m==="completed"&&(ce=ce.filter(_=>["completed","cancelled","cancelled_auto"].includes(_.status)));if(console.log("Final filtered bookings list for status",m,":",ce.length,"bookings"),m==="pending"){const _=xt.current,ge=ce.length;if(_===0&&ge>0)xt.current=ge;else if(ge>_&&_>=0){const Le=ge-_;oe(Le),console.log(` NEW BOOKING ALERT: ${Le} new booking(s) received! Total: ${ge}`),setTimeout(()=>{oe(0)},5e3),xt.current=ge}else xt.current=ge}const Je=(await Promise.all(ce.map(async _=>{if(_.slot_type&&_.total_sessions)try{const ge=await Nh(_.id||_.booking_id,ze,xe);_.sessions=ge.sessions||[]}catch(ge){console.error("Failed to load sessions:",ge),_.sessions=[]}return _}))).map(_=>{console.log("Processing booking:",{id:_.id||_.booking_id,rawBooking:_});let ge=null;_.service_price_discounted!==null&&_.service_price_discounted!==void 0&&_.service_price_discounted!==0&&_.service_price_discounted!=="0"?(ge=_.service_price_discounted,console.log(`Found amount in booking.service_price_discounted: ${ge}`)):_.service_price_original!==null&&_.service_price_original!==void 0&&_.service_price_original!==0&&_.service_price_original!=="0"?(ge=_.service_price_original,console.log(`Found amount in booking.service_price_original: ${ge}`)):_.payment_amount!==null&&_.payment_amount!==void 0&&_.payment_amount!==0&&_.payment_amount!=="0"?(ge=_.payment_amount,console.log(`Found amount in booking.payment_amount: ${ge}`)):_.amount!==null&&_.amount!==void 0&&_.amount!==0&&_.amount!=="0"?(ge=_.amount,console.log(`Found amount in booking.amount: ${ge}`)):_.price!==null&&_.price!==void 0&&_.price!==0&&_.price!=="0"?(ge=_.price,console.log(`Found amount in booking.price: ${ge}`)):_.subcategory?_.subcategory.price!==null&&_.subcategory.price!==void 0&&_.subcategory.price!==0&&_.subcategory.price!=="0"?(ge=_.subcategory.price,console.log(`Found amount in subcategory.price: ${ge}`)):_.subcategory.amount!==null&&_.subcategory.amount!==void 0&&_.subcategory.amount!==0&&_.subcategory.amount!=="0"?(ge=_.subcategory.amount,console.log(`Found amount in subcategory.amount: ${ge}`)):_.subcategory.service&&(_.subcategory.service.price?(ge=_.subcategory.service.price,console.log(`Found amount in subcategory.service.price: ${ge}`)):_.subcategory.service.price_original&&(ge=_.subcategory.service.price_original,console.log(`Found amount in subcategory.service.price_original: ${ge}`))):_.service&&(_.service.price!==null&&_.service.price!==void 0&&_.service.price!==0&&_.service.price!=="0"?(ge=_.service.price,console.log(`Found amount in service.price: ${ge}`)):_.service.price_original!==null&&_.service.price_original!==void 0&&_.service.price_original!==0&&_.service.price_original!=="0"?(ge=_.service.price_original,console.log(`Found amount in service.price_original: ${ge}`)):_.service.price_discounted!==null&&_.service.price_discounted!==void 0&&_.service.price_discounted!==0&&_.service.price_discounted!=="0"?(ge=_.service.price_discounted,console.log(`Found amount in service.price_discounted: ${ge}`)):_.service.amount!==null&&_.service.amount!==void 0&&_.service.amount!==0&&_.service.amount!=="0"&&(ge=_.service.amount,console.log(`Found amount in service.amount: ${ge}`))),ge||console.warn(" Could not find amount in booking:",_.id||_.booking_id,"Available keys:",Object.keys(_));const Le=yn(ge);let Pt="0";Le!==null?Pt=`${Le.toFixed(2).replace(/\.?0+$/,"")}`:typeof ge=="string"&&ge.trim()!==""&&(Pt=ge.trim().startsWith("")?ge.trim():`${ge.trim()}`);let $e="Service";_.service_title?($e=_.service_title,console.log(`Found service name in booking.service_title: ${$e}`)):_.service_name?$e=_.service_name:_.subcategory?.name?$e=_.subcategory.name:_.subcategory?.service_name?$e=_.subcategory.service_name:_.subcategory?.title?$e=_.subcategory.title:_.service?.title?$e=_.service.title:_.service?.name?$e=_.service.name:_.subcategory?.service?.title?$e=_.subcategory.service.title:_.subcategory?.service?.name&&($e=_.subcategory.service.name);let Ee=null;_.category_name?(Ee=_.category_name,console.log(`Found category name in booking.category_name: ${Ee}`)):_.category?.name?Ee=_.category.name:_.subcategory?.category?.name?Ee=_.subcategory.category.name:_.subcategory?.category_name?Ee=_.subcategory.category_name:_.service?.category?.name?Ee=_.service.category.name:_.service?.category_name&&(Ee=_.service.category_name);const _t=Ee?`${Ee}  ${$e}`:$e;return console.log("Formatted booking:",{id:_.id||_.booking_id,amount:Pt,serviceDisplay:_t,rawAmount:ge,amountValue:Le,serviceName:$e,categoryName:Ee}),{id:_.id||_.booking_id,name:_.user_full_name||_.user?.full_name||_.full_name||"Customer",service:_t,amount:Pt,amountValue:Le,address:_.address||"",petName:_.pet_name||_.pet?.name||_.petName||"Pet",petType:_.pet_type||_.pet?.pet_type||_.petType,petBreed:_.pet_breed||_.pet?.breed||_.petBreed,appointment:ns(_.preferred_date,_.preferred_time),status:ll(_.status),bookingStatus:_.status,paymentStatus:_.payment_status||_.paymentStatus,paymentPaidAt:_.payment_paid_at||_.paymentPaidAt,assignedAt:_.assigned_at||_.assignedAt,assignedByAdmin:_.assigned_by_admin||_.assignedByAdmin,bookingData:_,sessions:_.sessions||[]}});J(Je);const Ze=["pending","accepted","in_progress","awaiting_payment"];Je.filter(_=>Ze.includes(_.bookingStatus)).forEach(_=>{dt.current[_.id]||(console.log(` Starting location tracking for booking ${_.id} (status: ${_.bookingStatus})`),ls(_.id))});const qt=["completed","cancelled","cancelled_auto"];Je.filter(_=>qt.includes(_.bookingStatus)).forEach(_=>{dt.current[_.id]&&(console.log(` Stopping location tracking for booking ${_.id} (status: ${_.bookingStatus})`),ss(_.id))})}catch(m){const ue=m.message||"Failed to load bookings";C(ue),console.error("Failed to load bookings:",m),(m.message.includes("Endpoint not found")||m.message.includes("404"))&&console.error("Provider bookings endpoint may not exist. Please check API documentation.")}finally{K(!1)}},ns=(m,ue)=>{if(!m)return"Not scheduled";const ce=new Date(m),Pe=new Date,Je=new Date(Pe);Je.setDate(Je.getDate()+1);let Ze="";return ce.toDateString()===Pe.toDateString()?Ze="Today":ce.toDateString()===Je.toDateString()?Ze="Tomorrow":Ze=ce.toLocaleDateString("en-IN",{month:"short",day:"numeric"}),ue?`${Ze}  ${ue}`:Ze},Pa=m=>{if(!m)return null;const ue=new Date(m),Pe=new Date-ue,Je=Math.floor(Pe/6e4),Ze=Math.floor(Pe/36e5),ra=Math.floor(Pe/864e5);return Je<1?"Just now":Je<60?`${Je} minute${Je>1?"s":""} ago`:Ze<24?`${Ze} hour${Ze>1?"s":""} ago`:ra<7?`${ra} day${ra>1?"s":""} ago`:ue.toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},ll=m=>m==="awaiting_assignment"?"Awaiting Assignment":m==="pending"?"Pending":["accepted","in_progress","awaiting_payment","awaiting_completion"].includes(m)?"Current":["completed","cancelled","cancelled_auto"].includes(m)?"Completed":m,yn=m=>{if(m==null)return null;if(typeof m=="number")return Number.isFinite(m)?m:null;if(typeof m=="string"){const ue=parseFloat(m.replace(/[,\s]/g,""));return isNaN(ue)?null:ue}return null},ls=m=>{if(!xe||!navigator.geolocation){console.warn("Location tracking not available - geolocation not supported or token missing");return}dt.current[m]&&clearInterval(dt.current[m]);let ue=0;const ce=12e3,Pe=()=>{navigator.geolocation.getCurrentPosition(async Ze=>{const ra=Date.now();if(!(ra-ue<ce)){ue=ra;try{const qt=await lg(m,Ze.coords.latitude,Ze.coords.longitude,xe);console.log(` Location updated for booking ${m}:`,{lat:Ze.coords.latitude,lng:Ze.coords.longitude,eta:qt?.eta})}catch(qt){console.error(`Location update failed for booking ${m}:`,qt.message),(qt.message.includes("invalid_status")||qt.message.includes("completed")||qt.message.includes("cancelled")||qt.message.includes("404"))&&(console.log(` Stopping location tracking for booking ${m} - status changed`),ss(m))}}},Ze=>{console.error(`Location error for booking ${m}:`,Ze.message)},{enableHighAccuracy:!0,timeout:15e3,maximumAge:0})};Pe();const Je=setInterval(Pe,ce);dt.current[m]=Je,console.log(` Started location tracking for booking ${m} (updates every ${ce/1e3}s)`)},ss=async m=>{if(yt.current[m]&&(yt.current[m].stop(),delete yt.current[m]),dt.current[m]&&(clearInterval(dt.current[m]),delete dt.current[m],console.log(` Stopped location tracking for booking ${m}`)),xe)try{await sg(m,xe)}catch(ue){console.error(`Failed to call stop endpoint for booking ${m}:`,ue)}},jt=async m=>{if(!(!xe||$)){F(m.id);try{const ue=await ig(m.id,xe);console.log("Booking accepted response:",ue),ls(m.id),await new Promise(ce=>setTimeout(ce,500)),D("current"),await gt(),setTimeout(async()=>{await gt()},1e3),W(null),B("Order accepted successfully!"),y(!0),setTimeout(()=>y(!1),3e3)}catch(ue){console.error("Error accepting booking:",ue),C(ue.message||"Failed to accept booking"),B(ue.message||"Failed to accept booking"),y(!0),setTimeout(()=>y(!1),3e3)}finally{F(null)}}},wi=async m=>{if(!xe||$)return;const ue=prompt("Please provide a reason for rejection:");if(ue){F(m.id);try{await cg(m.id,ue,xe),await gt(),W(null)}catch(ce){C(ce.message||"Failed to reject booking")}finally{F(null)}}},sl=async m=>{if(!(!xe||$)){F(m.id),ee("payment");try{const ue=v?.provider?.id||v?.id,ce=typeof m.amountValue=="number"?m.amountValue:yn(m?.bookingData?.payment_amount??m?.bookingData?.service_price_discounted??m?.bookingData?.service_price_original??m?.bookingData?.amount??m?.bookingData?.price);await xh(m.id,ue,xe,ce??void 0),B("Payment link sent successfully"),y(!0),setTimeout(()=>y(!1),3e3),await gt()}catch(ue){C(ue.message||"Failed to request payment")}finally{F(null),ee(null)}}},il=async m=>{if(!(!xe||$)){F(m.id),ee("completion");try{const ue=v?.provider?.id||v?.id;console.log("Sending completion OTP for booking:",m.id,"provider:",ue),await jh(m.id,ue,xe),B("OTP sent to customer"),y(!0),setTimeout(()=>y(!1),3e3),W(null),C(""),u?.(m)}catch(ue){console.error("Failed to send completion OTP:",ue);const ce=ue.message||"Failed to send completion OTP";C(ce),B(ce),y(!0),setTimeout(()=>y(!1),3e3)}finally{F(null),ee(null)}}},xn=m=>{N(m),j?.(m),m==="Home"&&r?.()},Ci=m=>{D(m),W(null)},cl=m=>{W(ue=>ue===m?null:m)},is=Q.filter(m=>L==="current"?m.status==="Current"||m.status==="Pending":L==="pending"?m.status==="Pending":m.status==="Completed"),Ti=m=>["accepted","in_progress"].includes(m?.bookingStatus),Ia=m=>m?.bookingStatus==="awaiting_payment",Nt=m=>{const ue=m?.paymentStatus||m?.bookingData?.payment_status,ce=m?.bookingStatus;return ue!=="paid"&&["accepted","in_progress","awaiting_payment","awaiting_completion"].includes(ce)},Ut=m=>(m?.paymentStatus||m?.bookingData?.payment_status)==="paid",St=m=>(m?.paymentStatus||m?.bookingData?.payment_status)==="paid"||m?.bookingStatus==="awaiting_completion",rl=m=>{re(m),P(!0)},Ai=()=>{P(!1),re(null)},ol=m=>{const ue=m?.bookingStatus||m?.status;return["pending","accepted","in_progress","awaiting_payment","awaiting_completion"].includes(ue)};return l.jsxs("div",{className:"order-management-container",children:[l.jsxs("div",{className:"order-management-content",children:[l.jsxs("div",{className:"order-management-content-with-nav",children:[l.jsxs("header",{className:"order-management-header",children:[l.jsx("button",{className:"order-management-back-button",onClick:r,"aria-label":"Go back",children:l.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("line",{x1:"18",y1:"12",x2:"6",y2:"12",stroke:"black",strokeWidth:"2",strokeLinecap:"round"}),l.jsx("path",{d:"M6 12L12 6M6 12L12 18",stroke:"black",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),l.jsx("div",{className:"order-management-logo-section",children:l.jsx("img",{src:ca,alt:"Pet Nex Provider Logo",className:"order-management-logo-icon"})}),l.jsx("button",{className:"order-management-profile-button","aria-label":"Refresh bookings",onClick:gt,disabled:ae,title:"Refresh bookings",children:l.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("path",{d:"M10 3V1M10 3C7.79086 3 6 4.79086 6 7M10 3C12.2091 3 14 4.79086 14 7M10 17V19M10 17C12.2091 17 14 15.2091 14 13M10 17C7.79086 17 6 15.2091 6 13",stroke:"#1F1F1F",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M3 10H1M19 10H17",stroke:"#1F1F1F",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})})]}),l.jsx("div",{className:"order-management-title-section",children:l.jsx("h1",{className:"order-management-title",children:"Order Management"})}),l.jsx("div",{className:"order-management-tabs",children:pg.map(m=>l.jsx("button",{type:"button",className:`order-tab ${L===m.id?"active":""}`,onClick:()=>Ci(m.id),children:m.label},m.id))}),l.jsxs("div",{className:"order-management-body",children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[l.jsx("h2",{className:"customers-heading",children:"Customers"}),L==="pending"&&l.jsxs("button",{onClick:gt,disabled:ae,style:{padding:"8px 16px",background:"#FF6B2B",color:"white",border:"none",borderRadius:"8px",fontSize:"12px",fontWeight:"600",cursor:ae?"not-allowed":"pointer",opacity:ae?.6:1,display:"flex",alignItems:"center",gap:"6px"},title:"Refresh to check for new bookings",children:[l.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("path",{d:"M10 3V1M10 3C7.79086 3 6 4.79086 6 7M10 3C12.2091 3 14 4.79086 14 7M10 17V19M10 17C12.2091 17 14 15.2091 14 13M10 17C7.79086 17 6 15.2091 6 13",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M3 10H1M19 10H17",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),ae?"Refreshing...":"Refresh"]})]}),se>0&&L==="pending"&&l.jsxs("div",{style:{padding:"12px 16px",background:"#22c55e",color:"white",borderRadius:"8px",marginBottom:"16px",fontSize:"14px",fontWeight:"600",display:"flex",alignItems:"center",gap:"8px",animation:"fadeIn 0.3s ease-in"},children:[l.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"2"}),l.jsx("path",{d:"M12 8V12M12 16H12.01",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})]})," ",se," new booking",se>1?"s":""," received!"]}),le&&l.jsxs("div",{className:"error-message",style:{padding:"10px",color:"#f44336",marginBottom:"10px",fontSize:"14px",lineHeight:"1.5"},children:[l.jsx("strong",{children:"Error loading bookings:"})," ",le,l.jsx("br",{}),l.jsx("small",{style:{color:"#666"},children:le.includes("endpoint")||le.includes("404")?"The provider bookings endpoint may not be implemented yet. Please check the API documentation or contact support.":"Please check your connection and try refreshing."})]}),ae?l.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading bookings..."}):le&&le.includes("endpoint")?l.jsxs("div",{style:{padding:"20px",textAlign:"center",color:"#666"},children:[l.jsx("p",{children:"Unable to load bookings."}),l.jsxs("p",{style:{fontSize:"12px",marginTop:"10px"},children:["The backend endpoint for fetching provider bookings may not be implemented yet.",l.jsx("br",{}),"Expected endpoints: GET /api/provider/appointments/ongoing or GET /api/provider/bookings"]}),l.jsx("button",{onClick:gt,style:{marginTop:"15px",padding:"10px 20px",background:"#FF6B2B",color:"white",border:"none",borderRadius:"8px",cursor:"pointer"},children:"Retry"})]}):is.length===0?l.jsxs("div",{style:{padding:"20px",textAlign:"center"},children:["No bookings found",L==="pending"&&l.jsx("button",{onClick:gt,style:{marginTop:"15px",padding:"8px 16px",background:"#f0f0f0",border:"1px solid #ddd",borderRadius:"6px",cursor:"pointer",display:"block",margin:"15px auto 0"},children:"Refresh"})]}):l.jsx("div",{className:"customers-list",children:is.map(m=>{const ue=Y===m.id,ce=$===m.id,Pe=m.assignedAt&&new Date-new Date(m.assignedAt)<36e5;return l.jsxs("div",{className:`customer-card ${m.status==="Current"?"current-order":""} ${Pe?"newly-assigned":""}`,onClick:()=>{O?O(m):cl(m.id)},style:{cursor:"pointer"},children:[Pe&&l.jsx("div",{className:"new-badge",title:`Assigned ${Pa(m.assignedAt)}`,children:"NEW"}),l.jsx("div",{className:"customer-profile",children:l.jsx("div",{className:"customer-avatar-placeholder",children:l.jsx("span",{children:m.name.charAt(0)})})}),l.jsxs("div",{className:"customer-info",children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",flexWrap:"wrap"},children:[l.jsx("h3",{className:`customer-name ${m.status==="Current"?"current-name":""}`,children:m.name}),l.jsx("span",{className:`status-badge status-${(m.bookingStatus||"").toLowerCase().replace("_","-")}`,children:m.bookingStatus==="accepted"?" Accepted":m.bookingStatus==="in_progress"?" In Progress":m.bookingStatus==="awaiting_payment"?" Awaiting Payment":m.bookingStatus==="pending"?" Pending":m.bookingStatus==="completed"?" Completed":m.bookingStatus||m.status})]}),l.jsx("p",{className:"customer-service",children:m.service}),l.jsx("p",{className:"customer-service",children:m.address}),m.bookingData?.slot_type&&l.jsxs("div",{style:{marginTop:"8px",display:"flex",gap:"8px",alignItems:"center",flexWrap:"wrap"},children:[l.jsx("span",{style:{padding:"4px 8px",background:"#3b82f6",color:"white",borderRadius:"12px",fontSize:"11px",fontWeight:"600"},children:m.bookingData.slot_type}),m.bookingData.total_sessions&&l.jsxs("span",{style:{fontSize:"12px",color:"#6b7280"},children:[m.bookingData.completed_sessions||0," / ",m.bookingData.total_sessions," sessions"]})]}),m.bookingData?.admin_approval_status==="pending"&&l.jsx("div",{style:{marginTop:"8px",padding:"6px 12px",background:"#fef3c7",color:"#92400e",borderRadius:"6px",fontSize:"12px",fontWeight:"500",display:"inline-block"},children:" Pending Admin Approval"}),m.assignedAt&&L==="pending"&&l.jsxs("p",{className:"assigned-info",style:{fontSize:"11px",color:"#666",marginTop:"4px"},children:["Assigned ",Pa(m.assignedAt)]})]}),l.jsx("div",{className:"customer-amount",children:l.jsx("span",{className:"amount-value",children:m.amount})}),l.jsx("button",{className:"customer-dropdown",onClick:Je=>{Je.stopPropagation(),cl(m.id)},"aria-expanded":ue,"aria-label":ue?"Hide details":"Show details",disabled:ce,children:l.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M4 6L8 10L12 6",stroke:"#1F1F1F",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})})}),ue&&l.jsxs("div",{className:"customer-detail-card",children:[l.jsxs("div",{className:"detail-profile-section",children:[l.jsx("div",{className:"detail-avatar-placeholder",children:l.jsx("span",{children:m.name.charAt(0)})}),l.jsxs("div",{children:[l.jsx("p",{className:"detail-customer-name",children:m.name}),l.jsxs("p",{className:"customer-service",children:[m.petName,"  ",m.service]})]})]}),l.jsxs("div",{className:"detail-info-section",children:[l.jsxs("div",{className:"detail-row",children:[l.jsx("span",{className:"detail-label",children:"Appointment"}),l.jsx("span",{className:"detail-value",children:m.appointment})]}),l.jsxs("div",{className:"detail-row",children:[l.jsx("span",{className:"detail-label",children:"Address"}),l.jsx("span",{className:"detail-value",children:m.address})]}),l.jsxs("div",{className:"detail-row",children:[l.jsx("span",{className:"detail-label",children:"Service Fee"}),l.jsx("span",{className:"detail-value",children:m.amount})]}),l.jsxs("div",{className:"detail-row",children:[l.jsx("span",{className:"detail-label",children:"Status"}),l.jsx("span",{className:"detail-value",children:m.bookingStatus||m.status})]}),l.jsxs("div",{className:"detail-row",children:[l.jsx("span",{className:"detail-label",children:"Payment Status"}),l.jsx("span",{className:"detail-value",children:Ut(m)?"Paid":m.paymentStatus||m.bookingData?.payment_status||"Pending"})]}),m.assignedAt&&l.jsxs("div",{className:"detail-row",children:[l.jsx("span",{className:"detail-label",children:"Assigned"}),l.jsxs("span",{className:"detail-value",children:[Pa(m.assignedAt),m.assignedByAdmin&&` by ${m.assignedByAdmin}`]})]})]}),m.bookingData?.slot_type&&l.jsxs("div",{style:{marginTop:"16px",padding:"16px",background:"#f9fafb",borderRadius:"8px"},children:[l.jsx(bh,{booking:{id:m.id,slot_type:m.bookingData.slot_type,total_sessions:m.bookingData.total_sessions,completed_sessions:m.bookingData.completed_sessions,sessions:m.sessions,admin_approval_status:m.bookingData.admin_approval_status,admin_rejection_reason:m.bookingData.admin_rejection_reason},providerId:ze,token:xe,onUpdate:gt}),l.jsx("button",{onClick:()=>{d(m),ie(!0)},style:{marginTop:"12px",width:"100%",padding:"8px 16px",background:"#6366f1",color:"white",border:"none",borderRadius:"6px",fontSize:"14px",cursor:"pointer"},children:"View Session History"}),l.jsx("button",{onClick:Je=>{Je.stopPropagation(),U?U(m):(he(m),Z(!0))},style:{marginTop:"8px",padding:"8px 16px",backgroundColor:"#FF6B2B",color:"#ffffff",border:"none",borderRadius:"6px",fontSize:"14px",cursor:"pointer",width:"100%"},children:"View Report"})]}),m.bookingData?.payment_method==="cash"&&["in_progress","accepted"].includes(m.bookingStatus)&&!Ut(m)&&l.jsx("button",{onClick:()=>{te(m),be(!0)},style:{marginTop:"12px",width:"100%",padding:"10px 20px",background:"#10b981",color:"white",border:"none",borderRadius:"6px",fontSize:"14px",cursor:"pointer"},children:"Received Cash Payment"}),l.jsx("div",{className:"detail-actions",children:m.status==="Current"?l.jsxs(l.Fragment,{children:[l.jsx("button",{className:"close-button",type:"button",onClick:()=>W(null),disabled:ce,children:"Close"}),ol(m)&&l.jsx("button",{className:"tracking-button",type:"button",onClick:()=>rl(m),style:{background:"#3b82f6"},children:"Tracking"}),Ut(m)?St(m)?l.jsx("button",{className:"mark-complete-button",type:"button",onClick:()=>il(m),disabled:ce,children:ce?"Sending...":"Complete Service"}):null:l.jsxs(l.Fragment,{children:[Nt(m)&&m.bookingStatus!=="awaiting_payment"&&l.jsx("button",{className:"mark-complete-button",type:"button",onClick:()=>sl(m),disabled:ce&&$===m.id,style:{background:"#10b981"},children:ce&&$===m.id&&T==="payment"?"Sending...":"Send Payment Link"}),m.bookingStatus==="awaiting_payment"&&l.jsx("button",{className:"mark-complete-button",type:"button",onClick:()=>sl(m),disabled:ce&&$===m.id,style:{background:"#10b981"},children:ce&&$===m.id&&T==="payment"?"Sending...":"Resend Payment Link"}),(Ti(m)||Ia(m))&&l.jsx("button",{className:"mark-complete-button",type:"button",onClick:()=>il(m),disabled:ce&&$===m.id,children:ce&&$===m.id&&T==="completion"?"Processing...":"Service Done"})]})]}):m.status==="Completed"?l.jsxs(l.Fragment,{children:[l.jsx("button",{className:"close-button",type:"button",onClick:()=>W(null),children:"Close"}),ol(m)&&l.jsx("button",{className:"tracking-button",type:"button",onClick:()=>rl(m),style:{background:"#3b82f6"},children:"Tracking"})]}):l.jsxs("div",{className:"detail-actions",children:[l.jsx("button",{className:"accept-button",type:"button",onClick:()=>jt(m),disabled:ce,children:ce?"Processing...":"Accept"}),l.jsx("button",{className:"reject-button",type:"button",onClick:()=>wi(m),disabled:ce,children:ce?"Processing...":"Reject"}),ol(m)&&l.jsx("button",{className:"tracking-button",type:"button",onClick:()=>rl(m),style:{background:"#3b82f6"},children:"Tracking"})]})})]})]},m.id)})})]})]}),l.jsx(as,{activeTab:w,onTabChange:xn})]}),G&&H&&l.jsx(yh,{booking:H,userData:v,onClose:Ai}),h&&l.jsx("div",{className:"toast-notification",children:I}),A&&de&&l.jsx(hg,{booking:de,providerId:ze,token:xe,onClose:()=>{ie(!1),d(null)}}),k&&ne&&l.jsx(mg,{booking:ne,providerId:ze,token:xe,onBack:()=>{Z(!1),he(null)}}),ye&&Xe&&l.jsx("div",{className:"modal-overlay",onClick:()=>be(!1),style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:l.jsxs("div",{className:"modal-content",onClick:m=>m.stopPropagation(),style:{background:"white",borderRadius:"12px",padding:"24px",maxWidth:"500px",width:"90%"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[l.jsx("h2",{style:{margin:0},children:"Record Cash Payment"}),l.jsx("button",{onClick:()=>be(!1),style:{background:"none",border:"none",fontSize:"28px",cursor:"pointer"},children:""})]}),l.jsxs("div",{style:{marginBottom:"20px"},children:[l.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500"},children:"Amount Received ()"}),l.jsx("input",{type:"number",value:Ye,onChange:m=>qe(m.target.value),placeholder:"Enter amount",style:{width:"100%",padding:"10px",border:"1px solid #ddd",borderRadius:"6px",fontSize:"16px"}})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"12px"},children:[l.jsx("button",{onClick:()=>{be(!1),qe("")},style:{padding:"10px 20px",background:"#6b7280",color:"white",border:"none",borderRadius:"6px",cursor:"pointer"},children:"Cancel"}),l.jsx("button",{onClick:async()=>{if(!Ye||parseFloat(Ye)<=0){C("Please enter a valid amount");return}try{await Sh(Xe.id,ze,parseFloat(Ye),xe),be(!1),qe(""),te(null),B("Cash payment recorded successfully"),y(!0),setTimeout(()=>y(!1),3e3),await gt()}catch(m){C(m.message||"Failed to record cash payment")}},style:{padding:"10px 20px",background:"#10b981",color:"white",border:"none",borderRadius:"6px",cursor:"pointer"},children:"Submit"})]})]})})]})}function vg({onBack:r}){return l.jsx("div",{className:"privacy-container",children:l.jsxs("div",{className:"privacy-content",children:[l.jsxs("header",{className:"privacy-header",children:[l.jsx("button",{className:"privacy-back-button",onClick:r,"aria-label":"Go back",children:l.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("line",{x1:"18",y1:"12",x2:"6",y2:"12",stroke:"black",strokeWidth:"2",strokeLinecap:"round"}),l.jsx("path",{d:"M6 12L12 6M6 12L12 18",stroke:"black",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),l.jsx("div",{className:"privacy-logo-section",children:l.jsx("img",{src:ca,alt:"Pet Nex Provider Logo",className:"privacy-logo-icon"})}),l.jsx("div",{style:{width:"24px"}})]}),l.jsx("div",{className:"privacy-title-section",children:l.jsx("h1",{className:"privacy-title",children:"Privacy & Data Policy"})}),l.jsxs("div",{className:"privacy-body",children:[l.jsxs("section",{className:"privacy-section",children:[l.jsx("h2",{className:"privacy-section-title",children:"1. Information We Collect"}),l.jsx("p",{className:"privacy-text",children:"We collect information you provide directly to us, including your name, email address, phone number, profile picture, and service preferences. We also collect information about your location when you use our services to connect you with nearby pet care providers."})]}),l.jsxs("section",{className:"privacy-section",children:[l.jsx("h2",{className:"privacy-section-title",children:"2. How We Use Your Information"}),l.jsx("p",{className:"privacy-text",children:"We use the information we collect to:"}),l.jsxs("ul",{className:"privacy-list",children:[l.jsx("li",{children:"Provide, maintain, and improve our services"}),l.jsx("li",{children:"Process and complete transactions"}),l.jsx("li",{children:"Send you technical notices and support messages"}),l.jsx("li",{children:"Communicate with you about products, services, and events"}),l.jsx("li",{children:"Monitor and analyze trends and usage"})]})]}),l.jsxs("section",{className:"privacy-section",children:[l.jsx("h2",{className:"privacy-section-title",children:"3. Information Sharing"}),l.jsx("p",{className:"privacy-text",children:"We do not share your personal information with third parties except in the following circumstances:"}),l.jsxs("ul",{className:"privacy-list",children:[l.jsx("li",{children:"With your consent"}),l.jsx("li",{children:"To comply with legal obligations"}),l.jsx("li",{children:"To protect our rights and prevent fraud"}),l.jsx("li",{children:"With service providers who assist in our operations"})]})]}),l.jsxs("section",{className:"privacy-section",children:[l.jsx("h2",{className:"privacy-section-title",children:"4. Data Security"}),l.jsx("p",{className:"privacy-text",children:"We take reasonable measures to protect your information from unauthorized access, use, or disclosure. However, no internet or email transmission is ever fully secure or error-free."})]}),l.jsxs("section",{className:"privacy-section",children:[l.jsx("h2",{className:"privacy-section-title",children:"5. Your Rights"}),l.jsx("p",{className:"privacy-text",children:"You have the right to:"}),l.jsxs("ul",{className:"privacy-list",children:[l.jsx("li",{children:"Access your personal information"}),l.jsx("li",{children:"Correct inaccurate information"}),l.jsx("li",{children:"Request deletion of your information"}),l.jsx("li",{children:"Opt-out of marketing communications"}),l.jsx("li",{children:"Withdraw consent at any time"})]})]}),l.jsxs("section",{className:"privacy-section",children:[l.jsx("h2",{className:"privacy-section-title",children:"6. Cookies and Tracking"}),l.jsx("p",{className:"privacy-text",children:"We use cookies and similar tracking technologies to track activity on our service and hold certain information. You can instruct your browser to refuse all cookies or to indicate when a cookie is being sent."})]}),l.jsxs("section",{className:"privacy-section",children:[l.jsx("h2",{className:"privacy-section-title",children:"7. Children's Privacy"}),l.jsx("p",{className:"privacy-text",children:"Our service is not intended for children under 18 years of age. We do not knowingly collect personal information from children under 18."})]}),l.jsxs("section",{className:"privacy-section",children:[l.jsx("h2",{className:"privacy-section-title",children:"8. Changes to This Policy"}),l.jsx("p",{className:"privacy-text",children:'We may update our Privacy Policy from time to time. We will notify you of any changes by posting the new Privacy Policy on this page and updating the "Last Updated" date.'})]}),l.jsxs("section",{className:"privacy-section",children:[l.jsx("h2",{className:"privacy-section-title",children:"9. Contact Us"}),l.jsx("p",{className:"privacy-text",children:"If you have any questions about this Privacy Policy, please contact us at:"}),l.jsxs("p",{className:"privacy-contact",children:["Email: support@petrising.com",l.jsx("br",{}),"Phone: +91 9817063842",l.jsx("br",{}),"Address: Panipat, Haryana, 132103"]})]}),l.jsx("div",{className:"privacy-footer",children:l.jsx("p",{className:"privacy-footer-text",children:"Last Updated: December 4, 2025"})})]})]})})}const rh=[{id:"whatsapp",label:"WhatsApp",icon:l.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("path",{d:"M20 11.5C20 15.9183 16.4183 19.5 12 19.5C10.5852 19.5 9.25545 19.1231 8.10164 18.4602L4 20L5.53981 15.8984C4.87694 14.7446 4.5 13.4148 4.5 12C4.5 7.58172 8.08172 4 12.5 4C16.9183 4 20 7.58172 20 11.5Z",stroke:"#1F1F1F",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M9.75 9.75C9.75 12.0972 11.6528 14 14 14",stroke:"#1F1F1F",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})},{id:"push",label:"Push Notifications",icon:l.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("path",{d:"M19 17.5H5L7 15.5V10.5C7 7.46243 9.46243 5 12.5 5C15.5376 5 18 7.46243 18 10.5V15.5L19 17.5Z",stroke:"#1F1F1F",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M11 19.5H14",stroke:"#1F1F1F",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})},{id:"email",label:"Emails",icon:l.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("rect",{x:"3",y:"5",width:"18",height:"14",rx:"2.5",stroke:"#1F1F1F",strokeWidth:"1.5"}),l.jsx("path",{d:"M5 7L12 12.5L19 7",stroke:"#1F1F1F",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})},{id:"sms",label:"SMS",icon:l.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M4 5H20C20.8284 5 21.5 5.67157 21.5 6.5V15.5C21.5 16.3284 20.8284 17 20 17H8L4 20V6.5C4 5.67157 4.67157 5 5.5 5Z",stroke:"#1F1F1F",strokeWidth:"1.5",strokeLinejoin:"round"})})},{id:"calls",label:"Voice Calls",icon:l.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M6.5 4L9 7C9 7 8 9 9.5 10.5C11 12 13 11 13 11L16.5 14.5C16.5 14.5 14.5 18 9 18C5 18 3 14 3 10C3 8.25306 3.50872 6.30872 4.5 5",stroke:"#1F1F1F",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})}];function yg({onBack:r}){const[f,j]=g.useState(!1),[u,v]=g.useState(()=>{const O=localStorage.getItem("notificationSettings");if(O)try{return JSON.parse(O)}catch(w){console.error("Failed to parse saved settings:",w)}const U={};return rh.forEach(w=>{U[w.id]=!1}),U});g.useEffect(()=>{localStorage.setItem("notificationSettings",JSON.stringify(u)),console.log("Settings saved:",u)},[u]);const S=O=>{v(U=>({...U,[O]:!U[O]}))};return f?l.jsx(vg,{onBack:()=>j(!1)}):l.jsx("div",{className:"settings-container",children:l.jsxs("div",{className:"settings-content",children:[l.jsxs("header",{className:"settings-header",children:[l.jsx("button",{className:"settings-back-button",onClick:r,"aria-label":"Back",children:l.jsxs("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("line",{x1:"18",y1:"12",x2:"6",y2:"12",stroke:"#000000",strokeWidth:"1.8",strokeLinecap:"round"}),l.jsx("path",{d:"M10 8L6 12L10 16",stroke:"#000000",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round"})]})}),l.jsx("h1",{className:"settings-title",children:"Settings"})]}),l.jsxs("div",{className:"settings-body",children:[l.jsx("h2",{className:"settings-heading",children:"Notifications & Reminders"}),l.jsx("div",{className:"settings-list",children:rh.map(O=>l.jsxs("div",{className:"settings-row",children:[l.jsxs("div",{className:"settings-row-left",children:[l.jsx("span",{className:"settings-icon","aria-hidden":"true",children:O.icon}),l.jsx("span",{className:"settings-row-label",children:O.label})]}),l.jsxs("label",{className:"settings-toggle",children:[l.jsx("input",{type:"checkbox",checked:u[O.id],onChange:()=>S(O.id)}),l.jsx("span",{className:"settings-toggle-slider"})]})]},O.id))}),l.jsx("div",{className:"settings-divider"}),l.jsxs("button",{className:"settings-link-row",type:"button",onClick:()=>j(!0),children:[l.jsxs("div",{className:"settings-row-left",children:[l.jsx("span",{className:"settings-icon","aria-hidden":"true",children:l.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("path",{d:"M12 3L2 9L12 15L22 9L12 3Z",stroke:"#1F1F1F",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M2 15L12 21L22 15",stroke:"#1F1F1F",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M2 9L12 15L22 9",stroke:"#1F1F1F",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})}),l.jsx("span",{className:"settings-row-label",children:"Privacy & Data"})]}),l.jsx("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M5 3L9 7L5 11",stroke:"#999999",strokeWidth:"1.4",strokeLinecap:"round",strokeLinejoin:"round"})})]})]})]})})}function xg({onBack:r,activeNavTab:f,onNavChange:j,userData:u}){const[v,S]=g.useState(f||"Account"),[O,U]=g.useState([]),[w,N]=g.useState(null),[L,D]=g.useState([]),[Y,W]=g.useState(""),[Q,J]=g.useState(!1),ae=g.useRef(null),K=u?.token,le=u?.provider?.id||u?.provider_id;g.useEffect(()=>{K&&le&&$()},[K,le]),g.useEffect(()=>{w&&(T(w.id),F(w.id))},[w]),g.useEffect(()=>{if(w&&L.length>0){const G=`enquiries_messages_${w.id}`;localStorage.setItem(G,JSON.stringify(L))}},[L,w]),g.useEffect(()=>{C()},[L]);const C=()=>{ae.current?.scrollIntoView({behavior:"smooth"})},$=async()=>{J(!0);try{const G=localStorage.getItem("enquiries_conversations");if(G)U(JSON.parse(G));else{const P=[{id:1,customerName:"Anshika Jain",customerPhone:"+919817063842",lastMessage:"When will you arrive?",timestamp:new Date().toISOString(),unread:0}];U(P),localStorage.setItem("enquiries_conversations",JSON.stringify(P))}}catch(G){console.error("Failed to load conversations:",G)}finally{J(!1)}},F=G=>{const P=O.map(H=>H.id===G?{...H,unread:0}:H);U(P),localStorage.setItem("enquiries_conversations",JSON.stringify(P))},T=async G=>{try{const P=`enquiries_messages_${G}`,H=localStorage.getItem(P);if(H)D(JSON.parse(H));else{const re=[{id:1,senderId:"customer",text:"Hello, I have a question about my booking",timestamp:new Date(Date.now()-36e5).toISOString()},{id:2,senderId:"provider",text:"Hi! How can I help you?",timestamp:new Date(Date.now()-3e6).toISOString()},{id:3,senderId:"customer",text:"When will you arrive?",timestamp:new Date(Date.now()-18e5).toISOString()}];D(re)}}catch(P){console.error("Failed to load messages:",P)}},ee=async()=>{if(!Y.trim()||!w)return;const G={id:Date.now(),senderId:"provider",text:Y,timestamp:new Date().toISOString()},P=[...L,G];D(P),W("");const H=`enquiries_messages_${w.id}`;localStorage.setItem(H,JSON.stringify(P));const re=O.map(I=>I.id===w.id?{...I,lastMessage:Y,timestamp:new Date().toISOString(),unread:0}:I);U(re),localStorage.setItem("enquiries_conversations",JSON.stringify(re))},se=G=>{S(G),j?.(G),(G==="Home"||G!=="Account")&&r?.()},oe=G=>new Date(G).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"});return w?l.jsx("div",{className:"enquiries-container",children:l.jsxs("div",{className:"enquiries-content",children:[l.jsxs("header",{className:"enquiries-header",children:[l.jsx("button",{className:"enquiries-back-button",onClick:()=>N(null),"aria-label":"Go back",children:l.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("line",{x1:"18",y1:"12",x2:"6",y2:"12",stroke:"black",strokeWidth:"2",strokeLinecap:"round"}),l.jsx("path",{d:"M6 12L12 6M6 12L12 18",stroke:"black",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),l.jsxs("div",{className:"enquiries-header-info",children:[l.jsx("div",{className:"enquiries-avatar",children:l.jsx("span",{children:w.customerName.charAt(0)})}),l.jsxs("div",{children:[l.jsx("h2",{className:"enquiries-customer-name",children:w.customerName}),l.jsx("p",{className:"enquiries-customer-phone",children:w.customerPhone})]})]}),l.jsx("div",{style:{width:"24px"}})]}),l.jsxs("div",{className:"enquiries-messages",children:[L.map(G=>l.jsx("div",{className:`message ${G.senderId==="provider"?"message-sent":"message-received"}`,children:l.jsxs("div",{className:"message-bubble",children:[l.jsx("p",{className:"message-text",children:G.text}),l.jsx("span",{className:"message-time",children:oe(G.timestamp)})]})},G.id)),l.jsx("div",{ref:ae})]}),l.jsxs("div",{className:"enquiries-input-container",children:[l.jsx("input",{type:"text",className:"enquiries-input",placeholder:"Type a message...",value:Y,onChange:G=>W(G.target.value),onKeyPress:G=>G.key==="Enter"&&ee()}),l.jsx("button",{className:"enquiries-send-button",onClick:ee,disabled:!Y.trim(),children:l.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M18 2L9 11M18 2L12 18L9 11M18 2L2 8L9 11",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]})]})}):l.jsx("div",{className:"enquiries-container",children:l.jsxs("div",{className:"enquiries-content",children:[l.jsxs("header",{className:"enquiries-header",children:[l.jsx("button",{className:"enquiries-back-button",onClick:r,"aria-label":"Go back",children:l.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("line",{x1:"18",y1:"12",x2:"6",y2:"12",stroke:"black",strokeWidth:"2",strokeLinecap:"round"}),l.jsx("path",{d:"M6 12L12 6M6 12L12 18",stroke:"black",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),l.jsx("div",{className:"enquiries-logo-section",children:l.jsx("img",{src:ca,alt:"Pet Nex Provider Logo",className:"enquiries-logo-icon"})}),l.jsx("div",{style:{width:"24px"}})]}),l.jsx("div",{className:"enquiries-title-section",children:l.jsx("h1",{className:"enquiries-title",children:"Enquiries"})}),l.jsx("div",{className:"enquiries-body",children:Q?l.jsx("div",{className:"enquiries-loading",children:"Loading conversations..."}):O.length===0?l.jsxs("div",{className:"enquiries-empty",children:[l.jsxs("svg",{width:"64",height:"64",viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("path",{d:"M16 16H48C51.3137 16 54 18.6863 54 22V42C54 45.3137 51.3137 48 48 48H16C12.6863 48 10 45.3137 10 42V22C10 18.6863 12.6863 16 16 16Z",stroke:"#CCCCCC",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M20 24H44M20 32H36",stroke:"#CCCCCC",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"})]}),l.jsx("p",{children:"No enquiries yet"})]}):l.jsx("div",{className:"enquiries-list",children:O.map(G=>l.jsxs("div",{className:"enquiries-conversation-card",onClick:()=>N(G),children:[l.jsx("div",{className:"conversation-avatar",children:l.jsx("span",{children:G.customerName.charAt(0)})}),l.jsxs("div",{className:"conversation-info",children:[l.jsxs("div",{className:"conversation-header",children:[l.jsx("h3",{className:"conversation-name",children:G.customerName}),l.jsx("span",{className:"conversation-time",children:oe(G.timestamp)})]}),l.jsx("p",{className:"conversation-last-message",children:G.lastMessage})]}),G.unread>0&&l.jsx("div",{className:"conversation-unread-badge",children:G.unread})]},G.id))})}),l.jsx(as,{activeTab:v,onTabChange:se})]})})}function jg({onBack:r,userData:f}){const[j,u]=g.useState(f?.name||"Anshika Jain"),[v,S]=g.useState(f?.phoneNumber?.replace(/^\+91/,"")||"919817063842"),[O,U]=g.useState(f?.email||""),[w,N]=g.useState(f?.address||""),[L,D]=g.useState(f?.profileImage||null),[Y,W]=g.useState(!1),[Q,J]=g.useState(!1),[ae,K]=g.useState(""),le=F=>{const T=F.target.files?.[0];if(T&&T.type.startsWith("image/")){const ee=new FileReader;ee.onloadend=()=>{D(ee.result)},ee.readAsDataURL(T)}},C=async()=>{W(!0);try{const F={...f,name:j,phoneNumber:v,email:O,address:w,profileImage:L};localStorage.setItem("userData",JSON.stringify(F)),sessionStorage.getItem("userData")&&sessionStorage.setItem("userData",JSON.stringify(F)),console.log("Saving profile:",{...F,profileImage:L?"Image saved":"No image"}),await new Promise(ee=>setTimeout(ee,1e3)),K("Profile updated successfully"),J(!0),setTimeout(()=>{J(!1),r?.()},2e3)}catch(F){console.error("Failed to update profile:",F),K("Failed to update profile"),J(!0),setTimeout(()=>J(!1),3e3)}finally{W(!1)}},$=j?j.charAt(0).toUpperCase():"P";return l.jsx("div",{className:"edit-profile-container",children:l.jsxs("div",{className:"edit-profile-content",children:[l.jsxs("header",{className:"edit-profile-header",children:[l.jsx("button",{className:"edit-profile-back-button",onClick:r,"aria-label":"Go back",children:l.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("line",{x1:"18",y1:"12",x2:"6",y2:"12",stroke:"black",strokeWidth:"2",strokeLinecap:"round"}),l.jsx("path",{d:"M6 12L12 6M6 12L12 18",stroke:"black",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),l.jsx("div",{className:"edit-profile-logo-section",children:l.jsx("img",{src:ca,alt:"Pet Nex Provider Logo",className:"edit-profile-logo-icon"})}),l.jsx("div",{style:{width:"24px"}})]}),l.jsx("div",{className:"edit-profile-title-section",children:l.jsx("h1",{className:"edit-profile-title",children:"Edit Profile"})}),l.jsxs("div",{className:"edit-profile-body",children:[l.jsxs("div",{className:"edit-profile-image-section",children:[l.jsx("div",{className:"edit-profile-avatar",children:L?l.jsx("img",{src:L,alt:"Profile",className:"profile-image-preview"}):l.jsx("span",{className:"profile-avatar-text",children:$})}),l.jsxs("label",{htmlFor:"profile-image-input",className:"edit-profile-image-button",children:["Change Photo",l.jsx("input",{id:"profile-image-input",type:"file",accept:"image/*",onChange:le,style:{display:"none"}})]})]}),l.jsxs("div",{className:"edit-profile-form",children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Full Name"}),l.jsx("input",{type:"text",className:"form-input",value:j,onChange:F=>u(F.target.value),placeholder:"Enter your name"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Phone Number"}),l.jsx("input",{type:"tel",className:"form-input",value:v,onChange:F=>S(F.target.value.replace(/\D/g,"")),placeholder:"Enter phone number",maxLength:12})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Email Address"}),l.jsx("input",{type:"email",className:"form-input",value:O,onChange:F=>U(F.target.value),placeholder:"Enter email address"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"form-label",children:"Address"}),l.jsx("textarea",{className:"form-textarea",value:w,onChange:F=>N(F.target.value),placeholder:"Enter your address",rows:3})]})]}),l.jsx("button",{className:"edit-profile-save-button",onClick:C,disabled:Y,children:Y?"Saving...":"Save Changes"})]}),Q&&l.jsx("div",{className:"edit-profile-toast",children:ae})]})})}function Ng({onBack:r,activeNavTab:f,onNavChange:j,onLogout:u,userData:v}){const[S,O]=g.useState(f||"Account"),[U,w]=g.useState(!1),[N,L]=g.useState(!1),[D,Y]=g.useState(!1),[W,Q]=g.useState(v);g.useEffect(()=>{const $=localStorage.getItem("userData");if($)try{const F=JSON.parse($);Q(F)}catch(F){console.error("Failed to parse saved user data:",F)}},[D]);const J=$=>{O($),j?.($),$==="Home"&&r?.()};if(D)return l.jsx(jg,{onBack:()=>Y(!1),userData:W});if(U)return l.jsx(yg,{onBack:()=>w(!1)});if(N)return l.jsx(xg,{onBack:()=>L(!1),activeNavTab:S,onNavChange:J,userData:W});const ae=W?.phoneNumber?W.phoneNumber.replace(/^\+91/,""):"919817063842",K=W?.name||"Anshika Jain",le=K.charAt(0).toUpperCase(),C=[{id:"Dashboard",label:"Dashboard",icon:l.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("path",{d:"M4 3.33333H9.16667V9.16667H4V3.33333Z",stroke:"#000000",strokeWidth:"1.4",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M10.8333 3.33333H16V6.66667H10.8333V3.33333Z",stroke:"#000000",strokeWidth:"1.4",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M10.8333 8.33333H16V16.6667H10.8333V8.33333Z",stroke:"#000000",strokeWidth:"1.4",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M4 10.8333H9.16667V16.6667H4V10.8333Z",stroke:"#000000",strokeWidth:"1.4",strokeLinecap:"round",strokeLinejoin:"round"})]}),action:()=>J("Home")},{id:"Withdrawal",label:"Withdrawal",icon:l.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("path",{d:"M3.33333 5.83333H15.8333C16.7538 5.83333 17.5 6.57953 17.5 7.5V15C17.5 15.9205 16.7538 16.6667 15.8333 16.6667H4.16667C3.24619 16.6667 2.5 15.9205 2.5 15V6.66667C2.5 6.20643 2.8731 5.83333 3.33333 5.83333Z",stroke:"#000000",strokeWidth:"1.4",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M6.66666 3.33333H13.3333",stroke:"#000000",strokeWidth:"1.4",strokeLinecap:"round",strokeLinejoin:"round"})]}),action:()=>J("Withdrawal")},{id:"Settings",label:"Settings",icon:l.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("path",{d:"M10 12.5C11.3807 12.5 12.5 11.3807 12.5 10C12.5 8.61929 11.3807 7.5 10 7.5C8.61929 7.5 7.5 8.61929 7.5 10C7.5 11.3807 8.61929 12.5 10 12.5Z",stroke:"#000000",strokeWidth:"1.4",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M16.6667 10C16.6667 10.5333 16.6 11.05 16.4833 11.55L18.3333 12.95L16.7167 15.55L14.6 14.9C13.9 15.4333 13.1333 15.85 12.3 16.1167L12 18.3333H8L7.7 16.1167C6.86667 15.85 6.1 15.4333 5.4 14.9L3.28333 15.55L1.66667 12.95L3.51667 11.55C3.4 11.05 3.33333 10.5333 3.33333 10C3.33333 9.46667 3.4 8.95 3.51667 8.45L1.66667 7.05L3.28333 4.45L5.4 5.1C6.1 4.56667 6.86667 4.15 7.7 3.88333L8 1.66667H12L12.3 3.88333C13.1333 4.15 13.9 4.56667 14.6 5.1L16.7167 4.45L18.3333 7.05L16.4833 8.45C16.6 8.95 16.6667 9.46667 16.6667 10Z",stroke:"#000000",strokeWidth:"1.4",strokeLinecap:"round",strokeLinejoin:"round"})]}),action:()=>w(!0)},{id:"Orders",label:"Orders",icon:l.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("path",{d:"M5 4H15C15.5523 4 16 4.44772 16 5V15C16 15.5523 15.5523 16 15 16H5C4.44772 16 4 15.5523 4 15V5C4 4.44772 4.44772 4 5 4Z",stroke:"#000000",strokeWidth:"1.4",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M7 2H13",stroke:"#000000",strokeWidth:"1.4",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M7 8H13",stroke:"#000000",strokeWidth:"1.4",strokeLinecap:"round",strokeLinejoin:"round"})]}),action:()=>j?.("Orders")}];return l.jsx("div",{className:"account-container",children:l.jsxs("div",{className:"account-content",children:[l.jsxs("header",{className:"account-header",children:[l.jsx("div",{className:"account-brand",children:l.jsx("img",{src:ca,alt:"Pet Nex Provider Logo",className:"account-logo-icon"})}),l.jsx("button",{className:"account-edit-button",onClick:()=>Y(!0),"aria-label":"Edit Profile",children:l.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M3 17.25V21H6.75L17.81 9.94L14.06 6.19L3 17.25Z",stroke:"#000000",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),l.jsxs("section",{className:"account-profile-section",children:[l.jsxs("div",{className:"account-profile-left",children:[l.jsx("div",{className:"account-profile-picture",children:W?.profileImage?l.jsx("img",{src:W.profileImage,alt:"Profile",className:"account-profile-image"}):l.jsx("span",{className:"profile-placeholder-text",children:le})}),l.jsxs("div",{className:"account-user-info",children:[l.jsx("p",{className:"account-user-name",children:K}),l.jsx("p",{className:"account-phone",children:ae})]})]}),l.jsxs("div",{className:"account-enquiries-card",onClick:()=>L(!0),children:[l.jsx("div",{className:"enquiries-icon",children:l.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("path",{d:"M5 3.33333H15C16.3807 3.33333 17.5 4.45267 17.5 5.83333V14.1667C17.5 15.5473 16.3807 16.6667 15 16.6667H5C3.61929 16.6667 2.5 15.5473 2.5 14.1667V5.83333C2.5 4.45267 3.61929 3.33333 5 3.33333Z",stroke:"#FF6B2B",strokeWidth:"1.4",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M6.66666 6.66667H13.3333",stroke:"#FF6B2B",strokeWidth:"1.4",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M6.66666 10H10",stroke:"#FF6B2B",strokeWidth:"1.4",strokeLinecap:"round",strokeLinejoin:"round"})]})}),l.jsx("p",{className:"enquiries-text",children:"Enquiries"})]})]}),l.jsx("section",{className:"account-menu-section",children:C.map($=>l.jsxs("div",{className:"account-menu-item",onClick:$.action,children:[l.jsxs("div",{className:"menu-item-left",children:[$.icon,l.jsx("span",{className:"menu-item-text",children:$.label})]}),l.jsx("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M5 3L9 7L5 11",stroke:"#999999",strokeWidth:"1.4",strokeLinecap:"round",strokeLinejoin:"round"})})]},$.id))}),l.jsx("button",{className:"account-logout-button",type:"button",onClick:u,children:"Logout"}),l.jsx(as,{activeTab:S,onTabChange:J})]})})}const _i="https://backendpetify.mycartly.in/api";async function Sg(r){if(!r)throw new Error("Authentication token is required");const f=await fetch(`${_i}/provider/wallet/dashboard`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),j=await f.json().catch(()=>({}));if(!f.ok){const u=j?.error?.message||j?.message||"Failed to fetch wallet dashboard";throw new Error(u)}return j}async function bg(r,f={}){if(!r)throw new Error("Authentication token is required");const j=new URLSearchParams;f.start_date&&j.append("start_date",f.start_date),f.end_date&&j.append("end_date",f.end_date),f.payment_status&&j.append("payment_status",f.payment_status);const u=`${_i}/provider/wallet/earnings${j.toString()?"?"+j.toString():""}`,v=await fetch(u,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),S=await v.json().catch(()=>({}));if(!v.ok){const O=S?.error?.message||S?.message||"Failed to fetch earnings";throw new Error(O)}return S}async function _g(r,f,j=""){if(!r)throw new Error("Authentication token is required");if(!f||!Array.isArray(f)||f.length===0)throw new Error("At least one booking ID is required");const u=await fetch(`${_i}/provider/wallet/payment-request`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify({booking_ids:f,notes:j||void 0})}),v=await u.json().catch(()=>({}));if(!u.ok){const S=v?.error?.message||v?.message||"Failed to create payment request";throw new Error(S)}return v}async function wg(r,f="all"){if(!r)throw new Error("Authentication token is required");const j=new URLSearchParams;f&&f!=="all"&&j.append("status",f);const u=`${_i}/provider/wallet/payment-requests${j.toString()?"?"+j.toString():""}`,v=await fetch(u,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),S=await v.json().catch(()=>({}));if(!v.ok){const O=S?.error?.message||S?.message||"Failed to fetch payment requests";throw new Error(O)}return S}function Cg({onBack:r,activeNavTab:f,onNavChange:j,userData:u}){const[v,S]=g.useState(f||"Withdrawal"),[O,U]=g.useState("dashboard"),[w,N]=g.useState(!0),[L,D]=g.useState(""),[Y,W]=g.useState(null),[Q,J]=g.useState(null),[ae,K]=g.useState([]),[le,C]=g.useState(!1),[$,F]=g.useState([]),[T,ee]=g.useState(""),[se,oe]=g.useState(!1),G=u?.token;g.useEffect(()=>{G&&P()},[G,O]);const P=async()=>{if(G){N(!0),D("");try{if(O==="dashboard"){const d=await Sg(G);W(d)}else if(O==="earnings"){const d=await bg(G);J(d)}else if(O==="requests"){const d=await wg(G);K(d.requests||[])}}catch(d){D(d.message||"Failed to load wallet data"),console.error("Wallet data error:",d)}finally{N(!1)}}},H=()=>{if(!Y?.recent_earnings)return;const d=Y.recent_earnings.filter(k=>k.payment_status==="unpaid");if(d.length===0){D("No unpaid bookings available for payment request");return}F(d.map(k=>k.booking_id)),C(!0)},re=async()=>{if($.length===0){D("Please select at least one booking");return}oe(!0),D("");try{await _g(G,$,T),C(!1),F([]),ee(""),await P()}catch(d){D(d.message||"Failed to create payment request")}finally{oe(!1)}},I=d=>d?`${parseFloat(d).toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})}`:"0.00",B=d=>d?new Date(d).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric"}):"-",h=d=>{S(d),j&&j(d),d==="Home"&&r()},y=d=>{switch(d?.toLowerCase()){case"paid":return"status-badge paid";case"unpaid":return"status-badge unpaid";case"pending":return"status-badge pending";case"approved":return"status-badge approved";case"rejected":return"status-badge rejected";default:return"status-badge"}},A=()=>{if(!Y)return null;const d=Y.summary||{},k=Y.recent_earnings||[],Z=Y.pending_requests||[];return l.jsxs("div",{className:"wallet-dashboard",children:[l.jsxs("div",{className:"wallet-summary-cards",children:[l.jsxs("div",{className:"summary-card total-earnings",children:[l.jsx("div",{className:"card-icon",children:""}),l.jsxs("div",{className:"card-content",children:[l.jsx("p",{className:"card-label",children:"Total Earnings"}),l.jsx("p",{className:"card-value",children:I(d.total_earnings)})]})]}),l.jsxs("div",{className:"summary-card paid-amount",children:[l.jsx("div",{className:"card-icon",children:""}),l.jsxs("div",{className:"card-content",children:[l.jsx("p",{className:"card-label",children:"Paid Amount"}),l.jsx("p",{className:"card-value",children:I(d.paid_amount)})]})]}),l.jsxs("div",{className:"summary-card pending-amount",children:[l.jsx("div",{className:"card-icon",children:""}),l.jsxs("div",{className:"card-content",children:[l.jsx("p",{className:"card-label",children:"Pending Amount"}),l.jsx("p",{className:"card-value",children:I(d.pending_amount)})]})]})]}),d.pending_amount>0&&l.jsx("button",{className:"request-payment-button",onClick:H,disabled:k.filter(ne=>ne.payment_status==="unpaid").length===0,children:"Request Payment"}),Z.length>0&&l.jsxs("div",{className:"pending-requests-section",children:[l.jsx("h3",{className:"section-title",children:"Pending Payment Requests"}),Z.map(ne=>l.jsxs("div",{className:"request-card",children:[l.jsxs("div",{className:"request-header",children:[l.jsx("span",{className:"request-amount",children:I(ne.total_amount)}),l.jsx("span",{className:y(ne.status),children:ne.status})]}),l.jsxs("p",{className:"request-date",children:["Requested: ",B(ne.requested_at)]})]},ne.request_id))]}),l.jsxs("div",{className:"recent-earnings-section",children:[l.jsx("h3",{className:"section-title",children:"Recent Earnings"}),k.length===0?l.jsx("p",{className:"no-data",children:"No earnings yet"}):l.jsx("div",{className:"earnings-list",children:k.map(ne=>l.jsxs("div",{className:"earning-item",children:[l.jsxs("div",{className:"earning-header",children:[l.jsxs("div",{children:[l.jsx("p",{className:"earning-service",children:ne.service_title}),l.jsx("p",{className:"earning-date",children:B(ne.completed_at)})]}),l.jsx("span",{className:y(ne.payment_status),children:ne.payment_status})]}),l.jsxs("div",{className:"earning-details",children:[l.jsxs("div",{className:"earning-row",children:[l.jsx("span",{children:"Service Price:"}),l.jsx("span",{children:I(ne.service_price)})]}),l.jsxs("div",{className:"earning-row",children:[l.jsxs("span",{children:["Commission (",ne.commission_percentage||0,"%):"]}),l.jsxs("span",{children:["-",I(ne.commission_amount)]})]}),l.jsxs("div",{className:"earning-row total",children:[l.jsx("span",{children:"Payout Amount:"}),l.jsx("span",{children:I(ne.payout_amount)})]})]})]},ne.booking_id))})]})]})},ie=()=>{if(!Q)return null;const d=Q.earnings||[],k=Q.summary||{};return l.jsxs("div",{className:"earnings-history",children:[l.jsxs("div",{className:"earnings-summary",children:[l.jsxs("div",{className:"summary-item",children:[l.jsx("span",{className:"summary-label",children:"Total Earnings:"}),l.jsx("span",{className:"summary-value",children:I(k.total_earnings)})]}),l.jsxs("div",{className:"summary-item",children:[l.jsx("span",{className:"summary-label",children:"Paid:"}),l.jsx("span",{className:"summary-value",children:I(k.paid_amount)})]}),l.jsxs("div",{className:"summary-item",children:[l.jsx("span",{className:"summary-label",children:"Pending:"}),l.jsx("span",{className:"summary-value",children:I(k.pending_amount)})]})]}),d.length===0?l.jsx("p",{className:"no-data",children:"No earnings history"}):l.jsx("div",{className:"earnings-list",children:d.map(Z=>l.jsxs("div",{className:"earning-item",children:[l.jsxs("div",{className:"earning-header",children:[l.jsxs("div",{children:[l.jsx("p",{className:"earning-service",children:Z.service_title}),l.jsx("p",{className:"earning-date",children:B(Z.completed_at)})]}),l.jsx("span",{className:y(Z.payment_status),children:Z.payment_status})]}),l.jsxs("div",{className:"earning-details",children:[l.jsxs("div",{className:"earning-row",children:[l.jsx("span",{children:"Service Price:"}),l.jsx("span",{children:I(Z.service_price)})]}),l.jsxs("div",{className:"earning-row",children:[l.jsx("span",{children:"Commission:"}),l.jsxs("span",{children:["-",I(Z.commission_amount)]})]}),l.jsxs("div",{className:"earning-row total",children:[l.jsx("span",{children:"Payout:"}),l.jsx("span",{children:I(Z.payout_amount)})]}),Z.paid_at&&l.jsxs("div",{className:"earning-row",children:[l.jsx("span",{children:"Paid At:"}),l.jsx("span",{children:B(Z.paid_at)})]})]})]},Z.booking_id))})]})},de=()=>l.jsx("div",{className:"payment-requests",children:ae.length===0?l.jsx("p",{className:"no-data",children:"No payment requests"}):l.jsx("div",{className:"requests-list",children:ae.map(d=>l.jsxs("div",{className:"request-card",children:[l.jsxs("div",{className:"request-header",children:[l.jsx("span",{className:"request-amount",children:I(d.total_amount)}),l.jsx("span",{className:y(d.status),children:d.status})]}),l.jsxs("p",{className:"request-date",children:["Requested: ",B(d.requested_at)]}),d.approved_at&&l.jsxs("p",{className:"request-date",children:["Approved: ",B(d.approved_at)]}),d.paid_at&&l.jsxs("p",{className:"request-date",children:["Paid: ",B(d.paid_at)]}),d.rejection_reason&&l.jsxs("p",{className:"rejection-reason",children:["Reason: ",d.rejection_reason]}),d.notes&&l.jsxs("p",{className:"request-notes",children:["Notes: ",d.notes]})]},d.request_id))})});return l.jsx("div",{className:"withdrawal-container",children:l.jsxs("div",{className:"withdrawal-content",children:[l.jsxs("div",{className:"withdrawal-header",children:[l.jsx("button",{className:"withdrawal-back-button",onClick:r,children:l.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("line",{x1:"18",y1:"12",x2:"6",y2:"12",stroke:"black",strokeWidth:"2",strokeLinecap:"round"}),l.jsx("path",{d:"M6 12L12 6M6 12L12 18",stroke:"black",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),l.jsx("h1",{className:"withdrawal-title",children:"Wallet"})]}),l.jsxs("div",{className:"wallet-tabs",children:[l.jsx("button",{className:`wallet-tab ${O==="dashboard"?"active":""}`,onClick:()=>U("dashboard"),children:"Dashboard"}),l.jsx("button",{className:`wallet-tab ${O==="earnings"?"active":""}`,onClick:()=>U("earnings"),children:"Earnings"}),l.jsx("button",{className:`wallet-tab ${O==="requests"?"active":""}`,onClick:()=>U("requests"),children:"Requests"})]}),l.jsxs("div",{className:"withdrawal-body",children:[L&&l.jsx("div",{className:"error-message",children:L}),w?l.jsx("div",{className:"loading-message",children:"Loading..."}):l.jsxs(l.Fragment,{children:[O==="dashboard"&&A(),O==="earnings"&&ie(),O==="requests"&&de()]})]}),le&&l.jsx("div",{className:"modal-overlay",onClick:()=>C(!1),children:l.jsxs("div",{className:"modal-content",onClick:d=>d.stopPropagation(),children:[l.jsxs("div",{className:"modal-header",children:[l.jsx("h2",{children:"Request Payment"}),l.jsx("button",{className:"modal-close",onClick:()=>C(!1),children:""})]}),l.jsxs("div",{className:"modal-body",children:[l.jsxs("p",{children:["Requesting payment for ",$.length," booking(s)"]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Notes (optional)"}),l.jsx("textarea",{value:T,onChange:d=>ee(d.target.value),placeholder:"Add any notes for the admin...",rows:3})]})]}),l.jsxs("div",{className:"modal-footer",children:[l.jsx("button",{className:"button-secondary",onClick:()=>C(!1),children:"Cancel"}),l.jsx("button",{className:"button-primary",onClick:re,disabled:se,children:se?"Submitting...":"Submit Request"})]})]})}),l.jsx(as,{activeTab:v,onTabChange:h})]})})}function Tg({booking:r,userData:f,onBack:j,onComplete:u}){const[v,S]=g.useState(["","","","","",""]),[O,U]=g.useState(0),[w,N]=g.useState(!1),[L,D]=g.useState(""),[Y,W]=g.useState(""),Q=g.useRef([]);g.useEffect(()=>{Q.current[0]&&Q.current[0].focus()},[]);const J=($,F)=>{if(F.length>1&&(F=F.slice(0,1)),!/^\d*$/.test(F))return;const T=[...v];T[$]=F,S(T),F&&$<5&&(U($+1),Q.current[$+1]?.focus())},ae=($,F)=>{F.key==="Backspace"&&!v[$]&&$>0&&(U($-1),Q.current[$-1]?.focus())},K=$=>{$.preventDefault();const F=$.clipboardData.getData("text").slice(0,6).split(""),T=[...v];F.forEach((se,oe)=>{oe<6&&/^\d$/.test(se)&&(T[oe]=se)}),S(T);const ee=Math.min(F.length,5);U(ee),Q.current[ee]?.focus()},le=v.every($=>$!==""),C=async()=>{if(!(!le||w||!f?.token)){N(!0),D(""),W("");try{const $=v.join(""),F=r.id||r.booking_id,T=f?.provider?.id||f?.id;await rg(F,T,$,f.token),W("Booking completed successfully!"),setTimeout(()=>{u?.()},1e3)}catch($){D($.message||"Invalid OTP. Please try again.")}finally{N(!1)}}};return l.jsx("div",{className:"otp-container",children:l.jsxs("div",{className:"otp-content",children:[l.jsxs("div",{className:"otp-header-section",children:[l.jsx("button",{className:"otp-back-button",onClick:j,children:l.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("line",{x1:"18",y1:"12",x2:"6",y2:"12",stroke:"black",strokeWidth:"2",strokeLinecap:"round"}),l.jsx("path",{d:"M6 12L12 6M6 12L12 18",stroke:"black",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),l.jsx("h1",{className:"otp-title",children:"ENTER COMPLETION OTP"})]}),l.jsxs("div",{className:"otp-body",children:[l.jsx("p",{className:"otp-instruction",children:"Enter the 6-digit OTP sent to the customer to complete this service"}),l.jsx("div",{className:"otp-inputs-container",children:v.map(($,F)=>l.jsx("input",{ref:T=>Q.current[F]=T,type:"text",className:`otp-input ${O===F?"active":""}`,value:$,onChange:T=>J(F,T.target.value),onKeyDown:T=>ae(F,T),onPaste:K,onFocus:()=>U(F),maxLength:1},F))}),L&&l.jsx("p",{className:"otp-error-message",children:L}),Y&&l.jsx("p",{className:"otp-status-message",children:Y}),l.jsx("button",{className:`otp-verify-button ${!le||w?"disabled":""}`,onClick:C,disabled:!le||w,children:w?"Completing...":"Complete Service"})]})]})})}function ji({count:r,onViewBooking:f,onDismiss:j}){return!r||r<=0?null:l.jsx("div",{className:"booking-notification",children:l.jsxs("div",{className:"booking-notification-content",children:[l.jsx("div",{className:"booking-notification-icon",children:l.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"2"}),l.jsx("path",{d:"M12 16V12M12 8H12.01",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})]})}),l.jsxs("div",{className:"booking-notification-text",children:[l.jsx("strong",{children:"New Booking!"}),l.jsxs("span",{children:[r," new booking",r>1?"s":""," received"]})]}),l.jsxs("div",{className:"booking-notification-actions",children:[l.jsx("button",{className:"booking-notification-view-btn",onClick:f,children:"View Booking"}),l.jsx("button",{className:"booking-notification-dismiss-btn",onClick:j,"aria-label":"Dismiss notification",children:l.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M15 5L5 15M5 5L15 15",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})})})]})]})})}const Ag=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Eg=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(f,j,u)=>u?u.toUpperCase():j.toLowerCase()),oh=r=>{const f=Eg(r);return f.charAt(0).toUpperCase()+f.slice(1)},_h=(...r)=>r.filter((f,j,u)=>!!f&&f.trim()!==""&&u.indexOf(f)===j).join(" ").trim(),Mg=r=>{for(const f in r)if(f.startsWith("aria-")||f==="role"||f==="title")return!0};var kg={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const zg=g.forwardRef(({color:r="currentColor",size:f=24,strokeWidth:j=2,absoluteStrokeWidth:u,className:v="",children:S,iconNode:O,...U},w)=>g.createElement("svg",{ref:w,...kg,width:f,height:f,stroke:r,strokeWidth:u?Number(j)*24/Number(f):j,className:_h("lucide",v),...!S&&!Mg(U)&&{"aria-hidden":"true"},...U},[...O.map(([N,L])=>g.createElement(N,L)),...Array.isArray(S)?S:[S]]));const Wt=(r,f)=>{const j=g.forwardRef(({className:u,...v},S)=>g.createElement(zg,{ref:S,iconNode:f,className:_h(`lucide-${Ag(oh(r))}`,`lucide-${r}`,u),...v}));return j.displayName=oh(r),j};const Dg=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],uh=Wt("calendar",Dg);const Lg=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Bg=Wt("circle-alert",Lg);const Og=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Zr=Wt("circle-check",Og);const Rg=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Qr=Wt("clock",Rg);const Hg=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Xr=Wt("dollar-sign",Hg);const Ug=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Jr=Wt("file-text",Ug);const qg=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Gg=Wt("mail",qg);const Yg=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],dh=Wt("map-pin",Yg);const Vg=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Kg=Wt("phone",Vg);const Zg=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],fh=Wt("play",Zg);const Qg=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],Xg=Wt("square",Qg);const Jg=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],$g=Wt("user",Jg);function Fg({booking:r,userData:f,onBack:j,onUpdate:u}){const[v,S]=g.useState(!1),[O,U]=g.useState(!1),[w,N]=g.useState(""),[L,D]=g.useState(!1),[Y,W]=g.useState(null),[Q,J]=g.useState(""),ae=f?.token,K=f?.provider?.id||f?.provider_id,le=A=>{if(!A)return"N/A";try{const[ie,de]=A.split(":"),d=parseInt(ie,10),k=d===0?12:d>12?d-12:d,Z=d>=12?"PM":"AM";return`${k}:${de} ${Z}`}catch{return A}},C=A=>A?new Date(A).toLocaleDateString("en-IN",{weekday:"long",year:"numeric",month:"long",day:"numeric"}):"N/A",$=A=>{switch((A||"").toLowerCase()){case"accepted":return{label:"Accepted",color:"#3b82f6",bg:"#dbeafe",icon:Zr};case"in_progress":return{label:"In Progress",color:"#f59e0b",bg:"#fef3c7",icon:Bg};case"awaiting_payment":return{label:"Awaiting Payment",color:"#ec4899",bg:"#fce7f3",icon:Xr};case"pending":return{label:"Pending",color:"#6b7280",bg:"#f3f4f6",icon:Qr};case"completed":return{label:"Completed",color:"#10b981",bg:"#d1fae5",icon:Zr};default:return{label:A||"Unknown",color:"#6b7280",bg:"#f3f4f6",icon:Jr}}},F=A=>{switch((A||"").toLowerCase()){case"paid":return{label:"Paid",color:"#10b981",bg:"#d1fae5"};case"pending":return{label:"Pending",color:"#f59e0b",bg:"#fef3c7"};default:return{label:A||"Pending",color:"#6b7280",bg:"#f3f4f6"}}},T=()=>(r?.paymentStatus||r?.bookingData?.payment_status)==="paid",ee=()=>(r?.paymentStatus||r?.bookingData?.payment_status)==="paid"||r?.bookingStatus==="awaiting_completion",se=()=>{const A=r?.bookingStatus||r?.status;return["pending","accepted","in_progress","awaiting_payment","awaiting_completion"].includes(A)},oe=async()=>{if(!(!ae||L)){D(!0),W("payment"),J("");try{const A=r?.amountValue||r?.bookingData?.payment_amount||r?.bookingData?.service_price_discounted;await xh(r.id,K,ae,A),u&&await u()}catch(A){J(A.message||"Failed to request payment")}finally{D(!1),W(null)}}},G=async()=>{if(!(!ae||L)){D(!0),W("completion"),J("");try{await jh(r.id,K,ae),u&&await u()}catch(A){J(A.message||"Failed to send completion OTP")}finally{D(!1),W(null)}}},P=async()=>{if(!w||parseFloat(w)<=0){J("Please enter a valid amount");return}D(!0);try{await Sh(r.id,K,parseFloat(w),ae),U(!1),N(""),u&&await u()}catch(A){J(A.message||"Failed to record cash payment")}finally{D(!1)}},H=async()=>{if(!(!ae||L)){D(!0),W("start"),J("");try{const A=await dg(r.id,K,ae);A?.booking&&A.booking.service_started_at&&(r.bookingData||(r.bookingData={}),r.bookingData.service_started_at=A.booking.service_started_at),u&&(await u(),setTimeout(()=>{u&&u()},500))}catch(A){J(A.message||"Failed to start service")}finally{D(!1),W(null)}}},re=async()=>{if(!(!ae||L)){D(!0),W("end"),J("");try{const A=await fg(r.id,K,ae);A?.booking&&A.booking.service_ended_at&&(r.bookingData||(r.bookingData={}),r.bookingData.service_ended_at=A.booking.service_ended_at,r.bookingData.service_started_at=A.booking.service_started_at||r.bookingData.service_started_at),u&&(await u(),setTimeout(()=>{u&&u()},500),setTimeout(()=>{u&&u()},2e3))}catch(A){J(A.message||"Failed to end service")}finally{D(!1),W(null)}}},I=()=>{const A=(r?.bookingStatus||r?.status||"").toLowerCase().trim(),ie=r?.bookingData?.service_started_at||r?.service_started_at;console.log(" canStartService check:",{status:A,serviceStarted:ie,bookingStatus:r?.bookingStatus,bookingStatusRaw:r?.status,hasBookingData:!!r?.bookingData,bookingDataKeys:r?.bookingData?Object.keys(r.bookingData):[],fullBooking:r});const d=["completed","cancelled","cancelled_auto"].includes(A),k=!d&&!ie;return console.log(" canStartService result:",k,{isExcluded:d,serviceStarted:ie}),k},B=()=>{const A=r?.bookingStatus||r?.status,ie=r?.bookingData?.service_started_at||r?.service_started_at,de=r?.bookingData?.service_ended_at||r?.service_ended_at;return["in_progress","accepted","awaiting_payment","awaiting_completion"].includes(A)&&ie&&!de},h=$(r?.bookingStatus||r?.status),y=F(r?.paymentStatus||r?.bookingData?.payment_status);return g.useEffect(()=>{const A=I(),ie=B();console.log("BookingDetailPage - Booking data:",{id:r?.id,status:r?.status,bookingStatus:r?.bookingStatus,serviceStarted:r?.bookingData?.service_started_at||r?.service_started_at,serviceEnded:r?.bookingData?.service_ended_at||r?.service_ended_at,canStart:A,canEnd:ie,bookingData:r?.bookingData})},[r]),l.jsxs("div",{className:"booking-detail-page",children:[l.jsxs("header",{className:"booking-detail-header",children:[l.jsx("button",{className:"back-button",onClick:j,children:l.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:l.jsx("path",{d:"M18 12H6M6 12L12 6M6 12L12 18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),l.jsx("h1",{className:"page-title",children:"Booking Details"}),l.jsx("div",{style:{width:"40px"}})]}),l.jsxs("div",{className:"booking-detail-content",children:[l.jsxs("div",{className:"status-section",children:[l.jsxs("div",{className:"status-badge-large",style:{background:h.bg,color:h.color},children:[l.jsx(h.icon,{size:20}),l.jsx("span",{children:h.label})]}),l.jsx("div",{className:"payment-status-badge",style:{background:y.bg,color:y.color},children:y.label})]}),l.jsxs("div",{className:"info-card",children:[l.jsxs("div",{className:"card-header",children:[l.jsx($g,{size:20}),l.jsx("h2",{children:"Customer Information"})]}),l.jsxs("div",{className:"card-content",children:[l.jsxs("div",{className:"info-row",children:[l.jsx("span",{className:"info-label",children:"Name"}),l.jsx("span",{className:"info-value",children:r?.name||"N/A"})]}),l.jsxs("div",{className:"info-row",children:[l.jsx("span",{className:"info-label",children:"Pet"}),l.jsx("span",{className:"info-value",children:r?.petName||"N/A"})]}),l.jsxs("div",{className:"info-row",children:[l.jsx(Kg,{size:16}),l.jsx("span",{className:"info-value",children:r?.bookingData?.contact_number||r?.contact_phone||"N/A"})]}),l.jsxs("div",{className:"info-row",children:[l.jsx(Gg,{size:16}),l.jsx("span",{className:"info-value",children:r?.bookingData?.email||"N/A"})]})]})]}),l.jsxs("div",{className:"info-card",children:[l.jsxs("div",{className:"card-header",children:[l.jsx(Jr,{size:20}),l.jsx("h2",{children:"Service Details"})]}),l.jsxs("div",{className:"card-content",children:[l.jsxs("div",{className:"info-row",children:[l.jsx("span",{className:"info-label",children:"Service"}),l.jsx("span",{className:"info-value",children:r?.service||"N/A"})]}),l.jsxs("div",{className:"info-row",children:[l.jsx(Xr,{size:16}),l.jsx("span",{className:"info-value amount-highlight",children:r?.amount||"0"})]}),r?.bookingData?.slot_type&&l.jsxs("div",{className:"info-row",children:[l.jsx("span",{className:"info-label",children:"Schedule"}),l.jsxs("span",{className:"info-value",children:[r.bookingData.slot_type," (",r.bookingData.completed_sessions||0,"/",r.bookingData.total_sessions," sessions)"]})]})]})]}),l.jsxs("div",{className:"info-card",children:[l.jsxs("div",{className:"card-header",children:[l.jsx(dh,{size:20}),l.jsx("h2",{children:"Location"})]}),l.jsx("div",{className:"card-content",children:l.jsx("div",{className:"info-row full-width",children:l.jsx("span",{className:"info-value",children:r?.address||"N/A"})})})]}),l.jsxs("div",{className:"info-card",children:[l.jsxs("div",{className:"card-header",children:[l.jsx(uh,{size:20}),l.jsx("h2",{children:"Schedule"})]}),l.jsxs("div",{className:"card-content",children:[l.jsxs("div",{className:"info-row",children:[l.jsx(uh,{size:16}),l.jsx("span",{className:"info-value",children:C(r?.bookingData?.preferred_date||r?.appointment?.split("  ")[0])})]}),l.jsxs("div",{className:"info-row",children:[l.jsx(Qr,{size:16}),l.jsx("span",{className:"info-value",children:le(r?.bookingData?.preferred_time||r?.appointment?.split("  ")[1])})]})]})]}),(r?.bookingData?.service_started_at||r?.service_started_at)&&l.jsxs("div",{className:"info-card",children:[l.jsxs("div",{className:"card-header",children:[l.jsx(Qr,{size:20}),l.jsx("h2",{children:"Service Timing"})]}),l.jsxs("div",{className:"card-content",children:[l.jsxs("div",{className:"info-row",children:[l.jsx("span",{className:"info-label",children:"Started At:"}),l.jsx("span",{className:"info-value",style:{color:"#10b981",fontWeight:"600",fontSize:"16px"},children:new Date(r.bookingData?.service_started_at||r?.service_started_at).toLocaleString("en-IN",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0})})]}),(r?.bookingData?.service_ended_at||r?.service_ended_at)&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"info-row",children:[l.jsx("span",{className:"info-label",children:"Ended At:"}),l.jsx("span",{className:"info-value",style:{color:"#ef4444",fontWeight:"600",fontSize:"16px"},children:new Date(r.bookingData?.service_ended_at||r?.service_ended_at).toLocaleString("en-IN",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0})})]}),l.jsxs("div",{className:"info-row",children:[l.jsx("span",{className:"info-label",children:"Total Duration:"}),l.jsx("span",{className:"info-value",style:{fontWeight:"600",fontSize:"16px",color:"#3b82f6"},children:(()=>{const A=new Date(r.bookingData?.service_started_at||r?.service_started_at),de=new Date(r.bookingData?.service_ended_at||r?.service_ended_at).getTime()-A.getTime(),d=Math.floor(de/6e4),k=Math.floor(d/60),Z=d%60;return k>0?`${k} hour${k>1?"s":""} ${Z} minute${Z!==1?"s":""}`:`${Z} minute${Z!==1?"s":""}`})()})]})]})]})]}),(r?.bookingData?.service_ended_at||r?.service_ended_at)&&l.jsxs("div",{className:"info-card",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",border:"2px solid #764ba2"},children:[l.jsxs("div",{className:"card-header",style:{color:"white"},children:[l.jsx(Zr,{size:20}),l.jsx("h2",{style:{color:"white",margin:0},children:"Service Summary"})]}),l.jsxs("div",{className:"card-content",children:[l.jsxs("div",{className:"info-row",style:{marginBottom:"12px"},children:[l.jsx("span",{className:"info-label",style:{color:"rgba(255,255,255,0.9)"},children:"Service Started:"}),l.jsx("span",{className:"info-value",style:{color:"white",fontWeight:"600",fontSize:"16px"},children:new Date(r.bookingData?.service_started_at||r?.service_started_at).toLocaleString("en-IN",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0})})]}),l.jsxs("div",{className:"info-row",style:{marginBottom:"12px"},children:[l.jsx("span",{className:"info-label",style:{color:"rgba(255,255,255,0.9)"},children:"Service Ended:"}),l.jsx("span",{className:"info-value",style:{color:"white",fontWeight:"600",fontSize:"16px"},children:new Date(r.bookingData?.service_ended_at||r?.service_ended_at).toLocaleString("en-IN",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0})})]}),l.jsxs("div",{className:"info-row",style:{marginTop:"16px",paddingTop:"16px",borderTop:"2px solid rgba(255,255,255,0.3)"},children:[l.jsx("span",{className:"info-label",style:{color:"rgba(255,255,255,0.9)",fontSize:"16px"},children:"Total Duration:"}),l.jsx("span",{className:"info-value",style:{fontWeight:"700",fontSize:"18px",color:"#fbbf24",textShadow:"0 1px 2px rgba(0,0,0,0.2)"},children:(()=>{const A=new Date(r.bookingData?.service_started_at||r?.service_started_at),de=new Date(r.bookingData?.service_ended_at||r?.service_ended_at).getTime()-A.getTime(),d=Math.floor(de/6e4),k=Math.floor(d/60),Z=d%60;return k>0?`${k} hour${k>1?"s":""} ${Z} minute${Z!==1?"s":""}`:`${Z} minute${Z!==1?"s":""}`})()})]})]})]}),I()&&l.jsx("div",{className:"info-card",style:{background:"linear-gradient(135deg, #10b981 0%, #059669 100%)",border:"2px solid #10b981",marginBottom:"16px"},children:l.jsxs("div",{className:"card-content",style:{padding:"20px"},children:[l.jsxs("button",{onClick:H,disabled:L&&Y==="start",style:{backgroundColor:"white",color:"#10b981",fontSize:"18px",fontWeight:"700",padding:"16px 32px",width:"100%",borderRadius:"12px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)",display:"flex",alignItems:"center",justifyContent:"center",gap:"12px",border:"none",cursor:L&&Y==="start"?"not-allowed":"pointer",opacity:L&&Y==="start"?.7:1,transition:"all 0.3s ease"},onMouseEnter:A=>{(!L||Y!=="start")&&(A.currentTarget.style.transform="scale(1.02)",A.currentTarget.style.boxShadow="0 6px 16px rgba(0, 0, 0, 0.2)")},onMouseLeave:A=>{A.currentTarget.style.transform="scale(1)",A.currentTarget.style.boxShadow="0 4px 12px rgba(0, 0, 0, 0.15)"},children:[l.jsx(fh,{size:24,fill:"currentColor"}),L&&Y==="start"?"Starting Service...":"Start Service"]}),l.jsx("p",{style:{color:"white",textAlign:"center",marginTop:"12px",fontSize:"14px",opacity:.9},children:"Click to begin the service and record the start time"})]})}),r?.bookingData?.slot_type&&l.jsxs("div",{className:"info-card",children:[l.jsxs("div",{className:"card-header",children:[l.jsx(Jr,{size:20}),l.jsx("h2",{children:"Session Management"})]}),l.jsx("div",{className:"card-content",children:l.jsx(bh,{booking:{id:r.id,slot_type:r.bookingData.slot_type,total_sessions:r.bookingData.total_sessions,completed_sessions:r.bookingData.completed_sessions,sessions:r.sessions||[],admin_approval_status:r.bookingData.admin_approval_status,admin_rejection_reason:r.bookingData.admin_rejection_reason},providerId:K,token:ae,onUpdate:u})})]}),Q&&l.jsx("div",{className:"error-message",children:Q}),l.jsxs("div",{className:"action-buttons-section",children:[I()?l.jsxs("button",{className:"action-button success",onClick:H,disabled:L&&Y==="start",style:{backgroundColor:"#10b981",color:"white",fontSize:"18px",fontWeight:"700",padding:"16px 28px",width:"100%",marginBottom:"12px",borderRadius:"12px",boxShadow:"0 4px 6px rgba(16, 185, 129, 0.3)",display:"flex",alignItems:"center",justifyContent:"center",gap:"10px",border:"none",cursor:L&&Y==="start"?"not-allowed":"pointer",opacity:L&&Y==="start"?.7:1},children:[l.jsx(fh,{size:22}),L&&Y==="start"?"Starting Service...":"Start Service"]}):console.log(" Start Service button NOT showing. canStartService() returned false"),B()&&l.jsxs("button",{className:"action-button danger",onClick:re,disabled:L&&Y==="end",style:{backgroundColor:"#ef4444",fontSize:"16px",fontWeight:"600",padding:"14px 24px"},children:[l.jsx(Xg,{size:20}),L&&Y==="end"?"Ending...":"End Service"]}),se()&&l.jsxs("button",{className:"action-button primary",onClick:()=>S(!0),children:[l.jsx(dh,{size:18}),"View Tracking"]}),r?.bookingData?.payment_method==="cash"&&["in_progress","accepted"].includes(r?.bookingStatus)&&!T()&&l.jsxs("button",{className:"action-button success",onClick:()=>U(!0),children:[l.jsx(Xr,{size:18}),"Record Cash Payment"]}),!T()&&r?.bookingStatus!=="awaiting_payment"&&l.jsx("button",{className:"action-button success",onClick:oe,disabled:L&&Y==="payment",children:L&&Y==="payment"?"Sending...":"Request Payment"}),r?.bookingStatus==="awaiting_payment"&&l.jsx("button",{className:"action-button success",onClick:oe,disabled:L&&Y==="payment",children:L&&Y==="payment"?"Sending...":"Resend Payment Link"}),ee()&&l.jsx("button",{className:"action-button primary",onClick:G,disabled:L&&Y==="completion",children:L&&Y==="completion"?"Processing...":"Complete Service"})]})]}),v&&l.jsx(yh,{booking:r,userData:f,onClose:()=>S(!1)}),O&&l.jsx("div",{className:"modal-overlay",onClick:()=>U(!1),children:l.jsxs("div",{className:"modal-content",onClick:A=>A.stopPropagation(),children:[l.jsx("h3",{children:"Record Cash Payment"}),l.jsxs("div",{className:"modal-input-group",children:[l.jsx("label",{children:"Amount Received ()"}),l.jsx("input",{type:"number",value:w,onChange:A=>N(A.target.value),placeholder:"Enter amount"})]}),l.jsxs("div",{className:"modal-actions",children:[l.jsx("button",{className:"btn-secondary",onClick:()=>U(!1),children:"Cancel"}),l.jsx("button",{className:"btn-primary",onClick:P,disabled:L,children:L?"Recording...":"Submit"})]})]})})]})}const Wg="https://backendpetify.mycartly.in/api";function Pg({booking:r,providerId:f,token:j,userData:u,onBack:v}){const[S,O]=g.useState([]),[U,w]=g.useState(!0),[N,L]=g.useState("");g.useEffect(()=>{r?.id&&(f||u?.token)&&D()},[r?.id,f,u?.token]);const D=async()=>{if(r?.id){w(!0),L("");try{const T=j||u?.token,ee=`${Wg}/provider/sessions/${r.id}?provider_id=${f}`,se=await fetch(ee,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${T}`}}),oe=await se.json().catch(()=>({}));if(!se.ok)throw new Error(oe?.error?.message||oe?.message||"Failed to load sessions");O(oe.sessions||[])}catch(T){console.error("Failed to load sessions:",T),L(T.message||"Failed to load session history")}finally{w(!1)}}},Y=T=>({not_started:{label:"Not Started",class:"status-not-started"},session_started:{label:"In Progress",class:"status-in-progress"},session_completed:{label:"Completed",class:"status-completed"}})[T]||{label:T,class:"status-unknown"},W=T=>{if(!T)return"N/A";try{return new Date(T).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}catch{return T}},Q=T=>{if(!T)return"N/A";try{return new Date(T).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})}catch{return T}},J=S.filter(T=>T.status==="session_completed").length,ae=r?.total_sessions||r?.bookingData?.total_sessions||S.length||0,K=ae-J,le=ae>0?J/ae*100:0,C=Math.floor(J/4),$=Math.ceil(ae/4),F=!U&&!N&&ae===0&&S.length===0;return l.jsxs("div",{className:"booking-report-page",children:[l.jsxs("header",{className:"report-page-header",children:[l.jsx("button",{className:"report-back-button",onClick:v,children:l.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:l.jsx("path",{d:"M15 18L9 12L15 6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),l.jsx("h1",{className:"report-page-title",children:"Booking Report"}),l.jsx("div",{style:{width:"40px"}})]}),l.jsx("div",{className:"report-page-content",children:F?l.jsxs("div",{className:"empty-state",children:[l.jsx("div",{className:"empty-state-icon",children:""}),l.jsx("h3",{children:"No Report Available"}),l.jsx("p",{children:"There are no sessions to display for this booking yet."})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"report-summary-grid",children:[l.jsxs("div",{className:"summary-card",children:[l.jsx("div",{className:"summary-label",children:"Shift Pattern"}),l.jsx("div",{className:"summary-value slot-badge",children:r?.slot_type||r?.bookingData?.slot_type||"N/A"})]}),l.jsxs("div",{className:"summary-card",children:[l.jsx("div",{className:"summary-label",children:"Total Sessions"}),l.jsx("div",{className:"summary-value",children:ae})]}),l.jsxs("div",{className:"summary-card",children:[l.jsx("div",{className:"summary-label",children:"Completed"}),l.jsx("div",{className:"summary-value completed",children:J})]}),l.jsxs("div",{className:"summary-card",children:[l.jsx("div",{className:"summary-label",children:"Remaining"}),l.jsx("div",{className:"summary-value remaining",children:K})]}),l.jsxs("div",{className:"summary-card",children:[l.jsx("div",{className:"summary-label",children:"Months"}),l.jsxs("div",{className:"summary-value",children:[C," / ",$]})]})]}),l.jsxs("div",{className:"progress-section",children:[l.jsxs("div",{className:"progress-header",children:[l.jsx("span",{children:"Overall Progress"}),l.jsxs("span",{className:"progress-percent",children:[Math.round(le),"%"]})]}),l.jsx("div",{className:"progress-bar-container",children:l.jsx("div",{className:"progress-bar-fill",style:{width:`${le}%`}})})]}),l.jsxs("div",{className:"session-list-section",children:[l.jsx("h2",{className:"section-title",children:"Session History"}),U?l.jsx("div",{className:"loading-state",children:"Loading sessions..."}):N?l.jsx("div",{className:"error-state",children:N}):S.length===0?l.jsxs("div",{className:"empty-state",children:[l.jsx("div",{className:"empty-state-icon",children:""}),l.jsx("h3",{children:"No Sessions Yet"}),l.jsx("p",{children:"Sessions will appear here once you start working on this booking."})]}):l.jsx("div",{className:"session-list",children:S.map((T,ee)=>{const se=Y(T.status);return l.jsxs("div",{className:"session-card",children:[l.jsxs("div",{className:"session-card-header",children:[l.jsxs("div",{className:"session-number",children:["Session ",T.session_number||ee+1]}),l.jsx("span",{className:`status-badge ${se.class}`,children:se.label})]}),l.jsxs("div",{className:"session-card-body",children:[l.jsxs("div",{className:"detail-item",children:[l.jsx("span",{className:"detail-label",children:"Scheduled Date:"}),l.jsx("span",{className:"detail-value",children:W(T.session_date)})]}),T.reached_at&&l.jsxs("div",{className:"detail-item",children:[l.jsx("span",{className:"detail-label",children:"Reached At:"}),l.jsxs("span",{className:"detail-value",children:[W(T.reached_at)," ",Q(T.reached_at)]})]}),T.started_at&&l.jsxs("div",{className:"detail-item",children:[l.jsx("span",{className:"detail-label",children:"Started At:"}),l.jsxs("span",{className:"detail-value",children:[W(T.started_at)," ",Q(T.started_at)]})]}),T.ended_at&&l.jsxs("div",{className:"detail-item",children:[l.jsx("span",{className:"detail-label",children:"Ended At:"}),l.jsxs("span",{className:"detail-value",children:[W(T.ended_at)," ",Q(T.ended_at)]})]}),T.notes&&l.jsxs("div",{className:"detail-item notes",children:[l.jsx("span",{className:"detail-label",children:"Notes:"}),l.jsx("span",{className:"detail-value",children:T.notes})]}),T.picture_proof_url&&l.jsxs("div",{className:"detail-item proof",children:[l.jsx("span",{className:"detail-label",children:"Proof:"}),l.jsx("img",{src:T.picture_proof_url,alt:`Session ${T.session_number} proof`,className:"proof-image",onClick:()=>window.open(T.picture_proof_url,"_blank")})]})]})]},T.id||ee)})})]})]})})]})}const Ig="/service-home.png";function ev({onLogout:r,userData:f}){const[j,u]=g.useState("Home"),[v,S]=g.useState(!0),[O,U]=g.useState(!1),[w,N]=g.useState(!1),[L,D]=g.useState(!1),[Y,W]=g.useState(!1),[Q,J]=g.useState(!1),[ae,K]=g.useState(!1),[le,C]=g.useState(null),[$,F]=g.useState(null),[T,ee]=g.useState(0),[se,oe]=g.useState([]),[G,P]=g.useState([]),[H,re]=g.useState(!1),[I,B]=g.useState(""),h=g.useRef([]),y=g.useRef(null),A=f?.token,ie=f?.provider?.id||f?.provider_id,de=te=>{const Ye=[te.service_price_discounted,te.service_price_original,te.payment_amount,te.amount,te.price,te.subcategory?.price,te.subcategory?.amount,te.subcategory?.service?.price,te.subcategory?.service?.price_original,te.service?.price,te.service?.price_original,te.service?.price_discounted,te.service?.amount];for(const qe of Ye)if(!(qe==null||qe===""||qe==="0"||qe===0)){if(typeof qe=="number")return qe;if(typeof qe=="string"){const yt=parseFloat(qe.replace(/[,\s]/g,""));if(!isNaN(yt))return yt}}return null},d=te=>{const Ye=de(te),qe=Ye!==null?`${Ye.toFixed(2).replace(/\.?0+$/,"")}`:"0";return{id:te.id||te.booking_id,customer:te.user_full_name||te.user?.full_name||te.full_name||"Customer",address:te.address||te.user?.address||"Not provided",amount:qe,service:te.service_title||te.service_name||te.subcategory?.name||te.service?.name||"Service",paymentStatus:(te.payment_status||te.paymentStatus||"pending").replace(/_/g," "),paymentAt:te.payment_paid_at||te.paymentPaidAt}},k=te=>te?Array.isArray(te.bookings)?te.bookings:Array.isArray(te.data)?te.data:Array.isArray(te)?te:[]:[],Z=g.useCallback(async()=>{if(!(!A||!ie)){re(!0),B("");try{const[te,Ye]=await Promise.all([Ni(A,ie,"current"),Ni(A,ie,"completed")]),qe=k(te).filter(dt=>["accepted","in_progress","awaiting_payment","awaiting_completion"].includes(dt.status)).slice(0,5).map(d);oe(qe);const yt=k(Ye).filter(dt=>(dt.payment_status||"").toLowerCase()==="paid").slice(0,5).map(d);P(yt)}catch(te){console.error("Failed to load home data:",te),B(te.message||"Failed to load dashboard data")}finally{re(!1)}}},[A,ie]),ne=async()=>{if(!(!A||!ie||!v))try{const te=await Ni(A,ie,"pending"),qe=(te.bookings||te.data||[]).filter(xe=>xe.status==="pending"),yt=new Set(h.current.map(xe=>xe.id||xe.booking_id)),dt=new Set(qe.map(xe=>xe.id||xe.booking_id));if(h.current.length===0){h.current=qe;return}const xt=qe.filter(xe=>{const ze=xe.id||xe.booking_id;return!yt.has(ze)});if(xt.length>0){const xe=xt.length;ee(ze=>ze+xe),console.log(`NEW BOOKING NOTIFICATION: ${xe} new booking(s) detected`)}h.current=qe}catch(te){console.error("Failed to check for new bookings:",te)}};if(g.useEffect(()=>{if(!(!A||!ie))return v&&ne(),Z(),y.current=setInterval(()=>{v&&ne(),Z()},1e4),()=>{y.current&&clearInterval(y.current)}},[A,ie,v]),g.useEffect(()=>{const te=()=>{A&&ie&&v&&ne()},Ye=()=>{!document.hidden&&A&&ie&&v&&ne()};return window.addEventListener("focus",te),document.addEventListener("visibilitychange",Ye),()=>{window.removeEventListener("focus",te),document.removeEventListener("visibilitychange",Ye)}},[A,ie,v]),Y&&$)return l.jsx(Tg,{booking:$,userData:f,onBack:()=>{W(!1),F(null)},onComplete:()=>{W(!1),F(null),U(!0)}});if(Q&&le)return l.jsx(Fg,{booking:le,userData:f,onBack:()=>{J(!1),C(null)},onUpdate:async()=>{}});if(ae&&le)return l.jsx(Pg,{booking:le,providerId:f?.provider?.id||f?.provider_id,token:f?.token,userData:f,onBack:()=>{K(!1),C(null)}});const he=()=>{ee(0),u("Orders"),U(!0),N(!1),D(!1)},ye=()=>{ee(0)},be=()=>{const te=!v;S(te),te?console.log("Booking notifications enabled"):(ee(0),console.log("Booking notifications disabled"))},Xe=te=>{u(te),te==="Orders"?(U(!0),N(!1),D(!1),ee(0)):te==="Account"?(N(!0),U(!1),D(!1)):te==="Withdrawal"?(D(!0),U(!1),N(!1)):te==="Home"&&(U(!1),N(!1),D(!1))};return L?l.jsxs(l.Fragment,{children:[l.jsx(ji,{count:T,onViewBooking:he,onDismiss:ye}),l.jsx(Cg,{onBack:()=>{D(!1),u("Home")},activeNavTab:j,onNavChange:Xe,userData:f})]}):w?l.jsxs(l.Fragment,{children:[l.jsx(ji,{count:T,onViewBooking:he,onDismiss:ye}),l.jsx(Ng,{onBack:()=>{N(!1),u("Home")},activeNavTab:j,onNavChange:Xe,onLogout:r,userData:f})]}):O?l.jsxs(l.Fragment,{children:[l.jsx(ji,{count:T,onViewBooking:he,onDismiss:ye}),l.jsx(gg,{onBack:()=>{U(!1),u("Home")},activeNavTab:j,onNavChange:Xe,onShowOtp:te=>{F(te),W(!0)},onNavigateToBooking:te=>{C(te),J(!0),U(!1)},onNavigateToReport:te=>{C(te),K(!0),U(!1)},userData:f,initialTab:"pending"})]}):l.jsxs(l.Fragment,{children:[l.jsx(ji,{count:T,onViewBooking:he,onDismiss:ye}),l.jsx("div",{className:"service-home-container",children:l.jsxs("div",{className:"service-home-content",children:[l.jsxs("div",{className:"service-home-header",children:[l.jsx("div",{className:"service-home-logo-section",children:l.jsx("img",{src:ca,alt:"Pet Nex Provider Logo",className:"service-logo-icon"})}),l.jsx("button",{className:"service-home-toggle-button",onClick:be,children:l.jsxs("svg",{width:"40",height:"24",viewBox:"0 0 40 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("rect",{x:"2",y:"2",width:"36",height:"20",rx:"10",fill:v?"#FF6B2B":"#CCCCCC"}),l.jsx("circle",{cx:v?30:10,cy:"12",r:"8",fill:"#FFFFFF"})]})})]}),l.jsxs("div",{className:"service-home-greeting",children:[l.jsx("p",{className:"greeting-text",children:"Hello! "}),l.jsx("h2",{className:"user-name",children:f?.name||f?.provider?.full_name||f?.full_name||"Service Provider"})]}),l.jsxs("div",{className:"service-home-stats",children:[l.jsx("button",{className:"stat-card stat-card-left",onClick:()=>U(!0),children:l.jsx("p",{className:"stat-label",children:"Total Orders"})}),l.jsx("div",{className:"stat-card stat-card-right",children:l.jsx("p",{className:"stat-label",children:"Total Revenue"})})]}),l.jsx("div",{className:"service-home-promo",children:l.jsx("img",{src:Ig,alt:"Service Home",className:"service-home-image"})}),l.jsxs("div",{className:"service-home-tables",children:[l.jsxs("div",{className:"table-section",children:[l.jsx("h3",{className:"table-heading",children:"Recent Orders"}),I&&l.jsx("div",{className:"table-error",children:I}),l.jsx("div",{className:"table-container",children:l.jsxs("table",{className:"data-table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Username"}),l.jsx("th",{children:"Address"}),l.jsx("th",{children:"Price"}),l.jsx("th",{children:"Service"})]})}),l.jsx("tbody",{children:H?l.jsx("tr",{children:l.jsx("td",{colSpan:"4",className:"table-empty",children:"Loading..."})}):se.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:"4",className:"table-empty",children:"No recent orders"})}):se.map((te,Ye)=>l.jsxs("tr",{className:Ye%2===1?"highlighted-row":"",children:[l.jsx("td",{children:te.customer}),l.jsx("td",{children:te.address}),l.jsx("td",{children:te.amount}),l.jsx("td",{children:te.service})]},te.id))})]})})]}),l.jsxs("div",{className:"table-section",children:[l.jsx("h3",{className:"table-heading",children:"Transactions"}),l.jsx("div",{className:"table-container",children:l.jsxs("table",{className:"data-table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Username"}),l.jsx("th",{children:"Amount"}),l.jsx("th",{children:"Status"}),l.jsx("th",{children:"Paid At"})]})}),l.jsx("tbody",{children:H?l.jsx("tr",{children:l.jsx("td",{colSpan:"4",className:"table-empty",children:"Loading..."})}):G.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:"4",className:"table-empty",children:"No paid transactions yet"})}):G.map((te,Ye)=>l.jsxs("tr",{className:Ye%2===1?"highlighted-row":"",children:[l.jsx("td",{children:te.customer}),l.jsx("td",{children:te.amount}),l.jsx("td",{children:te.paymentStatus}),l.jsx("td",{children:te.paymentAt?new Date(te.paymentAt).toLocaleDateString():""})]},te.id))})]})})]})]}),l.jsx(as,{activeTab:j,onTabChange:Xe})]})})]})}const $r="provider_registration_data",rt={save:r=>{try{const j={...rt.load()||{},...r};localStorage.setItem($r,JSON.stringify(j))}catch(f){console.error("Failed to save to localStorage:",f)}},load:()=>{try{const r=localStorage.getItem($r);return r?JSON.parse(r):null}catch(r){return console.error("Failed to load from localStorage:",r),null}},clear:()=>{try{localStorage.removeItem($r)}catch(r){console.error("Failed to clear localStorage:",r)}},getStep:r=>rt.load()?.[r]||null},wh="https://backendpetify.mycartly.in/api";async function tv(r){const f=await fetch(`${wh}/provider/register`,{method:"POST",body:r}),j=await f.json().catch(()=>({}));if(!f.ok){const u=j?.error?.message||j?.message||"Registration failed. Please try again.";throw u.toLowerCase().includes("already exists")||u.toLowerCase().includes("already registered")||u.toLowerCase().includes("duplicate")?new Error("An account with this phone number or email already exists. Please use login instead."):new Error(u)}return j}async function av(r,f=null){const j={phone_number:r};f&&f.latitude&&f.longitude&&(j.latitude=f.latitude,j.longitude=f.longitude);const u=await fetch(`${wh}/provider/verify`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(j)}),v=await u.json().catch(()=>({}));if(!u.ok){if(u.status===404||v?.error?.code==="not_found")return null;throw new Error(v?.error?.message||v?.message||"Unable to check verification status right now.")}return v}function nv({onBack:r,onShowHome:f,phoneNumber:j,countryCode:u,verificationData:v}){const[S,O]=g.useState(""),[U,w]=g.useState(""),[N,L]=g.useState(""),[D,Y]=g.useState(""),[W,Q]=g.useState(!1),[J,ae]=g.useState(""),[K,le]=g.useState({}),[C,$]=g.useState({open:!1,status:"pending",title:"",message:"",reason:""}),[F,T]=g.useState(""),[ee,se]=g.useState(!1);g.useEffect(()=>{const H=rt.getStep("bankDetails");H&&(O(H.accountHolderName||""),w(H.bankName||""),L(H.accountNumber||""),Y(H.ifscCode||""))},[]);const oe=async()=>{const H={};if(S.trim()||(H.accountHolderName="Account holder name is required"),U.trim()||(H.bankName="Bank name is required"),N.trim()||(H.accountNumber="Account number is required"),D.trim()||(H.ifscCode="IFSC code is required"),Object.keys(H).length>0){le(H);return}le({}),ae(""),Q(!0);try{const re={accountHolderName:S,bankName:U,accountNumber:N,ifscCode:D};rt.save({bankDetails:re});const I=rt.getStep("userInfo"),B=rt.getStep("verification"),h=rt.getStep("services");if(!I||!B||!h)throw new Error("Missing registration data. Please start from the beginning.");const y=new FormData;y.append("full_name",I.fullName),y.append("phone_number",B.phoneNumber||j||I.phoneNumber),y.append("email",I.email),y.append("gender",I.gender),y.append("address",I.address),y.append("city",I.city),y.append("state",I.state),y.append("account_holder_name",S),y.append("bank_name",U),y.append("account_number",N),y.append("ifsc_code",D);const A=Array.isArray(h.selectedServices)?h.selectedServices:[];if(A.length>0)y.append("services_provided",JSON.stringify(A));else throw new Error("Please select at least one service");v?.profileImage&&v.profileImage instanceof File&&y.append("profile_photo",v.profileImage),v?.aadharFile&&v.aadharFile instanceof File&&y.append("aadhaar_document",v.aadharFile),v?.panFile&&v.panFile instanceof File&&y.append("pan_document",v.panFile),v?.degreeFile&&v.degreeFile instanceof File&&y.append("degree_certificate",v.degreeFile),v?.workImages&&Array.isArray(v.workImages)&&v.workImages.forEach(Z=>{Z instanceof File&&y.append("previous_work_images",Z)});const ie=await tv(y);rt.clear();const de=sh(B.phoneNumber||j||I.phoneNumber,u||"+91");T(de);const k=Pr(ie);$({open:k.type!=="approved",status:k.type,title:k.title,message:k.message||"Registration submitted successfully. We will notify you once it is reviewed.",reason:k.reason}),k.type==="approved"&&f&&f({phoneNumber:de,countryCode:u||"+91"})}catch(re){ae(re.message||"Registration failed. Please try again.")}finally{Q(!1)}},G=async(H=!1)=>{if(F){H||se(!0);try{const re=await av(F,null);if(!re)return;const I=Pr(re);$({open:I.type!=="approved",status:I.type,title:I.title,message:I.message,reason:I.reason}),I.type==="approved"&&f&&f({phoneNumber:F,countryCode:u||"+91"})}catch(re){$(I=>({...I,message:re.message||I.message}))}finally{H||se(!1)}}},P=()=>{$(H=>({...H,open:!1})),rt.clear(),r?.()};return g.useEffect(()=>{if(!C.open||C.status!=="pending"||!F)return;const H=setInterval(()=>{G(!0)},1e4);return()=>clearInterval(H)},[C.open,C.status,F]),l.jsxs("div",{className:"account-verification-container",children:[l.jsx(gh,{isOpen:C.open,status:C.status,title:C.title,message:C.message,reason:C.reason,onClose:()=>{$(H=>({...H,open:!1}))},onApproved:C.status==="approved"?()=>{$(H=>({...H,open:!1})),f&&f({phoneNumber:F||sh(j,u||"+91"),countryCode:u||"+91"})}:void 0,onApplyAgain:C.status==="rejected"?P:void 0,onRefresh:C.status==="pending"?()=>G(!1):void 0,isRefreshing:ee}),l.jsxs("div",{className:"account-verification-content",children:[l.jsxs("div",{className:"account-verification-header",children:[l.jsx("button",{className:"back-button",onClick:r,children:l.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("line",{x1:"18",y1:"12",x2:"6",y2:"12",stroke:"black",strokeWidth:"2",strokeLinecap:"round"}),l.jsx("path",{d:"M6 12L12 6M6 12L12 18",stroke:"black",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),l.jsx("div",{className:"account-verification-logo",children:l.jsx("img",{src:ca,alt:"Pet Nex Provider Logo",className:"logo-icon"})})]}),l.jsxs("div",{className:"account-verification-body",children:[l.jsx("h1",{className:"account-verification-title",children:"Account Verification"}),l.jsxs("div",{className:"account-verification-form",children:[l.jsx("input",{type:"text",placeholder:"Account Holder Name",value:S,onChange:H=>{O(H.target.value),K.accountHolderName&&le(re=>{const I={...re};return delete I.accountHolderName,I})},className:`account-input ${K.accountHolderName?"error":""}`}),K.accountHolderName&&l.jsx("p",{className:"account-error",children:K.accountHolderName}),l.jsx("input",{type:"text",placeholder:"Bank Name",value:U,onChange:H=>{w(H.target.value),K.bankName&&le(re=>{const I={...re};return delete I.bankName,I})},className:`account-input ${K.bankName?"error":""}`}),K.bankName&&l.jsx("p",{className:"account-error",children:K.bankName}),l.jsx("input",{type:"text",placeholder:"Account Number",value:N,onChange:H=>{L(H.target.value),K.accountNumber&&le(re=>{const I={...re};return delete I.accountNumber,I})},className:`account-input ${K.accountNumber?"error":""}`}),K.accountNumber&&l.jsx("p",{className:"account-error",children:K.accountNumber}),l.jsx("input",{type:"text",placeholder:"IFSC Code",value:D,onChange:H=>{Y(H.target.value),K.ifscCode&&le(re=>{const I={...re};return delete I.ifscCode,I})},className:`account-input ${K.ifscCode?"error":""}`}),K.ifscCode&&l.jsx("p",{className:"account-error",children:K.ifscCode})]}),J&&l.jsx("p",{className:"account-error account-error-main",children:J}),l.jsx("button",{className:`save-continue-button ${W?"loading":""}`,onClick:oe,disabled:W,children:W?"Submitting...":"Save & Continue"})]})]})]})}const bi="https://backendpetify.mycartly.in/api";async function lv(){const r=await fetch(`${bi}/admin/categories`,{method:"GET",headers:{"Content-Type":"application/json"}}),f=await r.json().catch(()=>({}));if(!r.ok)throw new Error(f?.error?.message||f?.message||"Failed to fetch categories");return f}async function sv(r){const f=await fetch(`${bi}/admin/services?category_id=${r}`,{method:"GET",headers:{"Content-Type":"application/json"}}),j=await f.json().catch(()=>({}));if(!f.ok)throw new Error(j?.error?.message||j?.message||"Failed to fetch services");return j}function iv({onBack:r,onShowHome:f,phoneNumber:j,countryCode:u,verificationData:v}){const[S,O]=g.useState([]),[U,w]=g.useState({}),[N,L]=g.useState({}),[D,Y]=g.useState([]),[W,Q]=g.useState(!1),[J,ae]=g.useState(""),[K,le]=g.useState(!0),[C,$]=g.useState({});g.useEffect(()=>{const G=rt.getStep("services");if(G?.selectedServices){const P=Array.isArray(G.selectedServices)?G.selectedServices:[];Y(P)}F()},[]);const F=async()=>{try{le(!0);const G=await lv();O(G.categories||[])}catch(G){ae(G.message||"Failed to load categories")}finally{le(!1)}},T=async G=>{if(!U[G])try{$(I=>({...I,[G]:!0}));const P=await sv(G),H=(P.services||[]).filter(I=>!I.deleted_at),re=(P.services||[]).filter(I=>I.deleted_at).map(I=>I.id);re.length>0&&Y(I=>{const B=I.filter(h=>!re.includes(h));return B.length!==I.length&&rt.save({services:{selectedServices:B}}),B}),w(I=>({...I,[G]:H}))}catch(P){ae(P.message||"Failed to load services")}finally{$(P=>({...P,[G]:!1}))}},ee=G=>{L(P=>({...P,[G]:!P[G]})),N[G]||T(G)},se=G=>{Y(P=>{if(P.includes(G)){const H=P.filter(re=>re!==G);return H.length===0?ae("Select at least one service to continue"):ae(""),rt.save({services:{selectedServices:H}}),H}else{ae("");const H=[...P,G];return rt.save({services:{selectedServices:H}}),H}})},oe=()=>{if(D.length===0){ae("Select at least one service to continue");return}Q(!0)};return W?l.jsx(nv,{onBack:()=>Q(!1),onShowHome:G=>{f&&f(G)},phoneNumber:j,countryCode:u,verificationData:{...v,selectedServices:D}}):l.jsx("div",{className:"services-container",children:l.jsxs("div",{className:"services-content",children:[l.jsxs("div",{className:"services-header",children:[l.jsx("button",{className:"back-button",onClick:r,children:l.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("line",{x1:"18",y1:"12",x2:"6",y2:"12",stroke:"black",strokeWidth:"2",strokeLinecap:"round"}),l.jsx("path",{d:"M6 12L12 6M6 12L12 18",stroke:"black",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),l.jsx("div",{className:"services-logo",children:l.jsx("img",{src:ca,alt:"Pet Nex Provider Logo",className:"logo-icon"})})]}),l.jsxs("div",{className:"services-body",children:[l.jsx("h1",{className:"services-title",children:"Services"}),K?l.jsx("div",{className:"services-loading",children:"Loading categories..."}):J&&!S.length?l.jsx("div",{className:"services-error-text",children:J}):l.jsx("div",{className:"categories-list",children:S.map(G=>{const P=N[G.id],H=U[G.id]||[],re=C[G.id],I=G.image_url?G.image_url.startsWith("http")?G.image_url:`${bi}/public/${G.image_url}`:null;return l.jsx("div",{className:"category-item",children:l.jsxs("div",{className:"category-card",children:[l.jsxs("button",{className:"category-header",onClick:()=>ee(G.id),children:[I&&l.jsx("div",{className:"category-image-wrapper",children:l.jsx("img",{src:I,alt:G.name,className:"category-image"})}),l.jsxs("div",{className:"category-content",children:[l.jsx("h3",{className:"category-name",children:G.name}),l.jsx("p",{className:"category-join-text",children:"Join Now"})]}),l.jsx("svg",{className:`category-arrow ${P?"expanded":""}`,width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M6 9L12 15L18 9",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]}),P&&l.jsx("div",{className:"category-services",children:re?l.jsx("div",{className:"services-loading",children:"Loading services..."}):H.length===0?l.jsx("div",{className:"no-services",children:"No services available in this category"}):l.jsx("div",{className:"services-list",children:H.map(B=>{const h=Array.isArray(D)&&D.includes(B.id),y=B.image_url?B.image_url.startsWith("http")?B.image_url:`${bi}/public/${B.image_url}`:null;return l.jsxs("div",{className:`service-item ${h?"selected":""}`,children:[l.jsx("input",{type:"checkbox",checked:h,onChange:()=>se(B.id),className:"service-checkbox"}),l.jsxs("div",{className:"service-card",onClick:()=>se(B.id),children:[y&&l.jsx("div",{className:"service-image-wrapper",children:l.jsx("img",{src:y,alt:B.title,className:"service-image"})}),l.jsxs("div",{className:"service-info",children:[l.jsx("h4",{className:"service-name",children:B.title}),l.jsx("div",{className:"service-pricing",children:B.price_discounted&&B.price_discounted!==B.price_original?l.jsxs(l.Fragment,{children:[l.jsxs("span",{className:"service-price-original strikethrough",children:["",B.price_original]}),l.jsxs("span",{className:"service-price-discounted",children:["",B.price_discounted]})]}):l.jsxs("span",{className:"service-price-discounted",children:["",B.price_original]})}),B.description&&l.jsx("div",{className:"service-description",dangerouslySetInnerHTML:{__html:B.description}})]})]})]},B.id)})})})]})},G.id)})}),J&&S.length>0&&l.jsx("p",{className:"services-error-text",children:J}),l.jsx("button",{className:`services-next-button ${D.length===0?"disabled":""}`,onClick:oe,disabled:D.length===0,children:"Next"})]})]})})}function cv({onBack:r,onShowHome:f,phoneNumber:j,countryCode:u}){const[v,S]=g.useState(!1),[O,U]=g.useState(null),[w,N]=g.useState(j||""),[L,D]=g.useState(null),[Y,W]=g.useState(null),[Q,J]=g.useState(null),[ae,K]=g.useState([]),[le,C]=g.useState(""),[$,F]=g.useState(!1),[T,ee]=g.useState({});g.useEffect(()=>{const B=rt.getStep("verification");B&&B.registrationPhone&&N(B.registrationPhone);const h=rt.getStep("userInfo");if(h?.phoneNumber){const y=h.phoneNumber.replace(/^\+91/,"");N(y)}},[]);const se=[{id:"aadhar",label:"Aadhar Card",file:L,setter:D,removable:!0},{id:"pan",label:"PAN Card",file:Y,setter:W,removable:!0},{id:"degree",label:"Educational Degree Certificate",file:Q,setter:J,removable:!0},{id:"portfolio",label:"Previous Work (Images)",file:ae,setter:K,removable:!1}],oe=B=>{T[B]&&ee(h=>{const y={...h};return delete y[B],y})},G=B=>{const h=B.target.files?.[0];if(h){if(!h.type.startsWith("image/")){ee(y=>({...y,profileImage:"Upload an image file"}));return}U(h),oe("profileImage")}},P=(B,h,y)=>{const A=y.target.files;if(!A?.length)return;if(h==="portfolio"){const d=Array.from(A).filter(he=>he.type.startsWith("image/"));if(!d.length){ee(he=>({...he,[h]:"Image format only"})),y.target.value="";return}const k=Math.max(0,20-ae.length);if(!k){const he="Maximum 20 images can be selected";ee(ye=>({...ye,[h]:he})),C(he),y.target.value="";return}const Z=d.slice(0,k),ne=[...ae,...Z];if(K(ne),d.length>Z.length){const he="Maximum 20 images can be selected";ee(ye=>({...ye,[h]:he})),C(he)}else oe(h),C("");y.target.value="";return}const[ie]=A;if(ie.type!=="application/pdf"){ee(de=>({...de,[h]:"PDF format only"})),y.target.value="";return}B(ie),oe(h),y.target.value=""},H=(B,h)=>{if(h==="portfolio"){B([]),oe(h),C("");return}else B(null);oe(h)},re=B=>{const h=B.target.value.replace(/\D/g,"");h.length<=10&&(N(h),oe("registrationPhone"))},I=()=>{const B={};if(O||(B.profileImage="Profile photo required"),(!w||w.length!==10)&&(B.registrationPhone="Enter 10-digit mobile number"),se.forEach(({id:y,label:A,file:ie})=>{if(y==="portfolio"){ie.length?ie.length>20&&(B[y]="Maximum 20 images can be selected"):B[y]=`${A} required`;return}ie||(B[y]=`${A} required`)}),ee(B),Object.keys(B).length)return;const h={registrationPhone:w,phoneNumber:`${u}${w}`};rt.save({verification:h}),S(!0)};if(v){const B=()=>{const h={registrationPhone:w,phoneNumber:`${u}${w}`,profileImage:O?{name:O.name,size:O.size,type:O.type}:null,aadharFile:L?{name:L.name,size:L.size,type:L.type}:null,panFile:Y?{name:Y.name,size:Y.size,type:Y.type}:null,degreeFile:Q?{name:Q.name,size:Q.size,type:Q.type}:null,portfolioFiles:ae.map(y=>({name:y.name,size:y.size,type:y.type}))};rt.save({verification:h})};return l.jsx(iv,{onBack:()=>{B(),S(!1)},onShowHome:f,phoneNumber:w,countryCode:u,verificationData:{profileImage:O,aadharFile:L,panFile:Y,degreeFile:Q,workImages:ae}})}return l.jsx("div",{className:"verify-page",children:l.jsxs("div",{className:"verify-card",children:[l.jsxs("header",{className:"verify-header",children:[l.jsx("div",{className:"brand-block",children:l.jsx("img",{src:ca,alt:"Pet Nex Provider Logo",className:"brand-mark"})}),l.jsxs("button",{type:"button",className:"icon-button",onClick:()=>F(!0),"aria-label":"Open menu",children:[l.jsx("span",{}),l.jsx("span",{}),l.jsx("span",{})]})]}),$&&l.jsx("div",{className:"verify-menu-overlay",onClick:()=>F(!1),children:l.jsxs("aside",{className:"verify-menu",onClick:B=>B.stopPropagation(),children:[l.jsxs("div",{className:"verify-menu-header",children:[l.jsx("h3",{children:"Menu"}),l.jsx("button",{type:"button",onClick:()=>F(!1),"aria-label":"Close menu",children:l.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("path",{d:"M18 6L6 18",stroke:"#FF6B2B",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M6 6L18 18",stroke:"#FF6B2B",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})})]}),l.jsxs("nav",{className:"verify-menu-list",children:[l.jsx("button",{type:"button",onClick:()=>F(!1),children:"Support"}),l.jsx("button",{type:"button",onClick:()=>F(!1),children:"Shop"}),l.jsx("button",{type:"button",onClick:()=>F(!1),children:"Pet Insurance"}),l.jsx("button",{type:"button",onClick:()=>F(!1),children:"Dog Training"}),l.jsx("button",{type:"button",onClick:()=>F(!1),children:"Privacy & Policy"}),l.jsx("button",{type:"button",onClick:()=>F(!1),children:"Terms & Condition"}),l.jsx("button",{type:"button",onClick:()=>F(!1),children:"Rate Us"}),l.jsx("button",{type:"button",className:"logout",onClick:()=>{F(!1),r?.()},children:"Logout"})]})]})}),l.jsxs("section",{className:"verify-intro",children:[l.jsx("h1",{children:"Verification"}),l.jsx("p",{children:"To ensure the highest quality of care, we require verification of your identity & credentials"})]}),l.jsxs("section",{className:"verify-form",children:[l.jsx("div",{className:"form-label",children:"Register"}),l.jsxs("label",{className:`input-pill ${T.registrationPhone?"has-error":""}`,children:[l.jsx("span",{className:"pill-icon",children:l.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("path",{d:"M3 5H21V19H3V5Z",stroke:"#111111",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M7 9H17",stroke:"#111111",strokeWidth:"1.6",strokeLinecap:"round"}),l.jsx("circle",{cx:"12",cy:"15",r:"1",fill:"#111111"})]})}),l.jsx("input",{type:"tel",inputMode:"numeric",pattern:"[0-9]*",placeholder:"Mobile Number",value:w,onChange:re,maxLength:10})]}),T.registrationPhone&&l.jsx("p",{className:"pill-error",children:T.registrationPhone})]}),l.jsxs("section",{className:"profile-section",children:[l.jsxs("label",{htmlFor:"profile-upload",className:`profile-card ${T.profileImage?"has-error":""}`,children:[l.jsx("span",{className:"profile-image-icon",children:l.jsxs("svg",{width:"36",height:"36",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"6",fill:"#FFC6A6"}),l.jsx("path",{d:"M8.5 13.5L10.75 11.25L13.5 14",stroke:"#FFFFFF",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("circle",{cx:"9.5",cy:"9",r:"1.25",fill:"#FFFFFF"})]})}),l.jsxs("div",{className:"profile-text",children:[l.jsx("h3",{children:"Profile Upload Card"}),l.jsx("p",{children:"Upload Your Profile Picture"})]}),l.jsx("input",{id:"profile-upload",type:"file",accept:"image/*",className:"visually-hidden",onChange:G})]}),O&&l.jsxs("div",{className:"profile-status",children:[l.jsx("span",{children:O.name}),l.jsx("button",{type:"button",onClick:()=>U(null),children:"Remove"})]}),T.profileImage&&l.jsx("p",{className:"pill-error",children:T.profileImage})]}),l.jsxs("section",{className:"documents-section",children:[l.jsx("h2",{children:"Documents Required"}),l.jsx("div",{className:"doc-list",children:se.map(({id:B,label:h,file:y,setter:A,removable:ie})=>{const de=B==="portfolio",d=de?y.length>0:!!y,k=de?`${y.length} image${y.length===1?"":"s"} selected`:y?.name,Z=de?y.map(ne=>ne.name).join(", "):y?.name;return l.jsxs("div",{className:`doc-card ${T[B]?"has-error":""}`,children:[l.jsx("span",{className:"doc-icon",children:l.jsxs("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("rect",{x:"5",y:"3",width:"14",height:"18",rx:"3",fill:"#E6EEF8"}),l.jsx("path",{d:"M9 8H15M9 12H15",stroke:"#265DFF",strokeWidth:"1.6",strokeLinecap:"round"})]})}),l.jsx("span",{className:"doc-label",children:h}),l.jsxs("label",{htmlFor:`${B}-upload`,className:`doc-status-button ${d?"":"empty"} ${de&&ae.length>=20?"disabled":""}`,"aria-disabled":de&&ae.length>=20,children:[d?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"doc-name",title:Z,children:k}),(ie||B==="portfolio")&&l.jsx("button",{type:"button",onClick:ne=>{ne.stopPropagation(),H(A,B)},children:"Remove"})]}):l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"doc-placeholder-text",children:de?"Upload Images":"Upload PDF"}),l.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("path",{d:"M12 5V19",stroke:"#111111",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("path",{d:"M6 11L12 5L18 11",stroke:"#111111",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})]})]}),l.jsx("input",{id:`${B}-upload`,type:"file",accept:de?"image/*":".pdf",multiple:de,className:"visually-hidden",onChange:ne=>P(A,B,ne)})]}),T[B]&&l.jsx("p",{className:"pill-error",children:T[B]})]},B)})}),le&&l.jsx("div",{className:"doc-limit-notification",role:"alert",children:le}),l.jsxs("p",{className:"doc-note",children:["Upload your documents in PDF format. Upload your previous work in image format (1-20 images).",l.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M5 12H19M13 6L19 12L13 18",stroke:"#FF6B2B",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})})]})]}),l.jsx("button",{type:"button",className:"primary-cta",onClick:I,children:"Continue"})]})})}const Fr={"Andhra Pradesh":["Visakhapatnam","Vijayawada","Guntur","Nellore","Kurnool","Rajahmundry","Tirupati","Kakinada","Kadapa","Anantapur","Eluru","Ongole","Nandyal","Machilipatnam","Adoni","Tenali","Chittoor","Hindupur","Proddatur","Bhimavaram","Madanapalle","Guntakal","Dharmavaram","Gudivada","Narasaraopet","Tadipatri","Tadepalligudem","Chilakaluripet","Srikakulam","Bapatla"],"Arunachal Pradesh":["Itanagar","Naharlagun","Pasighat","Tawang","Ziro","Daporijo","Tezu","Roing","Bomdila","Khonsa","Aalo","Namsai","Changlang","Seppa","Yingkiong","Longding","Namsang"],Assam:["Guwahati","Silchar","Dibrugarh","Jorhat","Nagaon","Tinsukia","Tezpur","Sivasagar","Barpeta","Diphu","Karimganj","Goalpara","Bongaigaon","Dhubri","Hailakandi","Lakhimpur","Mangaldoi","Morigaon","Nalbari","North Lakhimpur","Sibsagar","Titabor","Dhekiajuli","Biswanath Chariali","Sualkuchi"],Bihar:["Patna","Gaya","Bhagalpur","Muzaffarpur","Purnia","Darbhanga","Arrah","Begusarai","Katihar","Munger","Chapra","Sasaram","Hajipur","Dehri","Bettiah","Motihari","Sitamarhi","Madhubani","Samastipur","Saharsa","Supaul","Kishanganj","Jamalpur","Buxar","Aurangabad","Jehanabad","Nawada","Gopalganj","Siwan","Bhojpur"],Chhattisgarh:["Raipur","Bhilai","Bilaspur","Korba","Durg","Rajpur","Raigarh","Jagdalpur","Ambikapur","Bhatapara","Dhamtari","Rajnandgaon","Mahasamund","Chirmiri","Kanker","Janjgir","Korba","Dalli-Rajhara","Tilda Newra","Mungeli","Manendragarh","Kawardha","Khairagarh","Gharghoda","Balod"],Goa:["Panaji","Vasco da Gama","Margao","Mapusa","Ponda","Mormugao","Bicholim","Curchorem","Canacona","Quepem","Sanguem","Pernem","Valpoi","Sanvordem","Cuncolim"],Gujarat:["Ahmedabad","Surat","Vadodara","Rajkot","Bhavnagar","Jamnagar","Gandhinagar","Junagadh","Gandhidham","Anand","Nadiad","Surendranagar","Bharuch","Mehsana","Bhuj","Porbandar","Veraval","Navsari","Valsad","Palanpur","Modasa","Palanpur","Patan","Godhra","Dahod","Botad","Ankleshwar","Kalol","Himmatnagar","Morbi"],Haryana:["Faridabad","Gurgaon","Panipat","Ambala","Yamunanagar","Rohtak","Hisar","Karnal","Sonipat","Kurukshetra","Bhiwani","Sirsa","Bahadurgarh","Jind","Kaithal","Palwal","Rewari","Hansi","Narnaul","Thanesar","Fatehabad","Mahendragarh","Jhajjar","Panchkula","Pinjore","Rania","Safidon","Tohana","Narwana","Ellenabad"],"Himachal Pradesh":["Shimla","Mandi","Solan","Dharamshala","Bilaspur","Kullu","Chamba","Hamirpur","Una","Nahan","Sundarnagar","Palampur","Kangra","Kasauli","Manali","Dalhousie","Chamba","Kullu","Solan","Sirmaur","Keylong","Reckong Peo","Kaza","Mandi","Baddi","Parwanoo","Nalagarh","Paonta Sahib"],"Jammu and Kashmir":["Srinagar","Jammu","Anantnag","Baramulla","Sopore","Udhampur","Kathua","Rajouri","Poonch","Doda","Kupwara","Bandipora","Pulwama","Shopian","Kulgam","Budgam","Ganderbal","Samba","Reasi","Ramban","Kishtwar","Kargil","Leh","Handwara","Pattan","Bijbehara","Awantipora","Pampore","Tral","Khanabal"],Jharkhand:["Ranchi","Jamshedpur","Dhanbad","Bokaro","Hazaribagh","Deoghar","Giridih","Ramgarh","Medininagar","Chaibasa","Hazaribagh","Dumka","Phusro","Adityapur","Chatra","Gumla","Lohardaga","Pakur","Simdega","Sahebganj","Jharia","Mango","Tatanagar","Chirkunda","Mugma","Basukinath","Madhupur","Koderma","Jhumri Tilaiya","Latehar"],Karnataka:["Bangalore","Mysore","Hubli","Mangalore","Belgaum","Gulbarga","Davangere","Bellary","Bijapur","Raichur","Shimoga","Tumkur","Udupi","Chitradurga","Kolar","Mandya","Hassan","Bidar","Chamrajnagar","Chikkamagaluru","Gadag","Haveri","Bagalkot","Karwar","Madikeri","Chikkaballapur","Yadgir","Koppal","Vijayapura","Kalaburagi"],Kerala:["Kochi","Thiruvananthapuram","Kozhikode","Thrissur","Malappuram","Kannur","Kollam","Alappuzha","Palakkad","Kottayam","Thrissur","Kochi","Kannur","Kasaragod","Pathanamthitta","Idukki","Wayanad","Ernakulam","Thrissur","Palakkad","Malappuram","Kozhikode","Wayanad","Kannur","Kasaragod","Alappuzha","Kollam","Pathanamthitta","Kottayam","Idukki"],"Madhya Pradesh":["Bhopal","Indore","Gwalior","Jabalpur","Ujjain","Raipur","Satna","Rewa","Katni","Burhanpur","Sagar","Ratlam","Dewas","Singrauli","Murwara","Satna","Morena","Bhind","Guna","Shivpuri","Vidisha","Chhindwara","Khandwa","Harda","Hoshangabad","Itarsi","Sehore","Mandsaur","Neemuch","Shajapur"],Maharashtra:["Mumbai","Pune","Nagpur","Thane","Nashik","Aurangabad","Solapur","Amravati","Kolhapur","Sangli","Jalgaon","Akola","Latur","Ahmednagar","Chandrapur","Parbhani","Ichalkaranji","Jalna","Bhusawal","Panvel","Satara","Beed","Yavatmal","Kamptee","Gondia","Barshi","Achalpur","Osmanabad","Nanded","Wardha"],Manipur:["Imphal","Thoubal","Kakching","Lilong","Mayang Imphal","Churachandpur","Ukhrul","Bishnupur","Tamenglong","Chandel","Senapati","Jiribam","Kangpokpi","Moreh","Wangjing","Moirang","Kakching","Lamlai","Yairipok"],Meghalaya:["Shillong","Tura","Nongstoin","Jowai","Baghmara","Resubelpara","Nongpoh","Williamnagar","Mairang","Mawkyrwat","Nongpoh","Khliehriat","Ampati","Dadenggre","Mawphlang"],Mizoram:["Aizawl","Lunglei","Saiha","Champhai","Kolasib","Serchhip","Lawngtlai","Mamit","Saitual","Khawzawl","Hnahthial","Siaha","Thenzawl","Lunglei","Sairang"],Nagaland:["Dimapur","Kohima","Mokokchung","Tuensang","Wokha","Mon","Zunheboto","Phek","Kiphire","Longleng","Peren","Noklak","Chumukedima","Medziphema","Pfutsero"],Odisha:["Bhubaneswar","Cuttack","Rourkela","Berhampur","Sambalpur","Puri","Baleshwar","Bhadrak","Baripada","Jharsuguda","Bargarh","Balangir","Rayagada","Jeypore","Paradip","Jagatsinghpur","Kendrapara","Bhadrak","Jajpur","Dhenkanal","Angul","Talcher","Barbil","Keonjhar","Phulbani","Kandhamal","Gajapati","Koraput","Malkangiri","Nabarangpur"],Punjab:["Ludhiana","Amritsar","Jalandhar","Patiala","Bathinda","Pathankot","Hoshiarpur","Mohali","Moga","Firozpur","Batala","Abohar","Malerkotla","Khanna","Phagwara","Kapurthala","Sultanpur Lodhi","Dasuya","Mukerian","Nawanshahr","Phillaur","Qadian","Rupnagar","Sangrur","Barnala","Fazilka","Gurdaspur","Mansa","Tarn Taran","Zira"],Rajasthan:["Jaipur","Jodhpur","Kota","Bikaner","Ajmer","Udaipur","Bhilwara","Alwar","Bharatpur","Sikar","Pali","Tonk","Sawai Madhopur","Barmer","Jaisalmer","Churu","Nagaur","Hanumangarh","Sri Ganganagar","Jhalawar","Banswara","Dungarpur","Pratapgarh","Rajsamand","Dholpur","Karauli","Bundi","Chittorgarh","Jalore","Sirohi"],Sikkim:["Gangtok","Namchi","Mangan","Gyalshing","Singtam","Rangpo","Jorethang","Melli","Pakyong","Rhenock","Rongli","Ravangla","Pelling","Lachen","Lachung"],"Tamil Nadu":["Chennai","Coimbatore","Madurai","Tiruchirappalli","Salem","Tirunelveli","Erode","Vellore","Thoothukudi","Dindigul","Thanjavur","Tiruppur","Hosur","Kanchipuram","Nagercoil","Karaikudi","Neyveli","Cuddalore","Tiruvannamalai","Pollachi","Rajapalayam","Sivakasi","Pudukkottai","Vaniyambadi","Tiruchengode","Kumbakonam","Ooty","Coimbatore","Salem","Erode"],Telangana:["Hyderabad","Warangal","Nizamabad","Karimnagar","Khammam","Ramagundam","Mahabubnagar","Adilabad","Nalgonda","Siddipet","Suryapet","Miryalaguda","Jagtial","Kamareddy","Peddapalli","Nirmal","Bellampalle","Bhongir","Bodhan","Huzurabad","Jangaon","Koratla","Mancherial","Medak","Metpally","Narayanpet","Nizamabad","Sangareddy","Vikarabad","Wanaparthy"],Tripura:["Agartala","Udaipur","Dharmanagar","Kailasahar","Belonia","Khowai","Teliamura","Ambassa","Kumarghat","Sabroom","Amarpur","Bishalgarh","Kailashahar","Kamalpur","Khowai","Melaghar","Pratapgarh","Sonamura","Udaipur"],"Uttar Pradesh":["Lucknow","Kanpur","Agra","Varanasi","Allahabad","Meerut","Ghaziabad","Bareilly","Aligarh","Moradabad","Saharanpur","Gorakhpur","Noida","Firozabad","Jhansi","Muzaffarnagar","Mathura","Rampur","Shahjahanpur","Farrukhabad","Fatehpur","Sitapur","Hardoi","Unnao","Raebareli","Etawah","Mainpuri","Budaun","Pilibhit","Lakhimpur"],Uttarakhand:["Dehradun","Haridwar","Roorkee","Haldwani","Rudrapur","Kashipur","Rishikesh","Mussoorie","Nainital","Almora","Pithoragarh","Udham Singh Nagar","Chamoli","Pauri","Tehri","Uttarkashi","Champawat","Bageshwar","Ranikhet","Kotdwar","Srinagar","Joshimath","Badrinath","Kedarnath","Gangotri","Yamunotri"],"West Bengal":["Kolkata","Howrah","Durgapur","Asansol","Siliguri","Bardhaman","Malda","Kharagpur","Ranaghat","Jalpaiguri","Baharampur","Hugli-Chinsurah","Krishnanagar","Bardhaman","English Bazar","Raiganj","Cooch Behar","Alipurduar","Balurghat","Bankura","Barasat","Barrackpore","Basirhat","Bhatpara","Chandannagar","Darjeeling","Diamond Harbour","Dum Dum","Habra","Haldia"],"Andaman and Nicobar Islands":["Port Blair","Car Nicobar","Havelock","Mayabunder","Diglipur","Rangat","Little Andaman","Baratang","Neil Island","Long Island","Hut Bay","Campbell Bay","Bambooflat","Wandoor"],Chandigarh:["Chandigarh","Sector 17","Sector 22","Sector 35","Sector 43","Manimajra"],"Dadra and Nagar Haveli":["Silvassa","Masat","Dadra","Naroli","Khanvel","Amli","Kadaiya","Dudhani"],"Daman and Diu":["Daman","Diu","Nani Daman","Dabhel","Kachigam","Moti Daman"],Delhi:["New Delhi","Delhi","Noida","Gurgaon","Faridabad","Ghaziabad","Greater Noida","Dwarka","Rohini","Pitampura","Laxmi Nagar","Karol Bagh","Connaught Place","Chanakyapuri","Vasant Kunj","Saket","Lajpat Nagar","Hauz Khas","Rajouri Garden"],Lakshadweep:["Kavaratti","Agatti","Amini","Andrott","Kalpeni","Minicoy","Kadmat","Chetlat","Bitra","Kiltan","Bangaram","Kadmat"],Puducherry:["Puducherry","Karaikal","Yanam","Mahe","Ozhukarai","Villianur","Bahour","Nettapakkam","Ariyankuppam"]};function rv({onBack:r,initialData:f,onShowHome:j}){const[u,v]=g.useState(!1),[S,O]=g.useState(f?.fullName||""),[U,w]=g.useState(f?.email||""),[N,L]=g.useState(f?.phoneNumber||""),[D,Y]=g.useState(f?.gender||""),[W,Q]=g.useState(f?.state||""),[J,ae]=g.useState(f?.city||""),[K,le]=g.useState(f?.address||""),[C,$]=g.useState({}),[F,T]=g.useState(!1),[ee,se]=g.useState("");g.useEffect(()=>{const h=rt.getStep("userInfo");h&&(O(h.fullName||""),w(h.email||""),L(h.phoneNumber||""),Y(h.gender||""),Q(h.state||""),ae(h.city||""),le(h.address||""))},[]);const oe=g.useMemo(()=>{const h=new Set;return Object.keys(Fr).filter(y=>{const A=y.trim().toLowerCase();return h.has(A)?!1:(h.add(A),!0)})},[]),G=g.useMemo(()=>{if(!W||!Fr[W])return[];const h=new Set;return Fr[W].filter(y=>{const A=y.trim().toLowerCase();return h.has(A)?!1:(h.add(A),!0)})},[W]),P=h=>{const y=h.target.value;Q(y),ae(""),(C.state||C.city)&&$({...C,state:"",city:""})},H=async h=>{h.preventDefault();const y={};if(S.trim()||(y.fullName="Full name is required"),U.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(U)||(y.email="Please enter a valid email address"):y.email="Email is required",N.trim()?/^\d{10}$/.test(N)||(y.phoneNumber="Enter a valid 10-digit mobile number"):y.phoneNumber="Mobile number is required",D||(y.gender="Gender is required"),W||(y.state="State is required"),J||(y.city="City is required"),K.trim()||(y.address="Address is required"),Object.keys(y).length>0){$(y);return}$({}),se(""),T(!0);try{const A={fullName:S,email:U,phoneNumber:N,gender:D,state:W,city:J,address:K};rt.save({userInfo:A}),T(!1),v(!0)}catch(A){const ie=A.message||"Failed to save data. Please try again.";se(ie),T(!1)}};if(u)return N.startsWith("+")||`${N}`,l.jsx(cv,{onBack:()=>v(!1),onShowHome:j,phoneNumber:N,countryCode:"+91"});const I=!(S.trim()&&U.trim()&&/^\d{10}$/.test(N)&&D&&W&&J&&K.trim())||F,B=F?"Saving...":"Continue";return l.jsx("div",{className:"user-info-container",children:l.jsxs("div",{className:"user-info-content",children:[l.jsx("div",{className:"user-info-header-section",children:l.jsx("button",{className:"user-info-back-button",onClick:r,"aria-label":"Go back",children:l.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("line",{x1:"18",y1:"12",x2:"6",y2:"12",stroke:"black",strokeWidth:"2",strokeLinecap:"round"}),l.jsx("path",{d:"M6 12L12 6M6 12L12 18",stroke:"black",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})})}),l.jsxs("div",{className:"user-info-body",children:[l.jsxs("h1",{className:"user-info-heading",children:["We would love to know ",l.jsx("span",{className:"user-info-heading-orange",children:"about you"})]}),l.jsxs("form",{className:"user-info-form",onSubmit:H,noValidate:!0,children:[l.jsxs("div",{className:"user-info-field",children:[l.jsxs("label",{className:"user-info-label",children:["Full Name",l.jsx("span",{className:"required-star",children:"*"})]}),l.jsx("input",{type:"text",className:`user-info-input ${C.fullName?"error":""}`,placeholder:"Enter your full name",value:S,onChange:h=>{O(h.target.value),C.fullName&&$({...C,fullName:""})}}),C.fullName&&l.jsx("p",{className:"user-info-error",children:C.fullName})]}),l.jsxs("div",{className:"user-info-field",children:[l.jsxs("label",{className:"user-info-label",children:["Email",l.jsx("span",{className:"required-star",children:"*"})]}),l.jsx("input",{type:"email",className:`user-info-input ${C.email?"error":""}`,placeholder:"Enter your email",value:U,onChange:h=>{w(h.target.value),C.email&&$({...C,email:""})}}),C.email&&l.jsx("p",{className:"user-info-error",children:C.email})]}),l.jsxs("div",{className:"user-info-field",children:[l.jsxs("label",{className:"user-info-label",children:["Mobile Number",l.jsx("span",{className:"required-star",children:"*"})]}),l.jsx("input",{type:"tel",inputMode:"numeric",pattern:"[0-9]*",className:`user-info-input ${C.phoneNumber?"error":""}`,placeholder:"Enter your 10-digit mobile number",value:N,maxLength:10,onChange:h=>{const y=h.target.value.replace(/\D/g,"");y.length<=10&&(L(y),C.phoneNumber&&$({...C,phoneNumber:""}))}}),C.phoneNumber&&l.jsx("p",{className:"user-info-error",children:C.phoneNumber})]}),l.jsxs("div",{className:"user-info-field",children:[l.jsxs("label",{className:"user-info-label",children:["Gender",l.jsx("span",{className:"required-star",children:"*"})]}),l.jsxs("div",{className:"user-info-select-wrapper",children:[l.jsxs("select",{className:`user-info-select ${C.gender?"error":""}`,value:D,onChange:h=>{Y(h.target.value),C.gender&&$({...C,gender:""})},children:[l.jsx("option",{value:"",children:"Select gender"}),l.jsx("option",{value:"male",children:"Male"}),l.jsx("option",{value:"female",children:"Female"}),l.jsx("option",{value:"other",children:"Other"})]}),l.jsx("svg",{className:"user-info-select-arrow",width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M3 4.5L6 7.5L9 4.5",stroke:"#666666",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})]}),C.gender&&l.jsx("p",{className:"user-info-error",children:C.gender})]}),l.jsxs("div",{className:"user-info-field",children:[l.jsxs("label",{className:"user-info-label",children:["State",l.jsx("span",{className:"required-star",children:"*"})]}),l.jsxs("div",{className:"user-info-select-wrapper",children:[l.jsxs("select",{className:`user-info-select ${C.state?"error":""}`,value:W,onChange:P,children:[l.jsx("option",{value:"",children:"Select state"}),oe.map(h=>l.jsx("option",{value:h,children:h},h))]}),l.jsx("svg",{className:"user-info-select-arrow",width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M3 4.5L6 7.5L9 4.5",stroke:"#666666",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})]}),C.state&&l.jsx("p",{className:"user-info-error",children:C.state})]}),l.jsxs("div",{className:"user-info-field",children:[l.jsxs("label",{className:"user-info-label",children:["City",l.jsx("span",{className:"required-star",children:"*"})]}),l.jsxs("div",{className:"user-info-select-wrapper",children:[l.jsxs("select",{className:`user-info-select ${C.city?"error":""}`,value:J,onChange:h=>{ae(h.target.value),C.city&&$({...C,city:""})},disabled:!W,children:[l.jsx("option",{value:"",children:"Select city"}),G.map(h=>l.jsx("option",{value:h,children:h},h))]}),l.jsx("svg",{className:"user-info-select-arrow",width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M3 4.5L6 7.5L9 4.5",stroke:"#666666",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})]}),C.city&&l.jsx("p",{className:"user-info-error",children:C.city})]}),l.jsxs("div",{className:"user-info-field",children:[l.jsxs("label",{className:"user-info-label",children:["Address",l.jsx("span",{className:"required-star",children:"*"})]}),l.jsx("input",{type:"text",className:`user-info-input ${C.address?"error":""}`,placeholder:"Enter your address",value:K,onChange:h=>{le(h.target.value),C.address&&$({...C,address:""})}}),C.address&&l.jsx("p",{className:"user-info-error",children:C.address})]}),ee&&l.jsx("p",{className:"user-info-error user-info-server-error",children:ee}),l.jsx("button",{type:"submit",className:`user-info-next-button ${I?"disabled":""}`,disabled:I,children:B})]})]})]})})}function ov({onPermissionGranted:r,onPermissionDenied:f}){const[j,u]=g.useState(!1),[v,S]=g.useState(""),[O,U]=g.useState("");g.useEffect(()=>{w()},[]);const w=()=>{if(!navigator.geolocation){S("Geolocation is not supported by your browser");return}u(!0),S(""),U(""),navigator.geolocation.getCurrentPosition(D=>{U("Location permission granted"),u(!1),r&&r({latitude:D.coords.latitude,longitude:D.coords.longitude})},D=>{u(!1);let Y="Unable to access your location";switch(D.code){case D.PERMISSION_DENIED:Y="Location permission denied. Please enable location access in your browser settings.";break;case D.POSITION_UNAVAILABLE:Y="Location information is unavailable.";break;case D.TIMEOUT:Y="Location request timed out.";break;default:Y="An unknown error occurred while requesting location.";break}S(Y),f&&f(D)},{enableHighAccuracy:!0,timeout:15e3,maximumAge:0})},N=()=>{w()},L=()=>{f&&f({code:"SKIPPED"})};return l.jsx("div",{className:"location-permission-container",children:l.jsxs("div",{className:"location-permission-content",children:[l.jsxs("div",{className:"location-permission-header",children:[l.jsx("div",{className:"location-icon-container",children:l.jsx("svg",{width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M12 2C8.13 2 5 5.13 5 9C5 14.25 12 22 12 22C12 22 19 14.25 19 9C19 5.13 15.87 2 12 2ZM12 11.5C10.62 11.5 9.5 10.38 9.5 9C9.5 7.62 10.62 6.5 12 6.5C13.38 6.5 14.5 7.62 14.5 9C14.5 10.38 13.38 11.5 12 11.5Z",fill:"#FF6B2B"})})}),l.jsx("h1",{className:"location-permission-title",children:"Location Access Required"})]}),l.jsxs("div",{className:"location-permission-body",children:[l.jsx("p",{className:"location-permission-description",children:"To provide the best service experience, we need access to your location."}),l.jsx("p",{className:"location-permission-description",children:"This allows us to connect you with nearby service providers and track service delivery."}),j&&l.jsx("div",{className:"location-permission-loading",children:l.jsx("p",{children:"Requesting location permission..."})}),O&&l.jsx("p",{className:"location-permission-success",children:O}),v&&l.jsxs("div",{className:"location-permission-error",children:[l.jsx("p",{className:"error-message",children:v}),l.jsxs("div",{className:"location-permission-actions",children:[l.jsx("button",{className:"retry-button",onClick:N,children:"Try Again"}),l.jsx("button",{className:"skip-button",onClick:L,children:"Continue Without Location"})]})]}),!v&&!O&&!j&&l.jsx("div",{className:"location-permission-actions",children:l.jsx("button",{className:"skip-button",onClick:L,children:"Continue Without Location"})})]})]})})}const Wr="provider_session_data",Aa={save:r=>{try{localStorage.setItem(Wr,JSON.stringify(r))}catch(f){console.error("Failed to save session to localStorage:",f)}},load:()=>{try{const r=localStorage.getItem(Wr);return r?JSON.parse(r):null}catch(r){return console.error("Failed to load session from localStorage:",r),null}},clear:()=>{try{localStorage.removeItem(Wr)}catch(r){console.error("Failed to clear session from localStorage:",r)}},hasSession:()=>!!Aa.load()},uv="/provider-illustration.svg",hh="https://backendpetify.mycartly.in/api";function dv(){console.log("App component rendering...");const[r,f]=g.useState(!1),[j,u]=g.useState(!1),[v,S]=g.useState(!1),[O,U]=g.useState(!1),[w,N]=g.useState(null),[L,D]=g.useState(null),[Y,W]=g.useState(!0);g.useEffect(()=>{const K=async()=>{try{const C=Aa.load();if(C&&C.token&&C.provider)N(C),S(!0),W(!1);else if(C&&C.token)try{const $=await fetch(`${hh}/provider/verify`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone_number:C.phoneNumber||C.provider?.phone_number})}),F=await $.json().catch(()=>({}));if($.status===404||F?.error?.code==="not_found"){Aa.clear(),W(!1);return}if($.ok&&F.provider){const T={...C,provider:F.provider,token:C.token};N(T),Aa.save(T),S(!0)}else Aa.clear();W(!1)}catch($){console.error("Failed to verify session:",$),Aa.clear(),W(!1)}else W(!1)}catch(C){console.error("Failed to restore session:",C),Aa.clear(),W(!1)}},le=setTimeout(()=>{W(!1)},5e3);K().finally(()=>{clearTimeout(le)})},[]),g.useEffect(()=>{w&&w.token&&Aa.save(w)},[w]);const Q=(K={})=>{D(K),u(!0),f(!1)},J=()=>{Aa.clear(),S(!1),f(!1),u(!1),U(!1),N(null),D(null)},ae=async(K,le)=>{try{await fetch(`${hh}/provider/verify`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone_number:K,latitude:le.latitude,longitude:le.longitude})})}catch(C){console.error("Failed to update provider location:",C)}};return O?l.jsx(ov,{onPermissionGranted:K=>{const le={...w,location:K};N(le),w?.phoneNumber&&ae(w.phoneNumber,K),U(!1),S(!0)},onPermissionDenied:()=>{U(!1),S(!0)}}):v?l.jsx(ev,{userData:w,onLogout:J}):j?l.jsx(rv,{initialData:L,onBack:()=>{u(!1),D(null)},onShowHome:K=>{const le=K?{...w,...K}:w;N(le),u(!1),U(!0)}}):Y?l.jsx("div",{className:"mobile-container",style:{display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#ffffff"},children:l.jsx("div",{style:{fontFamily:"Arial, sans-serif",fontSize:"16px",color:"#333"},children:"Loading..."})}):r?l.jsx(tg,{onBack:()=>f(!1),onLogout:J,onRequireRegistration:K=>{Q({phoneNumber:K})},onShowHome:K=>{const le=K?{...w,...K}:w;N(le),f(!1),U(!0)},userLocation:w?.location}):l.jsxs("div",{className:"mobile-container",children:[l.jsx("header",{className:"header",children:l.jsx("img",{src:ca,alt:"Pet Nex Provider Logo",className:"logo"})}),l.jsxs("div",{className:"content",children:[l.jsx("img",{src:uv,alt:"Service Provider",className:"illustration"}),l.jsx("h2",{className:"main-heading",children:"Join Pet Nex as a Service Provider"}),l.jsx("p",{className:"tagline",children:"Earn money by providing professional pet care services. Connect with pet parents and grow your business."})]}),l.jsxs("div",{className:"action-buttons",children:[l.jsx("button",{className:"btn-login",onClick:()=>{u(!1),D(null),f(!0)},children:"Login"}),l.jsx("button",{className:"btn-register",onClick:()=>{Q({})},children:"Register"})]})]})}const mh=document.getElementById("root");mh?(console.log("Mounting React app..."),Qp.createRoot(mh).render(l.jsx(g.StrictMode,{children:l.jsx(dv,{})}))):console.error("Root element not found!");
